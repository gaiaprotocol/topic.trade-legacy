(()=>{var __webpack_modules__={4354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>a,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>s});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,i=r.fetch.bind(r),a=r.Headers,o=r.Request,l=r.Response},9151:(e,t,n)=>{const r=n(5763),s={};for(const e of Object.keys(r))s[r[e]]=e;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=i;for(const e of Object.keys(i)){if(!("channels"in i[e]))throw new Error("missing channels property: "+e);if(!("labels"in i[e]))throw new Error("missing channel labels property: "+e);if(i[e].labels.length!==i[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=i[e];delete i[e].channels,delete i[e].labels,Object.defineProperty(i[e],"channels",{value:t}),Object.defineProperty(i[e],"labels",{value:n})}i.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(t,n,r),i=Math.max(t,n,r),a=i-s;let o,l;i===s?o=0:t===i?o=(n-r)/a:n===i?o=2+(r-t)/a:r===i&&(o=4+(t-n)/a),o=Math.min(60*o,360),o<0&&(o+=360);const c=(s+i)/2;return l=i===s?0:c<=.5?a/(i+s):a/(2-i-s),[o,100*l,100*c]},i.rgb.hsv=function(e){let t,n,r,s,i;const a=e[0]/255,o=e[1]/255,l=e[2]/255,c=Math.max(a,o,l),h=c-Math.min(a,o,l),u=function(e){return(c-e)/6/h+.5};return 0===h?(s=0,i=0):(i=h/c,t=u(a),n=u(o),r=u(l),a===c?s=r-n:o===c?s=1/3+t-r:l===c&&(s=2/3+n-t),s<0?s+=1:s>1&&(s-=1)),[360*s,100*i,100*c]},i.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const s=i.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[s,100*a,100*r]},i.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(1-t,1-n,1-r);return[100*((1-t-s)/(1-s)||0),100*((1-n-s)/(1-s)||0),100*((1-r-s)/(1-s)||0),100*s]},i.rgb.keyword=function(e){const t=s[e];if(t)return t;let n,i=1/0;for(const t of Object.keys(r)){const s=r[t],l=(o=s,((a=e)[0]-o[0])**2+(a[1]-o[1])**2+(a[2]-o[2])**2);l<i&&(i=l,n=t)}var a,o;return n},i.keyword.rgb=function(e){return r[e]},i.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},i.rgb.lab=function(e){const t=i.rgb.xyz(e);let n=t[0],r=t[1],s=t[2];n/=95.047,r/=100,s/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*r-16,500*(n-r),200*(r-s)]},i.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let s,i,a;if(0===n)return a=255*r,[a,a,a];s=r<.5?r*(1+n):r+n-r*n;const o=2*r-s,l=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,a=6*i<1?o+6*(s-o)*i:2*i<1?s:3*i<2?o+(s-o)*(2/3-i)*6:o,l[e]=255*a;return l},i.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,s=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=i<=1?i:2-i;return[t,100*(0===r?2*s/(i+s):2*n/(r+n)),100*((r+n)/2)]},i.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const s=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),o=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,s){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}},i.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,s=Math.max(r,.01);let i,a;a=(2-n)*r;const o=(2-n)*s;return i=n*s,i/=o<=1?o:2-o,i=i||0,a/=2,[t,100*i,100*a]},i.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const s=n+r;let i;s>1&&(n/=s,r/=s);const a=Math.floor(6*t),o=1-r;i=6*t-a,0!=(1&a)&&(i=1-i);const l=n+i*(o-n);let c,h,u;switch(a){default:case 6:case 0:c=o,h=l,u=n;break;case 1:c=l,h=o,u=n;break;case 2:c=n,h=o,u=l;break;case 3:c=n,h=l,u=o;break;case 4:c=l,h=n,u=o;break;case 5:c=o,h=n,u=l}return[255*c,255*h,255*u]},i.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,s=e[3]/100;return[255*(1-Math.min(1,t*(1-s)+s)),255*(1-Math.min(1,n*(1-s)+s)),255*(1-Math.min(1,r*(1-s)+s))]},i.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let s,i,a;return s=3.2406*t+-1.5372*n+-.4986*r,i=-.9689*t+1.8758*n+.0415*r,a=.0557*t+-.204*n+1.057*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*s,255*i,255*a]},i.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},i.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const s=n**3,i=t**3,a=r**3;return n=s>.008856?s:(n-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},i.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let s;s=360*Math.atan2(r,n)/2/Math.PI,s<0&&(s+=360);return[t,Math.sqrt(n*n+r*r),s]},i.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},i.rgb.ansi16=function(e,t=null){const[n,r,s]=e;let a=null===t?i.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),0===a)return 30;let o=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===a&&(o+=60),o},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},i.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},i.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},i.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},i.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.max(Math.max(t,n),r),i=Math.min(Math.min(t,n),r),a=s-i;let o,l;return o=a<1?i/(1-a):0,l=a<=0?0:s===t?(n-r)/a%6:s===n?2+(r-t)/a:4+(t-n)/a,l/=6,l%=1,[360*l,100*a,100*o]},i.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let s=0;return r<1&&(s=(n-.5*r)/(1-r)),[e[0],100*r,100*s]},i.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],100*r,100*s]},i.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const s=[0,0,0],i=t%1*6,a=i%1,o=1-a;let l=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}return l=(1-n)*r,[255*(n*s[0]+l),255*(n*s[1]+l),255*(n*s[2]+l)]},i.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},i.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},i.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},i.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],100*r,100*s]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=function(e){return[0,0,e[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},4701:(e,t,n)=>{const r=n(9151),s=n(1784),i={};Object.keys(r).forEach((e=>{i[e]={},Object.defineProperty(i[e],"channels",{value:r[e].channels}),Object.defineProperty(i[e],"labels",{value:r[e].labels});const t=s(e);Object.keys(t).forEach((n=>{const r=t[n];i[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),i[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=i},1784:(e,t,n)=>{const r=n(9151);function s(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),s=Object.keys(r[e]);for(let r=s.length,i=0;i<r;i++){const r=s[i],a=t[r];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,n.unshift(r))}}return t}function i(e,t){return function(n){return t(e(n))}}function a(e,t){const n=[t[e].parent,e];let s=r[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)n.unshift(t[a].parent),s=i(r[t[a].parent][a],s),a=t[a].parent;return s.conversion=n,s}e.exports=function(e){const t=s(e),n={},r=Object.keys(t);for(let e=r.length,s=0;s<e;s++){const e=r[s];null!==t[e].parent&&(n[e]=a(e,t))}return n}},5763:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3774:(e,t,n)=>{var r=n(5763),s=n(6152),i=Object.hasOwnProperty,a=Object.create(null);for(var o in r)i.call(r,o)&&(a[r[o]]=o);var l=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function h(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),n="hsl";break;case"hwb":t=l.get.hwb(e),n="hwb";break;default:t=l.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,n,s,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(s=t[2],t=t[1],n=0;n<3;n++){var o=2*n;a[n]=parseInt(t.slice(o,o+2),16)}s&&(a[3]=parseInt(s,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(s=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);s&&(a[3]=parseInt(s+s,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var e=s(arguments);return"#"+h(e[0])+h(e[1])+h(e[2])+(e[3]<1?h(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=s(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=s(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},l.to.hsl=function(){var e=s(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=s(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return a[e.slice(0,3)]}},9406:(e,t,n)=>{const r=n(3774),s=n(4701),i=["keyword","gray","hex"],a={};for(const e of Object.keys(s))a[[...s[e].labels].sort().join("")]=e;const o={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in i&&(t=null),t&&!(t in s))throw new Error("Unknown model: "+t);let n,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=r.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,c=s[this.model].channels,this.color=t.value.slice(0,c),this.valpha="number"==typeof t.value[c]?t.value[c]:1}else if(e.length>0){this.model=t||"rgb",c=s[this.model].channels;const n=Array.prototype.slice.call(e,0,c);this.color=d(n,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[r];const{labels:i}=s[this.model],o=[];for(n=0;n<i.length;n++)o.push(e[i[n]]);this.color=d(o)}if(o[this.model])for(c=s[this.model].channels,n=0;n<c;n++){const e=o[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in r.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to[t.model](n)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=s[this.model],{labels:n}=s[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(c(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:h("rgb",0,u(255)),green:h("rgb",1,u(255)),blue:h("rgb",2,u(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:h("hsl",1,u(100)),lightness:h("hsl",2,u(100)),saturationv:h("hsv",1,u(100)),value:h("hsv",2,u(100)),chroma:h("hcg",1,u(100)),gray:h("hcg",2,u(100)),white:h("hwb",1,u(100)),wblack:h("hwb",2,u(100)),cyan:h("cmyk",0,u(100)),magenta:h("cmyk",1,u(100)),yellow:h("cmyk",2,u(100)),black:h("cmyk",3,u(100)),x:h("xyz",0,u(95.047)),y:h("xyz",1,u(100)),z:h("xyz",2,u(108.833)),l:h("lab",0,u(100)),a:h("lab",1),b:h("lab",2),keyword(e){return void 0!==e?new l(e):s[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):r.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),r.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),s=void 0===t?.5:t,i=2*s-1,a=n.alpha()-r.alpha(),o=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,c=1-o;return l.rgb(o*n.red()+c*r.red(),o*n.green()+c*r.green(),o*n.blue()+c*r.blue(),n.alpha()*s+r.alpha()*(1-s))}};for(const e of Object.keys(s)){if(i.includes(e))continue;const{channels:t}=s[e];l.prototype[e]=function(...t){return this.model===e?new l(this):t.length>0?new l(t,e):new l([...(n=s[this.model][e].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],e);var n},l[e]=function(...n){let r=n[0];return"number"==typeof r&&(r=d(n,t)),new l(r,e)}}function c(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function h(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(o[r]||(o[r]=[]))[t]=n;return e=e[0],function(r){let s;return void 0!==r?(n&&(r=n(r)),s=this[e](),s.color[t]=r,s):(s=this[e]().color[t],n&&(s=n(s)),s)}}function u(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}e.exports=l},6759:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},2543:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var n,r,s=e.length;for(n=0;n<s;n+=1)for(var i in r=e[n].prototype)Object.prototype.hasOwnProperty.call(r,i)&&(t.prototype[i]=r[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,n=this.audios.length;for(t=0;t<n;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var n,r=0,s=[];switch(e){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<t;r+=1)s.push(n);return s}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,n){return"float32"===t?new Float32Array(n):"int16"===t?new Int16Array(n):"uint8c"===t?new Uint8ClampedArray(n):e(t,n)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,n=createSizedArray(e.length),r=e.length;for(t=0;t<r;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,n,r){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,r){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=r<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,n){var r,s,i,a,o,l,c,h;switch(l=n*(1-t),c=n*(1-(o=6*e-(a=Math.floor(6*e)))*t),h=n*(1-(1-o)*t),a%6){case 0:r=n,s=h,i=l;break;case 1:r=c,s=n,i=l;break;case 2:r=l,s=n,i=h;break;case 3:r=l,s=c,i=n;break;case 4:r=h,s=l,i=n;break;case 5:r=n,s=l,i=c}return[r,s,i]}function RGBtoHSV(e,t,n){var r,s=Math.max(e,t,n),i=Math.min(e,t,n),a=s-i,o=0===s?0:a/s,l=s/255;switch(s){case i:r=0;break;case e:r=t-n+a*(t<n?6:0),r/=6*a;break;case t:r=n-e+2*a,r/=6*a;break;case n:r=e-t+4*a,r/=6*a}return[r,o,l]}function addSaturationToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1===t.length?"0"+t:t;return function(e,t,r){return e<0&&(e=0),t<0&&(t=0),r<0&&(r=0),"#"+n[e]+n[t]+n[r]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,n=1,r=[],s={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){s.onmessage({data:e})}};function a(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var n=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),r=URL.createObjectURL(n);return new Worker(r)}return e=t,s}((function(e){if(i.dataManager||(i.dataManager=function(){function e(s,i){var a,o,l,c,h,d,p=s.length;for(o=0;o<p;o+=1)if("ks"in(a=s[o])&&!a.completed){if(a.completed=!0,a.hasMask){var f=a.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)r(f[l].pt.k);else for(d=f[l].pt.k.length,h=0;h<d;h+=1)f[l].pt.k[h].s&&r(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&r(f[l].pt.k[h].e[0])}0===a.ty?(a.layers=t(a.refId,i),e(a.layers,i)):4===a.ty?n(a.shapes):5===a.ty&&u(a)}}function t(e,t){var n=function(e,t){for(var n=0,r=t.length;n<r;){if(t[n].id===e)return t[n];n+=1}return null}(e,t);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function n(e){var t,s,i;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)r(e[t].ks.k);else for(i=e[t].ks.k.length,s=0;s<i;s+=1)e[t].ks.k[s].s&&r(e[t].ks.k[s].s[0]),e[t].ks.k[s].e&&r(e[t].ks.k[s].e[0]);else"gr"===e[t].ty&&n(e[t].it)}function r(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function s(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&null))}var i,a=function(){var e=[4,4,14];function t(e){var t,n,r,s=e.length;for(t=0;t<s;t+=1)5===e[t].ty&&(r=void 0,r=(n=e[t]).t.d,n.t.d={k:[{s:r,t:0}]})}return function(n){if(s(e,n.v)&&(t(n.layers),n.assets)){var r,i=n.assets.length;for(r=0;r<i;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),o=(i=[4,7,99],function(e){if(e.chars&&!s(i,e.v)){var t,r=e.chars.length;for(t=0;t<r;t+=1){var a=e.chars[t];a.data&&a.data.shapes&&(n(a.data.shapes),a.data.ip=0,a.data.op=99999,a.data.st=0,a.data.sr=1,a.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(a.data.shapes.push({ty:"no"}),a.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,n,r=e.length;for(t=0;t<r;t+=1)5===e[t].ty&&(n=void 0,"number"==typeof(n=e[t].t.p).a&&(n.a={a:0,k:n.a}),"number"==typeof n.p&&(n.p={a:0,k:n.p}),"number"==typeof n.r&&(n.r={a:0,k:n.r}))}return function(n){if(s(e,n.v)&&(t(n.layers),n.assets)){var r,i=n.assets.length;for(r=0;r<i;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var n,r,s,i=e.length;for(n=0;n<i;n+=1)if("gr"===e[n].ty)t(e[n].it);else if("fl"===e[n].ty||"st"===e[n].ty)if(e[n].c.k&&e[n].c.k[0].i)for(s=e[n].c.k.length,r=0;r<s;r+=1)e[n].c.k[r].s&&(e[n].c.k[r].s[0]/=255,e[n].c.k[r].s[1]/=255,e[n].c.k[r].s[2]/=255,e[n].c.k[r].s[3]/=255),e[n].c.k[r].e&&(e[n].c.k[r].e[0]/=255,e[n].c.k[r].e[1]/=255,e[n].c.k[r].e[2]/=255,e[n].c.k[r].e[3]/=255);else e[n].c.k[0]/=255,e[n].c.k[1]/=255,e[n].c.k[2]/=255,e[n].c.k[3]/=255}function n(e){var n,r=e.length;for(n=0;n<r;n+=1)4===e[n].ty&&t(e[n].shapes)}return function(t){if(s(e,t.v)&&(n(t.layers),t.assets)){var r,i=t.assets.length;for(r=0;r<i;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var n,r,s;for(n=e.length-1;n>=0;n-=1)if("sh"===e[n].ty)if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(s=e[n].ks.k.length,r=0;r<s;r+=1)e[n].ks.k[r].s&&(e[n].ks.k[r].s[0].c=e[n].closed),e[n].ks.k[r].e&&(e[n].ks.k[r].e[0].c=e[n].closed);else"gr"===e[n].ty&&t(e[n].it)}function n(e){var n,r,s,i,a,o,l=e.length;for(r=0;r<l;r+=1){if((n=e[r]).hasMask){var c=n.masksProperties;for(i=c.length,s=0;s<i;s+=1)if(c[s].pt.k.i)c[s].pt.k.c=c[s].cl;else for(o=c[s].pt.k.length,a=0;a<o;a+=1)c[s].pt.k[a].s&&(c[s].pt.k[a].s[0].c=c[s].cl),c[s].pt.k[a].e&&(c[s].pt.k[a].e[0].c=c[s].cl)}4===n.ty&&t(n.shapes)}}return function(t){if(s(e,t.v)&&(n(t.layers),t.assets)){var r,i=t.assets.length;for(r=0;r<i;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}();function u(e){0===e.t.a.length&&e.t.p}var d={completeData:function(n){n.__complete||(c(n),a(n),o(n),l(n),h(n),e(n.layers,n.assets),function(n,r){if(n){var s=0,i=n.length;for(s=0;s<i;s+=1)1===n[s].t&&(n[s].data.layers=t(n[s].data.refId,r),e(n[s].data.layers,r))}}(n.chars,n.assets),n.__complete=!0)}};return d.checkColors=c,d.checkChars=o,d.checkPathProperties=l,d.checkShapes=h,d.completeLayers=e,d}()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,n,r,s){var i,a=new XMLHttpRequest;try{a.responseType="json"}catch(e){}a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)i=e(a),r(i);else try{i=e(a),r(i)}catch(e){s&&s(e)}};try{a.open(["G","E","T"].join(""),t,!0)}catch(e){a.open(["G","E","T"].join(""),n+"/"+t,!0)}a.send()}}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,n=t.id,s=r[n];r[n]=null,"success"===t.status?s.onComplete(t.payload):s.onError&&s.onError()})}function o(e,t){var s="processId_"+(n+=1);return r[s]={onComplete:e,onError:t},s}return{loadAnimation:function(e,n,r){a();var s=o(n,r);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:s})},loadData:function(e,n,r){a();var s=o(n,r);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:s})},completeAnimation:function(e,n,r){a();var s=o(n,r);t.postMessage({type:"complete",animation:e,id:s})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(e,t,n){var r="";if(e.e)r=e.p;else if(t){var s=e.p;-1!==s.indexOf("images/")&&(s=s.split("/")[1]),r=t+s}else r=n,r+=e.u?e.u:"",r+=e.p;return r}function s(e){var t=0,n=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(n)),t+=1}.bind(this),50)}function i(e){var t={assetData:e},n=r(e,this.assetsPath,this.path);return dataManager.loadData(n,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function a(){this._imageLoaded=t.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(e,t){var n;this.imagesLoadedCb=t;var r=e.length;for(n=0;n<r;n+=1)e[n].layers||(e[n].t&&"seq"!==e[n].t?3===e[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[n]))):(this.totalImages+=1,this.images.push(this._createImageData(e[n]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,n=this.images.length;t<n;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var n=r(t,this.assetsPath,this.path),s=createTag("img");s.crossOrigin="anonymous",s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),s.src=n;var i={img:s,assetData:t};return i},createImageData:function(t){var n=r(t,this.assetsPath,this.path),s=createNS("image");isSafari?this.testImageLoaded(s):s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),s.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(s):this._elementHelper.appendChild(s);var i={img:s,assetData:t};return i},imageLoaded:t,footageLoaded:n,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var n=this._cbs[e],r=0;r<n.length;r+=1)n[r](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var n=0,r=this._cbs[e].length;n<r;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,r-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,n=e.split("\r\n"),r={},s=0,i=0;i<n.length;i+=1)2===(t=n[i].split(":")).length&&(r[t[0]]=t[1].trim(),s+=1);if(0===s)throw new Error;return r}return function(t){for(var n=[],r=0;r<t.length;r+=1){var s=t[r],i={time:s.tm,duration:s.dr};try{i.payload=JSON.parse(t[r].cm)}catch(n){try{i.payload=e(t[r].cm)}catch(e){i.payload={name:t[r].cm}}}n.push(i)}return n}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,n=this.compositions.length;t<n;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var n=getRenderer(t);this.renderer=new n(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var n={wrapper:e,animationData:t},r=e.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var s=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===s?n.loop=!1:"true"===s?n.loop=!0:""!==s&&(n.loop=parseInt(s,10));var i=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==i,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,n,r=this.animationData.layers,s=r.length,i=e.layers,a=i.length;for(n=0;n<a;n+=1)for(t=0;t<s;){if(r[t].id===i[n].id){r[t]=i[n];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(s=e.assets.length,t=0;t<s;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var n="number"==typeof e?e:void 0,r="number"==typeof t?t:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,n=0;n<this.markers.length;n+=1)if((t=this.markers[n]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,n){if(!n||this.name===n){var r=Number(e);if(isNaN(r)){var s=this.getMarkerData(e);s&&this.goToAndStop(s.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,n){if(!n||this.name===n){var r=Number(e);if(isNaN(r)){var s=this.getMarkerData(e);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(r,t,n);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var n,r=e.length;for(n=0;n<r;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,n){try{this.renderer.getElementByPath(e).updateDocumentData(t,n)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],n=0,r=0,s=0,i=!0,a=!1;function o(e){for(var n=0,s=e.target;n<r;)t[n].animation===s&&(t.splice(n,1),n-=1,r-=1,s.isPaused||h()),n+=1}function l(e,n){if(!e)return null;for(var s=0;s<r;){if(t[s].elem===e&&null!==t[s].elem)return t[s].animation;s+=1}var i=new AnimationItem;return u(i,e),i.setData(e,n),i}function c(){s+=1,f()}function h(){s-=1}function u(e,n){e.addEventListener("destroy",o),e.addEventListener("_active",c),e.addEventListener("_idle",h),t.push({elem:n,animation:e}),r+=1}function d(e){var o,l=e-n;for(o=0;o<r;o+=1)t[o].animation.advanceTime(l);n=e,s&&!a?window.requestAnimationFrame(d):i=!0}function p(e){n=e,window.requestAnimationFrame(d)}function f(){!a&&s&&i&&(window.requestAnimationFrame(p),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return u(t,null),t.setParams(e),t},e.setSpeed=function(e,n){var s;for(s=0;s<r;s+=1)t[s].animation.setSpeed(e,n)},e.setDirection=function(e,n){var s;for(s=0;s<r;s+=1)t[s].animation.setDirection(e,n)},e.play=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.play(e)},e.pause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.pause(e)},e.stop=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.stop(e)},e.togglePause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.togglePause(e)},e.searchAnimations=function(e,t,n){var r,s=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=s.length;for(r=0;r<i;r+=1)n&&s[r].setAttribute("data-bm-type",n),l(s[r],e);if(t&&0===i){n||(n="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",n),a.appendChild(o),l(o,e)}},e.resize=function(){var e;for(e=0;e<r;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,n,s){var i;for(i=0;i<r;i+=1)t[i].animation.goToAndStop(e,n,s)},e.destroy=function(e){var n;for(n=r-1;n>=0;n-=1)t[n].animation.destroy(e)},e.freeze=function(){a=!0},e.unfreeze=function(){a=!1,f()},e.setVolume=function(e,n){var s;for(s=0;s<r;s+=1)t[s].animation.setVolume(e,n)},e.mute=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.mute(e)},e.unmute=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r.push(t[e].animation);return r},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,n,r,s,i){var a=i||("bez_"+e+"_"+n+"_"+r+"_"+s).replace(/\./g,"p");if(t[a])return t[a];var o=new h([e,n,r,s]);return t[a]=o,o}},t={},n=11,r=1/(n-1),s="function"==typeof Float32Array;function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function o(e){return 3*e}function l(e,t,n){return((i(t,n)*e+a(t,n))*e+o(t))*e}function c(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+o(t)}function h(e){this._p=e,this._mSampleValues=s?new Float32Array(n):new Array(n),this._precomputed=!1,this.get=this.get.bind(this)}return h.prototype={get:function(e){var t=this._p[0],n=this._p[1],r=this._p[2],s=this._p[3];return this._precomputed||this._precompute(),t===n&&r===s?e:0===e?0:1===e?1:l(this._getTForX(e),n,s)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,e===t&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],s=0;s<n;++s)this._mSampleValues[s]=l(s*r,e,t)},_getTForX:function(e){for(var t=this._p[0],s=this._p[2],i=this._mSampleValues,a=0,o=1,h=n-1;o!==h&&i[o]<=e;++o)a+=r;var u=a+(e-i[--o])/(i[o+1]-i[o])*r,d=c(u,t,s);return d>=.001?function(e,t,n,r){for(var s=0;s<4;++s){var i=c(t,n,r);if(0===i)return t;t-=(l(t,n,r)-e)/i}return t}(e,u,t,s):0===d?u:function(e,t,n,r,s){var i,a,o=0;do{(i=l(a=t+(n-t)/2,r,s)-e)>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<10);return a}(e,a,a+r,t,s)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,n){var r=0,s=e,i=createSizedArray(s);return{newElement:function(){return r?i[r-=1]:t()},release:function(e){r===s&&(i=pooling.double(i),s*=2),n&&n(e),i[r]=e,r+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,n=e.lengths.length;for(t=0;t<n;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,n,r,s,i){var a=e*r+t*s+n*i-s*r-i*e-n*t;return a>-.001&&a<.001}var n=function(e,t,n,r){var s,i,a,o,l,c,h=getDefaultCurveSegments(),u=0,d=[],p=[],f=bezierLengthPool.newElement();for(a=n.length,s=0;s<h;s+=1){for(l=s/(h-1),c=0,i=0;i<a;i+=1)o=bmPow(1-l,3)*e[i]+3*bmPow(1-l,2)*l*n[i]+3*(1-l)*bmPow(l,2)*r[i]+bmPow(l,3)*t[i],d[i]=o,null!==p[i]&&(c+=bmPow(d[i]-p[i],2)),p[i]=d[i];c&&(u+=c=bmSqrt(c)),f.percents[s]=l,f.lengths[s]=u}return f.addedLength=u,f};function r(e){this.segmentLength=0,this.points=new Array(e)}function s(e,t){this.partialLength=e,this.point=t}var i,a=(i={},function(e,n,a,o){var l=(e[0]+"_"+e[1]+"_"+n[0]+"_"+n[1]+"_"+a[0]+"_"+a[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!i[l]){var c,h,u,d,p,f,m,g=getDefaultCurveSegments(),y=0,b=null;2===e.length&&(e[0]!==n[0]||e[1]!==n[1])&&t(e[0],e[1],n[0],n[1],e[0]+a[0],e[1]+a[1])&&t(e[0],e[1],n[0],n[1],n[0]+o[0],n[1]+o[1])&&(g=2);var v=new r(g);for(u=a.length,c=0;c<g;c+=1){for(m=createSizedArray(u),p=c/(g-1),f=0,h=0;h<u;h+=1)d=bmPow(1-p,3)*e[h]+3*bmPow(1-p,2)*p*(e[h]+a[h])+3*(1-p)*bmPow(p,2)*(n[h]+o[h])+bmPow(p,3)*n[h],m[h]=d,null!==b&&(f+=bmPow(m[h]-b[h],2));y+=f=bmSqrt(f),v.points[c]=new s(f,m),b=m}v.segmentLength=y,i[l]=v}return i[l]});function o(e,t){var n=t.percents,r=t.lengths,s=n.length,i=bmFloor((s-1)*e),a=e*t.addedLength,o=0;if(i===s-1||0===i||a===r[i])return n[i];for(var l=r[i]>a?-1:1,c=!0;c;)if(r[i]<=a&&r[i+1]>a?(o=(a-r[i])/(r[i+1]-r[i]),c=!1):i+=l,i<0||i>=s-1){if(i===s-1)return n[i];c=!1}return n[i]+(n[i+1]-n[i])*o}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,r=segmentsLengthPool.newElement(),s=e.c,i=e.v,a=e.o,o=e.i,l=e._length,c=r.lengths,h=0;for(t=0;t<l-1;t+=1)c[t]=n(i[t],i[t+1],a[t],o[t+1]),h+=c[t].addedLength;return s&&l&&(c[t]=n(i[t],i[0],a[t],o[0]),h+=c[t].addedLength),r.totalLength=h,r},getNewSegment:function(t,n,r,s,i,a,c){i<0?i=0:i>1&&(i=1);var h,u=o(i,c),d=o(a=a>1?1:a,c),p=t.length,f=1-u,m=1-d,g=f*f*f,y=u*f*f*3,b=u*u*f*3,v=u*u*u,w=f*f*m,E=u*f*m+f*u*m+f*f*d,k=u*u*m+f*u*d+u*f*d,x=u*u*d,A=f*m*m,_=u*m*m+f*d*m+f*m*d,P=u*d*m+f*d*d+u*m*d,S=u*d*d,C=m*m*m,T=d*m*m+m*d*m+m*m*d,I=d*d*m+m*d*d+d*m*d,O=d*d*d;for(h=0;h<p;h+=1)l[4*h]=e.round(1e3*(g*t[h]+y*r[h]+b*s[h]+v*n[h]))/1e3,l[4*h+1]=e.round(1e3*(w*t[h]+E*r[h]+k*s[h]+x*n[h]))/1e3,l[4*h+2]=e.round(1e3*(A*t[h]+_*r[h]+P*s[h]+S*n[h]))/1e3,l[4*h+3]=e.round(1e3*(C*t[h]+T*r[h]+I*s[h]+O*n[h]))/1e3;return l},getPointInSegment:function(t,n,r,s,i,a){var l=o(i,a),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*r[0]+(l*l*c+c*l*l+l*c*l)*s[0]+l*l*l*n[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*r[1]+(l*l*c+c*l*l+l*c*l)*s[1]+l*l*l*n[1]))/1e3]},buildBezierData:a,pointOnLine2D:t,pointOnLine3D:function(n,r,s,i,a,o,l,c,h){if(0===s&&0===o&&0===h)return t(n,r,i,a,l,c);var u,d=e.sqrt(e.pow(i-n,2)+e.pow(a-r,2)+e.pow(o-s,2)),p=e.sqrt(e.pow(l-n,2)+e.pow(c-r,2)+e.pow(h-s,2)),f=e.sqrt(e.pow(l-i,2)+e.pow(c-a,2)+e.pow(h-o,2));return(u=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&u<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var s,i,a,o,l,c,h,u,d,p=t.lastIndex,f=p,m=this.keyframes.length-1,g=!0;g;){if(s=this.keyframes[f],i=this.keyframes[f+1],f===m-1&&e>=i.t-r){s.h&&(s=i),p=0;break}if(i.t-r>e){p=f;break}f<m-1?f+=1:(p=0,g=!1)}a=this.keyframesMetadata[f]||{};var y,b=i.t-r,v=s.t-r;if(s.to){a.bezierData||(a.bezierData=bez.buildBezierData(s.s,i.s||s.e,s.to,s.ti));var w=a.bezierData;if(e>=b||e<v){var E=e>=b?w.points.length-1:0;for(l=w.points[E].point.length,o=0;o<l;o+=1)n[o]=w.points[E].point[o]}else{a.__fnct?d=a.__fnct:(d=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,a.__fnct=d),c=d((e-v)/(b-v));var k,x=w.segmentLength*c,A=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastAddedLength:0;for(u=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastPoint:0,g=!0,h=w.points.length;g;){if(A+=w.points[u].partialLength,0===x||0===c||u===w.points.length-1){for(l=w.points[u].point.length,o=0;o<l;o+=1)n[o]=w.points[u].point[o];break}if(x>=A&&x<A+w.points[u+1].partialLength){for(k=(x-A)/w.points[u+1].partialLength,l=w.points[u].point.length,o=0;o<l;o+=1)n[o]=w.points[u].point[o]+(w.points[u+1].point[o]-w.points[u].point[o])*k;break}u<h-1?u+=1:g=!1}t._lastPoint=u,t._lastAddedLength=A-w.points[u].partialLength,t._lastKeyframeIndex=f}}else{var _,P,S,C,T;if(m=s.s.length,y=i.s||s.e,this.sh&&1!==s.h)e>=b?(n[0]=y[0],n[1]=y[1],n[2]=y[2]):e<=v?(n[0]=s.s[0],n[1]=s.s[1],n[2]=s.s[2]):quaternionToEuler(n,slerp(createQuaternion(s.s),createQuaternion(y),(e-v)/(b-v)));else for(f=0;f<m;f+=1)1!==s.h&&(e>=b?c=1:e<v?c=0:(s.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[f]?d=a.__fnct[f]:(_=void 0===s.o.x[f]?s.o.x[0]:s.o.x[f],P=void 0===s.o.y[f]?s.o.y[0]:s.o.y[f],S=void 0===s.i.x[f]?s.i.x[0]:s.i.x[f],C=void 0===s.i.y[f]?s.i.y[0]:s.i.y[f],d=BezierFactory.getBezierEasing(_,P,S,C).get,a.__fnct[f]=d)):a.__fnct?d=a.__fnct:(_=s.o.x,P=s.o.y,S=s.i.x,C=s.i.y,d=BezierFactory.getBezierEasing(_,P,S,C).get,s.keyframeMetadata=d),c=d((e-v)/(b-v)))),y=i.s||s.e,T=1===s.h?s.s[f]:s.s[f]+(y[f]-s.s[f])*c,"multidimensional"===this.propType?n[f]=T:n=T}return t.lastIndex=p,n}function slerp(e,t,n){var r,s,i,a,o,l=[],c=e[0],h=e[1],u=e[2],d=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(s=c*p+h*f+u*m+d*g)<0&&(s=-s,p=-p,f=-f,m=-m,g=-g),1-s>1e-6?(r=Math.acos(s),i=Math.sin(r),a=Math.sin((1-n)*r)/i,o=Math.sin(n*r)/i):(a=1-n,o=n),l[0]=a*c+o*p,l[1]=a*h+o*f,l[2]=a*u+o*m,l[3]=a*d+o*g,l}function quaternionToEuler(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],a=Math.atan2(2*r*i-2*n*s,1-2*r*r-2*s*s),o=Math.asin(2*n*r+2*s*i),l=Math.atan2(2*n*i-2*r*s,1-2*n*n-2*s*s);e[0]=a/degToRads,e[1]=o/degToRads,e[2]=l/degToRads}function createQuaternion(e){var t=e[0]*degToRads,n=e[1]*degToRads,r=e[2]*degToRads,s=Math.cos(t/2),i=Math.cos(n/2),a=Math.cos(r/2),o=Math.sin(t/2),l=Math.sin(n/2),c=Math.sin(r/2);return[o*l*a+s*i*c,o*i*a+s*l*c,s*l*a-o*i*c,s*i*a-o*l*c]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&e>=n||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(e,this._caching);this.pv=r}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if("unidimensional"===this.propType)t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var n=0,r=this.v.length;n<r;)t=e[n]*this.mult,mathAbs(this.v[n]-t)>1e-5&&(this.v[n]=t,this._mdf=!0),n+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,n,r){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,n,r){var s;this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i=t.k.length;for(this.v=createTypedArray("float32",i),this.pv=createTypedArray("float32",i),this.vel=createTypedArray("float32",i),s=0;s<i;s+=1)this.v[s]=t.k[s]*this.mult,this.pv[s]=t.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,n,r){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=n||1,this.elem=e,this.container=r,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,n,r){var s;this.propType="multidimensional";var i,a,o,l,c=t.k.length;for(s=0;s<c-1;s+=1)t.k[s].to&&t.k[s].s&&t.k[s+1]&&t.k[s+1].s&&(i=t.k[s].s,a=t.k[s+1].s,o=t.k[s].to,l=t.k[s].ti,(2===i.length&&(i[0]!==a[0]||i[1]!==a[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],i[0]+o[0],i[1]+o[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],a[0]+l[0],a[1]+l[1])||3===i.length&&(i[0]!==a[0]||i[1]!==a[1]||i[2]!==a[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],i[0]+o[0],i[1]+o[1],i[2]+o[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],a[0]+l[0],a[1]+l[1],a[2]+l[2]))&&(t.k[s].to=null,t.k[s].ti=null),i[0]===a[0]&&i[1]===a[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===i.length||i[2]===a[2]&&0===o[2]&&0===l[2])&&(t.k[s].to=null,t.k[s].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=e,this.container=r,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var h=t.k[0].s.length;for(this.v=createTypedArray("float32",h),this.pv=createTypedArray("float32",h),s=0;s<h;s+=1)this.v[s]=initFrame,this.pv[s]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",h)},this.addEffect=addEffect}var PropertyFactory={getProp:function(e,t,n,r,s){var i;if(t.sid&&(t=e.globalData.slotManager.getProp(t)),t.k.length)if("number"==typeof t.k[0])i=new MultiDimensionalProperty(e,t,r,s);else switch(n){case 0:i=new KeyframedValueProperty(e,t,r,s);break;case 1:i=new KeyframedMultidimensionalProperty(e,t,r,s)}else i=new ValueProperty(e,t,r,s);return i.effectsSequence.length&&s.addDynamicProperty(i),i}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,r,s){var i;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[r]||i[r]&&!s)&&(i[r]=pointPool.newElement()),i[r][0]=e,i[r][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,r,s,i,a,o){this.setXYAt(e,t,"v",a,o),this.setXYAt(n,r,"o",a,o),this.setXYAt(s,i,"i",a,o)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,n=this.o,r=this.i,s=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),s=1);var i,a=this._length-1,o=this._length;for(i=s;i<o;i+=1)e.setTripleAt(t[a][0],t[a][1],r[a][0],r[a][1],n[a][0],n[a][1],i,!1),a-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,n=e._length;for(t=0;t<n;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,n=factory.newElement(),r=void 0===e._length?e.v.length:e._length;for(n.setLength(r),n.c=e.c,t=0;t<r;t+=1)n.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,n=e._length;for(t=0;t<n;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,n){var r,s,i,a,o,l,c,h,u,d=n.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)r=p[0].s[0],i=!0,d=0;else if(e>=p[p.length-1].t-this.offsetTime)r=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,y=d,b=p.length-1,v=!0;v&&(f=p[y],!((m=p[y+1]).t-this.offsetTime>e));)y<b-1?y+=1:v=!1;if(g=this.keyframesMetadata[y]||{},d=y,!(i=1===f.h)){if(e>=m.t-this.offsetTime)h=1;else if(e<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}s=m.s?m.s[0]:f.e[0]}r=f.s[0]}for(l=t._length,c=r.i[0].length,n.lastIndex=d,a=0;a<l;a+=1)for(o=0;o<c;o+=1)u=i?r.i[a][o]:r.i[a][o]+(s.i[a][o]-r.i[a][o])*h,t.i[a][o]=u,u=i?r.o[a][o]:r.o[a][o]+(s.o[a][o]-r.o[a][o])*h,t.o[a][o]=u,u=i?r.v[a][o]:r.v[a][o]+(s.v[a][o]-r.v[a][o])*h,t.v[a][o]=u}function n(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,s=this._caching.lastFrame;return s!==e&&(s<n&&t<n||s>r&&t>r)||(this._caching.lastIndex=s<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function r(){this.paths=this.localShapeCollection}function s(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,r=e._length;for(n=0;n<r;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(t=0;t<n;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(e,t,n){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var s=3===n?t.pt.k:t.ks.k;this.v=shapePool.clone(s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function o(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,s,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?s.pt.k:s.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=r,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[n.bind(this)]}a.prototype.interpolateShape=t,a.prototype.getValue=i,a.prototype.setVValue=s,a.prototype.addEffect=o,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=s,l.prototype.addEffect=o;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,s=this.s.v[1]/2,i=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=n-s,a.v[1][0]=i?t+r:t-r,a.v[1][1]=n,a.v[2][0]=t,a.v[2][1]=n+s,a.v[3][0]=i?t-r:t+r,a.v[3][1]=n,a.i[0][0]=i?t-r*e:t+r*e,a.i[0][1]=n-s,a.i[1][0]=i?t+r:t-r,a.i[1][1]=n-s*e,a.i[2][0]=i?t+r*e:t-r*e,a.i[2][1]=n+s,a.i[3][0]=i?t-r:t+r,a.i[3][1]=n+s*e,a.o[0][0]=i?t+r*e:t-r*e,a.o[0][1]=n-s,a.o[1][0]=i?t+r:t-r,a.o[1][1]=n+s*e,a.o[2][0]=i?t-r*e:t+r*e,a.o[2][1]=n+s,a.o[3][0]=i?t-r:t+r,a.o[3][1]=n-s*e}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,n,r,s=2*Math.floor(this.pt.v),i=2*Math.PI/s,a=!0,o=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,u=2*Math.PI*o/(2*s),d=2*Math.PI*l/(2*s),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<s;e+=1){n=a?c:h,r=a?u:d;var m=(t=a?o:l)*Math.cos(p),g=t*Math.sin(p),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),b=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*r*n*f,g-b*r*n*f,m+y*r*n*f,g+b*r*n*f,e,!0),a=!a,p+=i*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,r=this.or.v,s=this.os.v,i=2*Math.PI*r/(4*t),a=.5*-Math.PI,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=r*Math.cos(a),c=r*Math.sin(a),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),u=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*s*o,c-u*i*s*o,l+h*i*s*o,c+u*i*s*o,e,!0),a+=n*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,s=bmMin(n,r,this.r.v),i=s*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-r+s,e+n,t-r+s,e+n,t-r+i,0,!0),this.v.setTripleAt(e+n,t+r-s,e+n,t+r-i,e+n,t+r-s,1,!0),0!==s?(this.v.setTripleAt(e+n-s,t+r,e+n-s,t+r,e+n-i,t+r,2,!0),this.v.setTripleAt(e-n+s,t+r,e-n+i,t+r,e-n+s,t+r,3,!0),this.v.setTripleAt(e-n,t+r-s,e-n,t+r-s,e-n,t+r-i,4,!0),this.v.setTripleAt(e-n,t-r+s,e-n,t-r+i,e-n,t-r+s,5,!0),this.v.setTripleAt(e-n+s,t-r,e-n+s,t-r,e-n+i,t-r,6,!0),this.v.setTripleAt(e+n-s,t-r,e+n-i,t-r,e+n-s,t-r,7,!0)):(this.v.setTripleAt(e-n,t+r,e-n+i,t+r,e-n,t+r,2),this.v.setTripleAt(e-n,t-r,e-n,t-r+i,e-n,t-r,3))):(this.v.setTripleAt(e+n,t-r+s,e+n,t-r+i,e+n,t-r+s,0,!0),0!==s?(this.v.setTripleAt(e+n-s,t-r,e+n-s,t-r,e+n-i,t-r,1,!0),this.v.setTripleAt(e-n+s,t-r,e-n+i,t-r,e-n+s,t-r,2,!0),this.v.setTripleAt(e-n,t-r+s,e-n,t-r+s,e-n,t-r+i,3,!0),this.v.setTripleAt(e-n,t+r-s,e-n,t+r-i,e-n,t+r-s,4,!0),this.v.setTripleAt(e-n+s,t+r,e-n+s,t+r,e-n+i,t+r,5,!0),this.v.setTripleAt(e+n-s,t+r,e+n-i,t+r,e+n-s,t+r,6,!0),this.v.setTripleAt(e+n,t+r-s,e+n,t+r-s,e+n,t+r-i,7,!0)):(this.v.setTripleAt(e-n,t-r,e-n+i,t-r,e-n,t-r,1,!0),this.v.setTripleAt(e-n,t+r,e-n,t+r-i,e-n,t+r,2,!0),this.v.setTripleAt(e+n,t+r,e+n-i,t+r,e+n,t+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],e),e}(),d={getShapeProp:function(e,t,n){var r;return 3===n||4===n?r=(3===n?t.pt:t.ks).k.length?new l(e,t,n):new a(e,t,n):5===n?r=new u(e,t):6===n?r=new c(e,t):7===n&&(r=new h(e,t)),r.k&&e.addDynamicProperty(r),r},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return l}};return d}(),Matrix=function(){var e=Math.cos,t=Math.sin,n=Math.tan,r=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(n){if(0===n)return this;var r=e(n),s=t(n);return this._t(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1)}function a(n){if(0===n)return this;var r=e(n),s=t(n);return this._t(1,0,0,0,0,r,-s,0,0,s,r,0,0,0,0,1)}function o(n){if(0===n)return this;var r=e(n),s=t(n);return this._t(r,0,s,0,0,1,0,0,-s,0,r,0,0,0,0,1)}function l(n){if(0===n)return this;var r=e(n),s=t(n);return this._t(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function h(e,t){return this.shear(n(e),n(t))}function u(r,s){var i=e(s),a=t(s);return this._t(i,a,0,0,-a,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(i,-a,0,0,a,i,0,0,0,0,1,0,0,0,0,1)}function d(e,t,n){return n||0===n||(n=1),1===e&&1===t&&1===n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function p(e,t,n,r,s,i,a,o,l,c,h,u,d,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=r,this.props[4]=s,this.props[5]=i,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function m(e,t,n,r,s,i,a,o,l,c,h,u,d,p,f,m){var g=this.props;if(1===e&&0===t&&0===n&&0===r&&0===s&&1===i&&0===a&&0===o&&0===l&&0===c&&1===h&&0===u)return g[12]=g[12]*e+g[15]*d,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],b=g[1],v=g[2],w=g[3],E=g[4],k=g[5],x=g[6],A=g[7],_=g[8],P=g[9],S=g[10],C=g[11],T=g[12],I=g[13],O=g[14],M=g[15];return g[0]=y*e+b*s+v*l+w*d,g[1]=y*t+b*i+v*c+w*p,g[2]=y*n+b*a+v*h+w*f,g[3]=y*r+b*o+v*u+w*m,g[4]=E*e+k*s+x*l+A*d,g[5]=E*t+k*i+x*c+A*p,g[6]=E*n+k*a+x*h+A*f,g[7]=E*r+k*o+x*u+A*m,g[8]=_*e+P*s+S*l+C*d,g[9]=_*t+P*i+S*c+C*p,g[10]=_*n+P*a+S*h+C*f,g[11]=_*r+P*o+S*u+C*m,g[12]=T*e+I*s+O*l+M*d,g[13]=T*t+I*i+O*c+M*p,g[14]=T*n+I*a+O*h+M*f,g[15]=T*r+I*o+O*u+M*m,this._identityCalculated=!1,this}function g(e){var t=e.props;return this.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function b(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function v(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function w(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function E(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function k(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function x(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function A(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function _(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,n=-this.props[1]/e,r=-this.props[4]/e,s=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,o=new Matrix;return o.props[0]=t,o.props[1]=n,o.props[4]=r,o.props[5]=s,o.props[12]=i,o.props[13]=a,o}function P(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function S(e){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r[t]=P(e[t]);return r}function C(e,t,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=e[0],r[1]=e[1],r[2]=t[0],r[3]=t[1],r[4]=n[0],r[5]=n[1];else{var s=this.props[0],i=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];r[0]=e[0]*s+e[1]*a+l,r[1]=e[0]*i+e[1]*o+c,r[2]=t[0]*s+t[1]*a+l,r[3]=t[0]*i+t[1]*o+c,r[4]=n[0]*s+n[1]*a+l,r[5]=n[0]*i+n[1]*o+c}return r}function T(e,t,n){return this.isIdentity()?[e,t,n]:[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function I(e,t){if(this.isIdentity())return e+","+t;var n=this.props;return Math.round(100*(e*n[0]+t*n[4]+n[12]))/100+","+Math.round(100*(e*n[1]+t*n[5]+n[13]))/100}function O(){for(var e=0,t=this.props,n="matrix3d(";e<16;)n+=r(1e4*t[e])/1e4,n+=15===e?")":",",e+=1;return n}function M(e){return e<1e-6&&e>0||e>-1e-6&&e<0?r(1e4*e)/1e4:e}function D(){var e=this.props;return"matrix("+M(e[0])+","+M(e[1])+","+M(e[4])+","+M(e[5])+","+M(e[12])+","+M(e[13])+")"}return function(){this.reset=s,this.rotate=i,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=h,this.skewFromAxis=u,this.shear=c,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=E,this.applyToX=k,this.applyToY=x,this.applyToZ=A,this.applyToPointArray=T,this.applyToTriplePoints=C,this.applyToPointStringified=I,this.toCSS=O,this.to2dCSS=D,this.clone=v,this.cloneFromProps=w,this.equals=b,this.inversePoints=S,this.inversePoint=P,this.getInverseMatrix=_,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n+=1){var r=t[n].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,n){t[e]||(t[e]=n)},e.getModifier=function(e,n,r){return new t[e](n,r)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,r,s){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var a,o,l=[],c=i.length;for(a=0;a<c;a+=1){var h,u;(o=i[a]).e*s<r||o.s*s>r+n||(h=o.s*s<=r?0:(o.s*s-r)/n,u=o.e*s>=r+n?1:(o.e*s-r)/n,l.push([h,u]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,n,r,s;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(n=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var a=t;t=n,n=a}t=1e-4*Math.round(1e4*t),n=1e-4*Math.round(1e4*n),this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var o,l,c,h,u,d=this.shapes.length,p=0;if(n===t)for(s=0;s<d;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection,this._mdf&&(this.shapes[s].pathsData.length=0);else if(1===n&&0===t||0===n&&1===t){if(this._mdf)for(s=0;s<d;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var f,m,g=[];for(s=0;s<d;s+=1)if((f=this.shapes[s]).shape._mdf||this._mdf||e||2===this.m){if(l=(r=f.shape.paths)._length,u=0,!f.shape._mdf&&f.pathsData.length)u=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)h=bez.getSegmentsLength(r.shapes[o]),c.push(h),u+=h.totalLength;f.totalShapeLength=u,f.pathsData=c}p+=u,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,b=t,v=n,w=0;for(s=d-1;s>=0;s-=1)if((f=this.shapes[s]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(t,n,f.totalShapeLength,w,p),w+=f.totalShapeLength):y=[[b,v]],l=y.length,o=0;o<l;o+=1){b=y[o][0],v=y[o][1],g.length=0,v<=1?g.push({s:f.totalShapeLength*b,e:f.totalShapeLength*v}):b>=1?g.push({s:f.totalShapeLength*(b-1),e:f.totalShapeLength*(v-1)}):(g.push({s:f.totalShapeLength*b,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(v-1)}));var E=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var k=E.pop();this.addPaths(E,m),E=this.addShapes(f,g[1],k)}else this.addPaths(E,m),E=this.addShapes(f,g[1]);this.addPaths(E,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,r,s,i,a){s.setXYAt(t[0],t[1],"o",i),s.setXYAt(n[0],n[1],"i",i+1),a&&s.setXYAt(e[0],e[1],"v",i),s.setXYAt(r[0],r[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,n,r){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),r&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,n){var r,s,i,a,o,l,c,h,u=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(n?(o=n._length,h=n._length):(n=shapePool.newElement(),o=0,h=0),m.push(n),r=0;r<p;r+=1){for(l=u[r].lengths,n.c=d[r].c,i=d[r].c?l.length:l.length+1,s=1;s<i;s+=1)if(f+(a=l[s-1]).addedLength<t.s)f+=a.addedLength,n.c=!1;else{if(f>t.e){n.c=!1;break}t.s<=f&&t.e>=f+a.addedLength?(this.addSegment(d[r].v[s-1],d[r].o[s-1],d[r].i[s],d[r].v[s],n,o,g),g=!1):(c=bez.getNewSegment(d[r].v[s-1],d[r].v[s],d[r].o[s-1],d[r].i[s],(t.s-f)/a.addedLength,(t.e-f)/a.addedLength,l[s-1]),this.addSegmentFromArray(c,n,o,g),g=!1,n.c=!1),f+=a.addedLength,o+=1}if(d[r].c&&l.length){if(a=l[s-1],f<=t.e){var y=l[s-1].addedLength;t.s<=f&&t.e>=f+y?(this.addSegment(d[r].v[s-1],d[r].o[s-1],d[r].i[0],d[r].v[0],n,o,g),g=!1):(c=bez.getNewSegment(d[r].v[s-1],d[r].v[0],d[r].o[s-1],d[r].i[0],(t.s-f)/y,(t.e-f)/y,l[s-1]),this.addSegmentFromArray(c,n,o,g),g=!1,n.c=!1)}else n.c=!1;f+=a.addedLength,o+=1}if(n._length&&(n.setXYAt(n.v[h][0],n.v[h][1],"i",h),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>t.e)break;r<p-1&&(n=shapePool.newElement(),g=!0,m.push(n),o=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var n=t/100,r=[0,0],s=e._length,i=0;for(i=0;i<s;i+=1)r[0]+=e.v[i][0],r[1]+=e.v[i][1];r[0]/=s,r[1]/=s;var a,o,l,c,h,u,d=shapePool.newElement();for(d.c=e.c,i=0;i<s;i+=1)a=e.v[i][0]+(r[0]-e.v[i][0])*n,o=e.v[i][1]+(r[1]-e.v[i][1])*n,l=e.o[i][0]+(r[0]-e.o[i][0])*-n,c=e.o[i][1]+(r[1]-e.o[i][1])*-n,h=e.i[i][0]+(r[0]-e.i[i][0])*-n,u=e.i[i][1]+(r[1]-e.i[i][1])*-n,d.setTripleAt(a,o,l,c,h,u,i);return d},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,n,r,s,i,a,o=this.shapes.length,l=this.amount.v;if(0!==l)for(n=0;n<o;n+=1){if(a=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,s=i.shape.paths._length,r=0;r<s;r+=1)a.addShape(this.processPath(t[r],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,n){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var r,s=t.or.k.length;for(r=0;r<s;r+=1)t.or.k[r].to=null,t.or.k[r].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,s;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),s=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),s=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,s=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],s=[];var i=this.px,a=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(r[0]=i.getValueAtTime((i.keyframes[0].t+.01)/n,0),r[1]=a.getValueAtTime((a.keyframes[0].t+.01)/n,0),s[0]=i.getValueAtTime(i.keyframes[0].t/n,0),s[1]=a.getValueAtTime(a.keyframes[0].t/n,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(r[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/n,0),r[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/n,0),s[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/n,0),s[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/n,0)):(r=[i.pv,a.pv],s[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/n,i.offsetTime),s[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/n,a.offsetTime))}else r=s=e;this.v.rotate(-Math.atan2(r[1]-s[1],r[0]-s[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,n,r){return new t(e,n,r)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,n){return e*(1-n)+t*n}function lerpPoint(e,t,n){return[lerp(e[0],t[0],n),lerp(e[1],t[1],n)]}function quadRoots(e,t,n){if(0===e)return[];var r=t*t-4*e*n;if(r<0)return[];var s=-t/(2*e);if(0===r)return[s];var i=Math.sqrt(r)/(2*e);return[s-i,s+i]}function polynomialCoefficients(e,t,n,r){return[3*t-e-3*n+r,3*e-6*t+3*n,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,n,r,s){s&&pointEqual(e,t)&&(t=lerpPoint(e,r,1/3)),s&&pointEqual(n,r)&&(n=lerpPoint(e,r,2/3));var i=polynomialCoefficients(e[0],t[0],n[0],r[0]),a=polynomialCoefficients(e[1],t[1],n[1],r[1]);this.a=[i[0],a[0]],this.b=[i[1],a[1]],this.c=[i[2],a[2]],this.d=[i[3],a[3]],this.points=[e,t,n,r]}function extrema(e,t){var n=e.points[0][t],r=e.points[e.points.length-1][t];if(n>r){var s=r;r=n,n=s}for(var i=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),a=0;a<i.length;a+=1)if(i[a]>0&&i[a]<1){var o=e.point(i[a])[t];o<n?n=o:o>r&&(r=o)}return{min:n,max:r}}function intersectData(e,t,n){var r=e.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:e,t:(t+n)/2,t1:t,t2:n}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,n,r,s,i){if(boxIntersect(e,t))if(n>=i||e.width<=r&&e.height<=r&&t.width<=r&&t.height<=r)s.push([e.t,t.t]);else{var a=splitData(e),o=splitData(t);intersectsImpl(a[0],o[0],n+1,r,s,i),intersectsImpl(a[0],o[1],n+1,r,s,i),intersectsImpl(a[1],o[0],n+1,r,s,i),intersectsImpl(a[1],o[1],n+1,r,s,i)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,n,r){var s=[e[0],e[1],1],i=[t[0],t[1],1],a=[n[0],n[1],1],o=[r[0],r[1],1],l=crossProduct(crossProduct(s,i),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,n){return[e[0]+Math.cos(t)*n,e[1]-Math.sin(t)*n]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,n,r,s,i,a){var o=n-Math.PI/2,l=n+Math.PI/2,c=t[0]+Math.cos(n)*r*s,h=t[1]-Math.sin(n)*r*s;e.setTripleAt(c,h,c+Math.cos(o)*i,h-Math.sin(o)*i,c+Math.cos(l)*a,h-Math.sin(l)*a,e.length())}function getPerpendicularVector(e,t){var n=[t[0]-e[0],t[1]-e[1]],r=.5*-Math.PI;return[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]]}function getProjectingAngle(e,t){var n=0===t?e.length()-1:t-1,r=(t+1)%e.length(),s=getPerpendicularVector(e.v[n],e.v[r]);return Math.atan2(0,1)-Math.atan2(s[1],s[0])}function zigZagCorner(e,t,n,r,s,i,a){var o=getProjectingAngle(t,n),l=t.v[n%t._length],c=t.v[0===n?t._length-1:n-1],h=t.v[(n+1)%t._length],u=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=2===i?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(e,t.v[n%t._length],o,a,r,d/(2*(s+1)),u/(2*(s+1)),i)}function zigZagSegment(e,t,n,r,s,i){for(var a=0;a<r;a+=1){var o=(a+1)/(r+1),l=2===s?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(o);setPoint(e,t.point(o),c,i,n,l/(2*(r+1)),l/(2*(r+1)),s),i=-i}return i}function linearOffset(e,t,n){var r=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,r,n),polarOffset(t,r,n)]}function offsetSegment(e,t){var n,r,s,i,a,o,l;n=(l=linearOffset(e.points[0],e.points[1],t))[0],r=l[1],s=(l=linearOffset(e.points[1],e.points[2],t))[0],i=l[1],a=(l=linearOffset(e.points[2],e.points[3],t))[0],o=l[1];var c=lineIntersection(n,r,s,i);null===c&&(c=r);var h=lineIntersection(a,o,s,i);return null===h&&(h=a),new PolynomialBezier(n,c,h,o)}function joinLines(e,t,n,r,s){var i=t.points[3],a=n.points[0];if(3===r)return i;if(pointEqual(i,a))return i;if(2===r){var o=-t.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),h=c?pointDistance(c,i):pointDistance(i,a)/2,u=polarOffset(i,o,2*h*roundCorner);return e.setXYAt(u[0],u[1],"o",e.length()-1),u=polarOffset(a,l,2*h*roundCorner),e.setTripleAt(a[0],a[1],a[0],a[1],u[0],u[1],e.length()),a}var d=lineIntersection(pointEqual(i,t.points[2])?t.points[0]:t.points[2],i,a,pointEqual(a,n.points[1])?n.points[3]:n.points[1]);return d&&pointDistance(d,i)<s?(e.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],e.length()),d):i}function getIntersection(e,t){var n=e.intersections(t);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(e,t){var n=e.slice(),r=t.slice(),s=getIntersection(e[e.length-1],t[0]);return s&&(n[e.length-1]=e[e.length-1].split(s[0])[0],r[0]=t[0].split(s[1])[1]),e.length>1&&t.length>1&&(s=getIntersection(e[0],t[t.length-1]))?[[e[0].split(s[0])[0]],[t[t.length-1].split(s[1])[1]]]:[n,r]}function pruneIntersections(e){for(var t,n=1;n<e.length;n+=1)t=pruneSegmentIntersection(e[n-1],e[n]),e[n-1]=t[0],e[n]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var n,r,s,i,a=e.inflectionPoints();if(0===a.length)return[offsetSegment(e,t)];if(1===a.length||floatEqual(a[1],1))return n=(s=e.split(a[0]))[0],r=s[1],[offsetSegment(n,t),offsetSegment(r,t)];n=(s=e.split(a[0]))[0];var o=(a[1]-a[0])/(1-a[0]);return i=(s=s[1].split(o))[0],r=s[1],[offsetSegment(n,t),offsetSegment(i,t),offsetSegment(r,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],n="normal",r="normal",s=t.length,i=0;i<s;i+=1)switch(t[i].toLowerCase()){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:r,weight:e.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,r,s,i){var a=i?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-s),l=r.s.v[1]+(1-r.s.v[1])*(1-s);e.translate(r.p.v[0]*a*s,r.p.v[1]*a*s,r.p.v[2]),t.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),t.rotate(-r.r.v*a*s),t.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(i?1/o:o,i?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,r){for(this.elem=e,this.arr=t,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);n>0;)n-=1,this._elements.unshift(t[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,n,r,s,i,a=!1;if(this._mdf||e){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(i=0,r=0;r<=this._groups.length-1;r+=1){if(o=i<l,this._groups[r]._render=o,this.changeGroupRender(this._groups[r].it,o),!o){var h=this.elemsData[r].it,u=h[h.length-1];0!==u.transform.op.v?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}i+=1}this._currentCopies=l;var d=this.o.v,p=d%1,f=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var b,v,w=0;if(d>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(d<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(r=1===this.data.m?0:this._currentCopies-1,s=1===this.data.m?1:-1,i=this._currentCopies;i;){if(v=(n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==w){for((0!==r&&1===s||r!==this._currentCopies-1&&-1===s)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),b=0;b<v;b+=1)n[b]=this.matrix.props[b];this.matrix.reset()}else for(this.matrix.reset(),b=0;b<v;b+=1)n[b]=this.matrix.props[b];w+=1,i-=1,r+=s}}else for(i=this._currentCopies,r=0,s=1;i;)n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,r+=s;return a},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var n,r=shapePool.newElement();r.c=e.c;var s,i,a,o,l,c,h,u,d,p,f,m,g=e._length,y=0;for(n=0;n<g;n+=1)s=e.v[n],a=e.o[n],i=e.i[n],s[0]===a[0]&&s[1]===a[1]&&s[0]===i[0]&&s[1]===i[1]?0!==n&&n!==g-1||e.c?(o=0===n?e.v[g-1]:e.v[n-1],c=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,t)/l:0,h=f=s[0]+(o[0]-s[0])*c,u=m=s[1]-(s[1]-o[1])*c,d=h-(h-s[0])*roundCorner,p=u-(u-s[1])*roundCorner,r.setTripleAt(h,u,d,p,f,m,y),y+=1,o=n===g-1?e.v[0]:e.v[n+1],c=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,t)/l:0,h=d=s[0]+(o[0]-s[0])*c,u=p=s[1]+(o[1]-s[1])*c,f=h-(h-s[0])*roundCorner,m=u-(u-s[1])*roundCorner,r.setTripleAt(h,u,d,p,f,m,y),y+=1):(r.setTripleAt(s[0],s[1],a[0],a[1],i[0],i[1],y),y+=1):(r.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],y),y+=1);return r},RoundCornersModifier.prototype.processShapes=function(e){var t,n,r,s,i,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<o;n+=1){if(a=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,s=i.shape.paths._length,r=0;r<s;r+=1)a.addShape(this.processPath(t[r],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,n=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[t]:[]:[t-r,t+r].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),n=lerpPoint(this.points[1],this.points[2],e),r=lerpPoint(this.points[2],this.points[3],e),s=lerpPoint(t,n,e),i=lerpPoint(n,r,e),a=lerpPoint(s,i,e);return[new PolynomialBezier(this.points[0],t,s,a,!0),new PolynomialBezier(a,i,r,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,r,n),r},PolynomialBezier.shapeSegment=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[n],e.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[n],e.i[n],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,n,r){var s=e._length,i=shapePool.newElement();if(i.c=e.c,e.c||(s-=1),0===s)return i;var a=-1,o=PolynomialBezier.shapeSegment(e,0);zigZagCorner(i,e,0,t,n,r,a);for(var l=0;l<s;l+=1)a=zigZagSegment(i,o,t,n,r,-a),o=l!==s-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%s):null,zigZagCorner(i,e,l+1,t,n,r,a);return i},ZigZagModifier.prototype.processShapes=function(e){var t,n,r,s,i,a,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(n=0;n<o;n+=1){if(a=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,s=i.shape.paths._length,r=0;r<s;r+=1)a.addShape(this.processPath(t[r],l,c,h));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,n,r){var s=shapePool.newElement();s.c=e.c;var i,a,o,l=e.length();e.c||(l-=1);var c=[];for(i=0;i<l;i+=1)o=PolynomialBezier.shapeSegment(e,i),c.push(offsetSegmentSplit(o,t));if(!e.c)for(i=l-1;i>=0;i-=1)o=PolynomialBezier.shapeSegmentInverted(e,i),c.push(offsetSegmentSplit(o,t));c=pruneIntersections(c);var h=null,u=null;for(i=0;i<c.length;i+=1){var d=c[i];for(u&&(h=joinLines(s,u,d[0],n,r)),u=d[d.length-1],a=0;a<d.length;a+=1)o=d[a],h&&pointEqual(o.points[0],h)?s.setXYAt(o.points[1][0],o.points[1][1],"o",s.length()-1):s.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],s.length()),s.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],s.length()),h=o.points[3]}return c.length&&joinLines(s,u,c[0][0],n,r),s},OffsetPathModifier.prototype.processShapes=function(e){var t,n,r,s,i,a,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(n=0;n<o;n+=1){if(a=(i=this.shapes[n]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,s=i.shape.paths._length,r=0;r<s;r+=1)a.addShape(this.processPath(t[r],l,h,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,r=127462,s=127487,i=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function a(e,t){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=t;var r=createTag("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var s=r.offsetWidth;return r.style.fontFamily=function(e){var t,n=e.split(","),r=n.length,s=[];for(t=0;t<r;t+=1)"sans-serif"!==n[t]&&"monospace"!==n[t]&&s.push(n[t]);return s.join(",")}(e)+", "+t,{node:r,w:s,parent:n}}function o(e,t){var n,r=document.body&&t?"svg":"canvas",s=getFontProperties(e);if("svg"===r){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",s.style),i.setAttribute("font-weight",s.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),n=i}else{var a=new OffscreenCanvas(500,500).getContext("2d");a.font=s.style+" "+s.weight+" 100px "+e.fFamily,n=a}return{measureText:function(e){return"svg"===r?(n.textContent=e,n.getComputedTextLength()):n.measureText(e).width}}}function l(e){var t=0,n=e.charCodeAt(0);if(n>=55296&&n<=56319){var r=e.charCodeAt(1);r>=56320&&r<=57343&&(t=1024*(n-55296)+r-56320+65536)}return t}function c(e){var t=l(e);return t>=r&&t<=s}var h=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};h.isModifier=function(e,t){var n=e.toString(16)+t.toString(16);return-1!==i.indexOf(n)},h.isZeroWidthJoiner=function(e){return 8205===e},h.isFlagEmoji=function(e){return c(e.substr(0,2))&&c(e.substr(2,2))},h.isRegionalCode=c,h.isCombinedCharacter=function(e){return-1!==t.indexOf(e)},h.isRegionalFlag=function(e,t){var r=l(e.substr(t,2));if(r!==n)return!1;var s=0;for(t+=2;s<5;){if((r=l(e.substr(t,2)))<917601||r>917626)return!1;s+=1,t+=2}return 917631===l(e.substr(t,2))},h.isVariationSelector=function(e){return 65039===e},h.BLACK_FLAG_CODE_POINT=n;var u={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var n,r,s=e.length,i=this.chars.length;for(t=0;t<s;t+=1){for(n=0,r=!1;n<i;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(r=!0),n+=1;r||(this.chars.push(e[t]),i+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=o(e),e.cache={}})),void(this.fonts=e.list);var n,r=e.list,s=r.length,i=s;for(n=0;n<s;n+=1){var l,c,h=!0;if(r[n].loaded=!1,r[n].monoCase=a(r[n].fFamily,"monospace"),r[n].sansCase=a(r[n].fFamily,"sans-serif"),r[n].fPath){if("p"===r[n].fOrigin||3===r[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+r[n].fFamily+'"], style[f-origin="3"][f-family="'+r[n].fFamily+'"]')).length>0&&(h=!1),h){var u=createTag("style");u.setAttribute("f-forigin",r[n].fOrigin),u.setAttribute("f-origin",r[n].origin),u.setAttribute("f-family",r[n].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+r[n].fFamily+"; font-style: normal; src: url('"+r[n].fPath+"');}",t.appendChild(u)}}else if("g"===r[n].fOrigin||1===r[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(r[n].fPath)&&(h=!1);if(h){var d=createTag("link");d.setAttribute("f-forigin",r[n].fOrigin),d.setAttribute("f-origin",r[n].origin),d.type="text/css",d.rel="stylesheet",d.href=r[n].fPath,document.body.appendChild(d)}}else if("t"===r[n].fOrigin||2===r[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)r[n].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",r[n].fOrigin),p.setAttribute("f-origin",r[n].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",r[n].fPath),t.appendChild(p)}}}else r[n].loaded=!0,i-=1;r[n].helper=o(r[n],t),r[n].cache={},this.fonts.push(r[n])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,n,r){for(var s=0,i=this.chars.length;s<i;){if(this.chars[s].ch===t&&this.chars[s].style===n&&this.chars[s].fFamily===r)return this.chars[s];s+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,n,r)),e},getFontByName:function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,n){var r=this.getFontByName(t),s=e;if(!r.cache[s]){var i=r.helper;if(" "===e){var a=i.measureText("|"+e+"|"),o=i.measureText("||");r.cache[s]=(a-o)/100}else r.cache[s]=i.measureText(e)/100}return r.cache[s]*n},checkLoadedFonts:function(){var e,t,n,r=this.fonts.length,s=r;for(e=0;e<r;e+=1)this.fonts[e].loaded?s-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,n=this.fonts[e].monoCase.w,t.offsetWidth!==n?(s-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,n=this.fonts[e].sansCase.w,t.offsetWidth!==n&&(s-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==s&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return h.prototype=u,h}();function SlotManager(e){this.animationData=e}function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var n,r=e.ef||[];this.effectElements=[];var s,i=r.length;for(n=0;n<i;n+=1)s=new GroupEffect(r[n],t),this.effectElements.push(s)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,n)}function AudioElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var n;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var r,s=this.data.ef.length,i=this.data.ef;for(n=0;n<s;n+=1){switch(r=null,i[n].ty){case 0:r=new SliderEffect(i[n],t,this);break;case 1:r=new AngleEffect(i[n],t,this);break;case 2:r=new ColorEffect(i[n],t,this);break;case 3:r=new PointEffect(i[n],t,this);break;case 4:case 7:r=new CheckboxEffect(i[n],t,this);break;case 10:r=new LayerIndexEffect(i[n],t,this);break;case 11:r=new MaskIndexEffect(i[n],t,this);break;case 5:r=new EffectsManager(i[n],t,this);break;default:r=new NoValueEffect(i[n],t,this)}r&&this.effectElements.push(r)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),n=e("effects"),r=e("shape"),s=e("text"),i=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=r(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=s(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,n){this.globalData=t,this.comp=n,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,n,r=this.layers.length;for(this.completeLayers=!0,t=r-1;t>=0;t-=1)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var n,r=e.length,s=this.layers.length;for(t=0;t<r;t+=1)for(n=0;n<s;){if(this.layers[n].id===e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){for(var r=this.elements,s=this.layers,i=0,a=s.length;i<a;)s[i].ind==t&&(r[i]&&!0!==r[i]?(n.push(r[i]),r[i].setAsParent(),void 0!==s[i].parent?this.buildElementParenting(e,s[i].parent,n):e.setHierarchy(n)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(e){var t,n=this.elements.length;for(t=0;t<n;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t,n=e.shift();if("number"==typeof n)t=this.elements[n];else{var r,s=this.elements.length;for(r=0;r<s;r+=1)if(this.elements[r].data.nm===n){t=this.elements[r];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,s,i=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,l,c,h,u,d,p=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",b="clip-path";for(r=0;r<a;r+=1)if(("a"!==p[r].mode&&"n"!==p[r].mode||p[r].inv||100!==p[r].o.k||p[r].o.x)&&(y="mask",b="mask"),"s"!==p[r].mode&&"i"!==p[r].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),s=createNS("path"),"n"===p[r].mode)this.viewData[r]={op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),elem:s,lastPath:""},i.appendChild(s);else{var v;if(f+=1,s.setAttribute("fill","s"===p[r].mode?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero"),0!==p[r].x.k?(y="mask",b="mask",d=PropertyFactory.getProp(this.element,p[r].x,0,null,this.element),v=createElementID(),(h=createNS("filter")).setAttribute("id",v),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),h.appendChild(u),i.appendChild(h),s.setAttribute("stroke","s"===p[r].mode?"#000000":"#ffffff")):(u=null,d=null),this.storedData[r]={elem:s,x:d,expan:u,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===p[r].mode){l=m.length;var w=createNS("g");for(o=0;o<l;o+=1)w.appendChild(m[o]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",g+"_"+f),E.appendChild(s),i.appendChild(E),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(s);p[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:s,lastPath:"",op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),invRect:c},this.viewData[r].prop.k||this.drawPath(p[r],this.viewData[r].prop.v,this.viewData[r])}for(this.maskElement=createNS(y),a=m.length,r=0;r<a;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(b,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),n=0;n<r;n+=1)t.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,t=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<t;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),e=1;e<t;e+=1){var r=this.localTransforms[e].matrix;n.multiply(r)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var s=this.finalTransform.localOpacity;for(e=0;e<t;e+=1)s*=.01*this.localTransforms[e].opacity;this.finalTransform.localOpacity=s}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var t=0,n=e.length;for(t=0;t<n;t+=1)this.localTransforms.push(e[t])}}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var n,r=!0,s=this.comp;r;)s.finalTransform?(s.data.hasMask&&t.splice(0,0,s.finalTransform),s=s.comp):r=!1;var i,a=t.length;for(n=0;n<a;n+=1)i=t[n].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(t=0;t<r;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var s=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),s.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,n){var r,s,i=" M"+t.v[0][0]+","+t.v[0][1];for(s=t._length,r=1;r<s;r+=1)i+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[r][0]+","+t.i[r][1]+" "+t.v[r][0]+","+t.v[r][1];if(t.c&&s>1&&(i+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==i){var a="";n.elem&&(t.c&&(a=e.inv?this.solidPath+i:i),n.elem.setAttribute("d",a)),n.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={createFilter:function(e,t){var n=createNS("filter");return n.setAttribute("id",e),!0!==t&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,n,r="SourceGraphic",s=e.data.ef?e.data.ef.length:0,i=createElementID(),a=filtersFactory.createFilter(i,!0),o=0;for(this.filters=[],t=0;t<s;t+=1){n=null;var l=e.data.ef[t].ty;registeredEffects$1[l]&&(n=new(0,registeredEffects$1[l].effect)(a,e.effectsManager.effectElements[t],e,idPrefix+o,r),r=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),n&&this.filters.push(n)}o&&(e.globalData.defs.appendChild(a),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect$1(e,t,n){registeredEffects$1[e]={effect:t,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,n=this.filters.length,r=[];for(t=0;t<n;t+=1)this.filters[t].type===e&&r.push(this.filters[t]);return r},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),r=createNS("path");r.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var s=createElementID();if(n.setAttribute("id",s),n.appendChild(r),this.globalData.defs.appendChild(n),this.checkMasks()){var i=createNS("g");i.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),i.appendChild(this.layerElement),this.transformedElement=i,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,n,r,s,i=this.layerId+"_"+e;if(1===e||3===e){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type",3===e?"luminance":"alpha"),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(r),this.globalData.defs.appendChild(a),featureSupport.maskType||1!==e||(a.setAttribute("mask-type","luminance"),t=createElementID(),n=filtersFactory.createFilter(t),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(s=createNS("g")).appendChild(r),a.appendChild(s),s.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var o=createNS("mask");o.setAttribute("id",i),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),t=createElementID(),n=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),n.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(n);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(u),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(r),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),l.appendChild(u),s.appendChild(this.layerElement),l.appendChild(s)),this.globalData.defs.appendChild(o)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,n=0,r=t.length;n<r;){if(t[n].elem===e)return t[n].pos;n+=1}return 0},addProcessedElement:function(e,t){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===e)return void(n[r].pos=t);n.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var r=0,s=e.length;r<s;){if(e[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,n,r){var s;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var i,a=t.length||0;for(s=0;s<a;s+=1)i=PropertyFactory.getProp(e,t[s].v,0,0,this),this.k=i.k||this.k,this.dataProps[s]={n:t[s].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n}function SVGNoStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(e,t,n){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var r=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}function SVGGradientStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<n;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(e[4*n]-e[4*t+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n,r,s=4*this.data.p;for(t=0;t<s;t+=1)n=t%4==0?100:255,r=Math.round(this.prop.v[t]*n),this.c[t]!==r&&(this.c[t]=r,this._cmdf=!e);if(this.o.length)for(s=this.prop.v.length,t=4*this.data.p;t<s;t+=1)n=t%2==0?100:1,r=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==r&&(this.o[t-4*this.data.p]=r,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,n){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var n=createElementID(),r=createNS(1===t.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var s,i,a,o=[];for(a=4*t.g.p,i=0;i<a;i+=4)s=createNS("stop"),r.appendChild(s),o.push(s);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=r,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,s,i=createNS("mask"),a=createNS("path");i.appendChild(a);var o=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),s=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var h=this.stops;for(r=4*e.g.p;r<s;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),h.push(n);a.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===e.ty&&(a.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&a.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,t.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,n,r){if(0===t)return"";var s,i=e.o,a=e.i,o=e.v,l=" M"+r.applyToPointStringified(o[0][0],o[0][1]);for(s=1;s<t;s+=1)l+=" C"+r.applyToPointStringified(i[s-1][0],i[s-1][1])+" "+r.applyToPointStringified(a[s][0],a[s][1])+" "+r.applyToPointStringified(o[s][0],o[s][1]);return n&&t&&(l+=" C"+r.applyToPointStringified(i[s-1][0],i[s-1][1])+" "+r.applyToPointStringified(a[0][0],a[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function n(e,t,n){(n||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(n||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function r(){}function s(n,r,s){var i,a,o,l,c,h,u,d,p,f,m=r.styles.length,g=r.lvl;for(h=0;h<m;h+=1){if(l=r.sh._mdf||s,r.styles[h].lvl<g){for(d=t.reset(),p=g-r.styles[h].lvl,f=r.transformers.length-1;!l&&p>0;)l=r.transformers[f].mProps._mdf||l,p-=1,f-=1;if(l)for(p=g-r.styles[h].lvl,f=r.transformers.length-1;p>0;)d.multiply(r.transformers[f].mProps.v),p-=1,f-=1}else d=e;if(a=(u=r.sh.paths)._length,l){for(o="",i=0;i<a;i+=1)(c=u.shapes[i])&&c._length&&(o+=buildShapeString(c,c._length,c.c,d));r.caches[h]=o}else o=r.caches[h];r.styles[h].d+=!0===n.hd?"":o,r.styles[h]._mdf=l||r.styles[h]._mdf}}function i(e,t,n){var r=t.style;(t.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",t.o.v)}function a(e,t,n){o(e,t,n),l(0,t,n)}function o(e,t,n){var r,s,i,a,o,l=t.gf,c=t.g._hasOpacity,h=t.s.v,u=t.e.v;if(t.o._mdf||n){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(d,t.o.v)}if(t.s._mdf||n){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,h[0]),t.of.setAttribute(f,h[1]))}if(t.g._cmdf||n){r=t.cst;var m=t.g.c;for(i=r.length,s=0;s<i;s+=1)(a=r[s]).setAttribute("offset",m[4*s]+"%"),a.setAttribute("stop-color","rgb("+m[4*s+1]+","+m[4*s+2]+","+m[4*s+3]+")")}if(c&&(t.g._omdf||n)){var g=t.g.o;for(i=(r=t.g._collapsable?t.cst:t.ost).length,s=0;s<i;s+=1)a=r[s],t.g._collapsable||a.setAttribute("offset",g[2*s]+"%"),a.setAttribute("stop-opacity",g[2*s+1])}if(1===e.t)(t.e._mdf||n)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",u[0]),t.of.setAttribute("y2",u[1])));else if((t.s._mdf||t.e._mdf||n)&&(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),l.setAttribute("r",o),c&&!t.g._collapsable&&t.of.setAttribute("r",o)),t.e._mdf||t.h._mdf||t.a._mdf||n){o||(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)));var y=Math.atan2(u[1]-h[1],u[0]-h[0]),b=t.h.v;b>=1?b=.99:b<=-1&&(b=-.99);var v=o*b,w=Math.cos(y+t.a.v)*v+h[0],E=Math.sin(y+t.a.v)*v+h[1];l.setAttribute("fx",w),l.setAttribute("fy",E),c&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",E))}}function l(e,t,n){var r=t.style,s=t.d;s&&(s._mdf||n)&&s.dashStr&&(r.pElem.setAttribute("stroke-dasharray",s.dashStr),r.pElem.setAttribute("stroke-dashoffset",s.dashoffset[0])),t.c&&(t.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",t.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return o;case"gs":return a;case"st":return l;case"sh":case"el":case"rc":case"sr":return s;case"tr":return n;case"no":return r;default:return null}}}}();function SVGShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}function LetterProps(e,t,n,r,s,i){this.o=e,this.sw=t,this.sc=n,this.fc=r,this.m=s,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,n,r,s=this.shapes.length,i=this.stylesList.length,a=[],o=!1;for(n=0;n<i;n+=1){for(r=this.stylesList[n],o=!1,a.length=0,e=0;e<s;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(r)&&(a.push(t),o=t._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var n,r=new SVGStyleData(e,t),s=r.pElem;return"st"===e.ty?n=new SVGStrokeStyleData(this,e,r):"fl"===e.ty?n=new SVGFillStyleData(this,e,r):"gf"===e.ty||"gs"===e.ty?(n=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),s.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):"no"===e.ty&&(n=new SVGNoStyleData(this,e,r)),"st"!==e.ty&&"gs"!==e.ty||(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),s.setAttribute("fill-opacity","0"),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&s.setAttribute("fill-rule","evenodd"),e.ln&&s.setAttribute("id",e.ln),e.cl&&s.setAttribute("class",e.cl),e.bm&&(s.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(r),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var n=TransformPropertyFactory.getTransformProperty(this,e,this),r=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createShapeElement=function(e,t,n){var r=4;"rc"===e.ty?r=5:"el"===e.ty?r=6:"sr"===e.ty&&(r=7);var s=new SVGShapeData(t,n,ShapePropertyFactory.getShapeProp(this,e,r,this));return this.shapes.push(s),this.addShapeToModifiers(s),this.addToAnimatedContents(e,s),s},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,n=e.styles,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||n.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,n,r,s,i,a){var o,l,c,h,u,d,p=[].concat(i),f=e.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if((d=this.searchProcessedElement(e[o]))?t[o]=n[d-1]:e[o]._render=a,"fl"===e[o].ty||"st"===e[o].ty||"gf"===e[o].ty||"gs"===e[o].ty||"no"===e[o].ty)d?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],s),e[o]._render&&t[o].style.pElem.parentNode!==r&&r.appendChild(t[o].style.pElem),m.push(t[o].style);else if("gr"===e[o].ty){if(d)for(c=t[o].it.length,l=0;l<c;l+=1)t[o].prevViewData[l]=t[o].it[l];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,t[o].gr,s+1,p,a),e[o]._render&&t[o].gr.parentNode!==r&&r.appendChild(t[o].gr)}else"tr"===e[o].ty?(d||(t[o]=this.createTransformElement(e[o],r)),h=t[o].transform,p.push(h)):"sh"===e[o].ty||"rc"===e[o].ty||"el"===e[o].ty||"sr"===e[o].ty?(d||(t[o]=this.createShapeElement(e[o],p,s)),this.setElementStyles(t[o])):"tm"===e[o].ty||"rd"===e[o].ty||"ms"===e[o].ty||"pb"===e[o].ty||"zz"===e[o].ty||"op"===e[o].ty?(d?(u=t[o]).closed=!1:((u=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=u,this.shapeModifiers.push(u)),g.push(u)):"rp"===e[o].ty&&(d?(u=t[o]).closed=!0:(u=ShapeModifiers.getModifier(e[o].ty),t[o]=u,u.init(this,e,o,t),this.shapeModifiers.push(u),a=!1),g.push(u));this.addProcessedElement(e[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,n=this.animatedContents.length;for(e=0;e<n;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,n,r,s,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,a=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var r;this.lock=!0,this._mdf=!1;var s=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(r=0;r<s;r+=1)i=n!==this.keysIndex?this.effectsSequence[r](i,i.t):this.effectsSequence[r](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,r=e.length;n<=r-1&&!(n===r-1||e[n+1].t>t);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,n,r=[],s=0,i=e.length,a=!1,o=!1,l="";s<i;)a=o,o=!1,t=e.charCodeAt(s),l=e.charAt(s),FontManager.isCombinedCharacter(t)?a=!0:t>=55296&&t<=56319?FontManager.isRegionalFlag(e,s)?l=e.substr(s,14):(n=e.charCodeAt(s+1))>=56320&&n<=57343&&(FontManager.isModifier(t,n)?(l=e.substr(s,2),a=!0):l=FontManager.isFlagEmoji(e.substr(s,4))?e.substr(s,4):e.substr(s,2)):t>56319?(n=e.charCodeAt(s+1),FontManager.isVariationSelector(t)&&(a=!0)):FontManager.isZeroWidthJoiner(t)&&(a=!0,o=!0),a?(r[r.length-1]+=l,a=!1):r.push(l),s+=l.length;return r},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,n,r,s,i,a,o,l=this.elem.globalData.fontManager,c=this.data,h=[],u=0,d=c.m.g,p=0,f=0,m=0,g=[],y=0,b=0,v=l.getFontByName(e.f),w=0,E=getFontProperties(v);e.fWeight=E.weight,e.fStyle=E.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var k,x=e.tr/1e3*e.finalSize;if(e.sz)for(var A,_,P=!0,S=e.sz[0],C=e.sz[1];P;){A=0,y=0,n=(_=this.buildFinalText(e.t)).length,x=e.tr/1e3*e.finalSize;var T=-1;for(t=0;t<n;t+=1)k=_[t].charCodeAt(0),r=!1," "===_[t]?T=t:13!==k&&3!==k||(y=0,r=!0,A+=e.finalLineHeight||1.2*e.finalSize),l.chars?(o=l.getCharData(_[t],v.fStyle,v.fFamily),w=r?0:o.w*e.finalSize/100):w=l.measureText(_[t],e.f,e.finalSize),y+w>S&&" "!==_[t]?(-1===T?n+=1:t=T,A+=e.finalLineHeight||1.2*e.finalSize,_.splice(t,T===t?1:0,"\r"),T=-1,y=0):(y+=w,y+=x);A+=v.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&C<A?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=_,n=e.finalText.length,P=!1)}y=-x,w=0;var I,O=0;for(t=0;t<n;t+=1)if(r=!1,13===(k=(I=e.finalText[t]).charCodeAt(0))||3===k?(O=0,g.push(y),b=y>b?y:b,y=-2*x,s="",r=!0,m+=1):s=I,l.chars?(o=l.getCharData(I,v.fStyle,l.getFontByName(e.f).fFamily),w=r?0:o.w*e.finalSize/100):w=l.measureText(s,e.f,e.finalSize)," "===I?O+=w+x:(y+=w+x+O,O=0),h.push({l:w,an:w,add:p,n:r,anIndexes:[],val:s,line:m,animatorJustifyOffset:0}),2==d){if(p+=w,""===s||" "===s||t===n-1){for(""!==s&&" "!==s||(p-=w);f<=t;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;u+=1,p=0}}else if(3==d){if(p+=w,""===s||t===n-1){for(""===s&&(p-=w);f<=t;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;p=0,u+=1}}else h[u].ind=u,h[u].extra=0,u+=1;if(e.l=h,b=y>b?y:b,g.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=b,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var M,D,N,F,B=c.a;a=B.length;var R=[];for(i=0;i<a;i+=1){for((M=B[i]).a.sc&&(e.strokeColorAnim=!0),M.a.sw&&(e.strokeWidthAnim=!0),(M.a.fc||M.a.fh||M.a.fs||M.a.fb)&&(e.fillColorAnim=!0),F=0,N=M.s.b,t=0;t<n;t+=1)(D=h[t]).anIndexes[i]=F,(1==N&&""!==D.val||2==N&&""!==D.val&&" "!==D.val||3==N&&(D.n||" "==D.val||t==n-1)||4==N&&(D.n||t==n-1))&&(1===M.s.rn&&R.push(F),F+=1);c.a[i].s.totalChars=F;var L,j=-1;if(1===M.s.rn)for(t=0;t<n;t+=1)j!=(D=h[t]).anIndexes[i]&&(j=D.anIndexes[i],L=R.splice(Math.floor(Math.random()*R.length),1)[0]),D.anIndexes[i]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=v.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,n=Math.floor;function r(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var s=0,i=0,a=1,o=1;this.ne.v>0?s=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(s,i,a,o).get,c=0,h=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)c=l(c=u===h?r>=u?1:0:e(0,t(.5/(u-h)+(r-h)/(u-h),1)));else if(3===d)c=l(c=u===h?r>=u?0:1:1-e(0,t(.5/(u-h)+(r-h)/(u-h),1)));else if(4===d)u===h?c=0:(c=e(0,t(.5/(u-h)+(r-h)/(u-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===d){if(u===h)c=0;else{var p=u-h,f=-p/2+(r=t(e(0,r+.5-h),u-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(u===h?c=0:(r=t(e(0,r+.5-h),u-h),c=(1+Math.cos(Math.PI+2*Math.PI*r/(u-h)))/2),c=l(c)):(r>=n(h)&&(c=e(0,t(r-h<0?t(u,1)-(h-r):u-r,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/t,r=this.s.v/t+n,s=this.e.v/t+n;if(r>s){var i=r;r=s,s=i}this.finalS=r,this.finalE=s}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(e,t,n){return new r(e,t,n)}}}();function TextAnimatorDataProperty(e,t,n){var r={propType:!1},s=PropertyFactory.getProp,i=t.a;this.a={r:i.r?s(e,i.r,0,degToRads,n):r,rx:i.rx?s(e,i.rx,0,degToRads,n):r,ry:i.ry?s(e,i.ry,0,degToRads,n):r,sk:i.sk?s(e,i.sk,0,degToRads,n):r,sa:i.sa?s(e,i.sa,0,degToRads,n):r,s:i.s?s(e,i.s,1,.01,n):r,a:i.a?s(e,i.a,1,0,n):r,o:i.o?s(e,i.o,0,.01,n):r,p:i.p?s(e,i.p,1,0,n):r,sw:i.sw?s(e,i.sw,0,0,n):r,sc:i.sc?s(e,i.sc,1,0,n):r,fc:i.fc?s(e,i.fc,1,0,n):r,fh:i.fh?s(e,i.fh,0,0,n):r,fs:i.fs?s(e,i.fs,0,.01,n):r,fb:i.fb?s(e,i.fb,0,.01,n):r,t:i.t?s(e,i.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function TextAnimatorProperty(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,n=this._textData.a.length,r=PropertyFactory.getProp;for(e=0;e<n;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,s,i,a,o,l,c,h,u,d,p,f,m,g,y,b,v,w,E=this._moreOptions.alignment.v,k=this._animatorsData,x=this._textData,A=this.mHelper,_=this._renderType,P=this.renderedLetters.length,S=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var C,T=w.v;for(this._pathData.r.v&&(T=T.reverse()),a={tLength:0,segments:[]},i=T._length-1,y=0,s=0;s<i;s+=1)C=bez.buildBezierData(T.v[s],T.v[s+1],[T.o[s][0]-T.v[s][0],T.o[s][1]-T.v[s][1]],[T.i[s+1][0]-T.v[s+1][0],T.i[s+1][1]-T.v[s+1][1]]),a.tLength+=C.segmentLength,a.segments.push(C),y+=C.segmentLength;s=i,w.v.c&&(C=bez.buildBezierData(T.v[s],T.v[0],[T.o[s][0]-T.v[s][0],T.o[s][1]-T.v[s][1]],[T.i[0][0]-T.v[0][0],T.i[0][1]-T.v[0][1]]),a.tLength+=C.segmentLength,a.segments.push(C),y+=C.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,d=0,u=1,c=0,h=!0,m=a.segments,o<0&&w.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),u=(f=m[d=m.length-1].points).length-1;o<0;)o+=f[u].partialLength,(u-=1)<0&&(u=(f=m[d-=1].points).length-1);p=(f=m[d].points)[u-1],g=(l=f[u]).partialLength}i=S.length,n=0,r=0;var I,O,M,D,N,F=1.2*e.finalSize*.714,B=!0;M=k.length;var R,L,j,U,G,V,z,H,$,W,q,K,J=-1,Q=o,Y=d,Z=u,X=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ne=0,re=0,se=2===e.j?-.5:-1,ie=0,ae=!0;for(s=0;s<i;s+=1)if(S[s].n){for(ne&&(ne+=re);ie<s;)S[ie].animatorJustifyOffset=ne,ie+=1;ne=0,ae=!0}else{for(O=0;O<M;O+=1)(I=k[O].a).t.propType&&(ae&&2===e.j&&(re+=I.t.v*se),(N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars)).length?ne+=I.t.v*N[0]*se:ne+=I.t.v*N*se);ae=!1}for(ne&&(ne+=re);ie<s;)S[ie].animatorJustifyOffset=ne,ie+=1}for(s=0;s<i;s+=1){if(A.reset(),U=1,S[s].n)n=0,r+=e.yOffset,r+=B?1:0,o=Q,B=!1,this._hasMaskedPath&&(u=Z,p=(f=m[d=Y].points)[u-1],g=(l=f[u]).partialLength,c=0),ee="",q="",$="",K="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(X!==S[s].line){switch(e.j){case 1:o+=y-e.lineWidths[S[s].line];break;case 2:o+=(y-e.lineWidths[S[s].line])/2}X=S[s].line}J!==S[s].ind&&(S[J]&&(o+=S[J].extra),o+=S[s].an/2,J=S[s].ind),o+=E[0]*S[s].an*.005;var oe=0;for(O=0;O<M;O+=1)(I=k[O].a).p.propType&&((N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars)).length?oe+=I.p.v[0]*N[0]:oe+=I.p.v[0]*N),I.a.propType&&((N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars)).length?oe+=I.a.v[0]*N[0]:oe+=I.a.v[0]*N);for(h=!0,this._pathData.a.v&&(o=.5*S[0].an+(y-this._pathData.f.v-.5*S[0].an-.5*S[S.length-1].an)*J/(i-1),o+=this._pathData.f.v);h;)c+g>=o+oe||!f?(b=(o+oe-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*b,j=p.point[1]+(l.point[1]-p.point[1])*b,A.translate(-E[0]*S[s].an*.005,-E[1]*F*.01),h=!1):f&&(c+=l.partialLength,(u+=1)>=f.length&&(u=0,m[d+=1]?f=m[d].points:w.v.c?(u=0,f=m[d=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[u]).partialLength));R=S[s].an/2-S[s].add,A.translate(-R,0,0)}else R=S[s].an/2-S[s].add,A.translate(-R,0,0),A.translate(-E[0]*S[s].an*.005,-E[1]*F*.01,0);for(O=0;O<M;O+=1)(I=k[O].a).t.propType&&(N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars),0===n&&0===e.j||(this._hasMaskedPath?N.length?o+=I.t.v*N[0]:o+=I.t.v*N:N.length?n+=I.t.v*N[0]:n+=I.t.v*N));for(e.strokeWidthAnim&&(V=e.sw||0),e.strokeColorAnim&&(G=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(z=[e.fc[0],e.fc[1],e.fc[2]]),O=0;O<M;O+=1)(I=k[O].a).a.propType&&((N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars)).length?A.translate(-I.a.v[0]*N[0],-I.a.v[1]*N[1],I.a.v[2]*N[2]):A.translate(-I.a.v[0]*N,-I.a.v[1]*N,I.a.v[2]*N));for(O=0;O<M;O+=1)(I=k[O].a).s.propType&&((N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars)).length?A.scale(1+(I.s.v[0]-1)*N[0],1+(I.s.v[1]-1)*N[1],1):A.scale(1+(I.s.v[0]-1)*N,1+(I.s.v[1]-1)*N,1));for(O=0;O<M;O+=1){if(I=k[O].a,N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars),I.sk.propType&&(N.length?A.skewFromAxis(-I.sk.v*N[0],I.sa.v*N[1]):A.skewFromAxis(-I.sk.v*N,I.sa.v*N)),I.r.propType&&(N.length?A.rotateZ(-I.r.v*N[2]):A.rotateZ(-I.r.v*N)),I.ry.propType&&(N.length?A.rotateY(I.ry.v*N[1]):A.rotateY(I.ry.v*N)),I.rx.propType&&(N.length?A.rotateX(I.rx.v*N[0]):A.rotateX(I.rx.v*N)),I.o.propType&&(N.length?U+=(I.o.v*N[0]-U)*N[0]:U+=(I.o.v*N-U)*N),e.strokeWidthAnim&&I.sw.propType&&(N.length?V+=I.sw.v*N[0]:V+=I.sw.v*N),e.strokeColorAnim&&I.sc.propType)for(H=0;H<3;H+=1)N.length?G[H]+=(I.sc.v[H]-G[H])*N[0]:G[H]+=(I.sc.v[H]-G[H])*N;if(e.fillColorAnim&&e.fc){if(I.fc.propType)for(H=0;H<3;H+=1)N.length?z[H]+=(I.fc.v[H]-z[H])*N[0]:z[H]+=(I.fc.v[H]-z[H])*N;I.fh.propType&&(z=N.length?addHueToRGB(z,I.fh.v*N[0]):addHueToRGB(z,I.fh.v*N)),I.fs.propType&&(z=N.length?addSaturationToRGB(z,I.fs.v*N[0]):addSaturationToRGB(z,I.fs.v*N)),I.fb.propType&&(z=N.length?addBrightnessToRGB(z,I.fb.v*N[0]):addBrightnessToRGB(z,I.fb.v*N))}}for(O=0;O<M;O+=1)(I=k[O].a).p.propType&&(N=k[O].s.getMult(S[s].anIndexes[O],x.a[O].s.totalChars),this._hasMaskedPath?N.length?A.translate(0,I.p.v[1]*N[0],-I.p.v[2]*N[1]):A.translate(0,I.p.v[1]*N,-I.p.v[2]*N):N.length?A.translate(I.p.v[0]*N[0],I.p.v[1]*N[1],-I.p.v[2]*N[2]):A.translate(I.p.v[0]*N,I.p.v[1]*N,-I.p.v[2]*N));if(e.strokeWidthAnim&&($=V<0?0:V),e.strokeColorAnim&&(W="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),e.fillColorAnim&&e.fc&&(q="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),this._hasMaskedPath){if(A.translate(0,-e.ls),A.translate(0,E[1]*F*.01+r,0),this._pathData.p.v){v=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(v)/Math.PI;l.point[0]<p.point[0]&&(le+=180),A.rotate(-le*Math.PI/180)}A.translate(L,j,0),o-=E[0]*S[s].an*.005,S[s+1]&&J!==S[s+1].ind&&(o+=S[s].an/2,o+=.001*e.tr*e.finalSize)}else{switch(A.translate(n,r,0),e.ps&&A.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:A.translate(S[s].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[s].line]),0,0);break;case 2:A.translate(S[s].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[s].line])/2,0,0)}A.translate(0,-e.ls),A.translate(R,0,0),A.translate(E[0]*S[s].an*.005,E[1]*F*.01,0),n+=S[s].l+.001*e.tr*e.finalSize}"html"===_?ee=A.toCSS():"svg"===_?ee=A.to2dCSS():te=[A.props[0],A.props[1],A.props[2],A.props[3],A.props[4],A.props[5],A.props[6],A.props[7],A.props[8],A.props[9],A.props[10],A.props[11],A.props[12],A.props[13],A.props[14],A.props[15]],K=U}P<=s?(D=new LetterProps(K,$,W,q,ee,te),this.renderedLetters.push(D),P+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[s],this.lettersChangedFlag=D.update(K,$,W,q,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var n,r,s=t.length,i="";for(n=0;n<s;n+=1)"sh"===t[n].ty&&(r=t[n].ks.k,i+=buildShapeString(r,r.i.length,!0,e));return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,r,s){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(r,s,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}function ISolidElement(e,t,n){this.initElement(e,t,n)}function NullElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var r=createNS("title"),s=createElementID();r.setAttribute("id",s),r.textContent=t.title,this.svgElement.appendChild(r),n+=s}if(t&&t.description){var i=createNS("desc"),a=createElementID();i.setAttribute("id",a),i.textContent=t.description,this.svgElement.appendChild(i),n+=" "+a}n&&this.svgElement.setAttribute("aria-labelledby",n);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,n=e.length,r=[],s="";t<n;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(r.push(s),s=""):s+=e[t],t+=1;return r.push(s),r},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var n=e.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=t,r.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var s=n.fWeight,i=n.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",n.t);var a,o=n.l||[],l=!!this.globalData.fontManager.chars;t=o.length;var c=this.mHelper,h=this.data.singleShape,u=0,d=0,p=!0,f=.001*n.tr*n.finalSize;if(!h||l||n.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!h||0===e){if(a=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=a,l){var y=createNS("g");a.appendChild(y),this.textSpans[e].childSpan=y}this.textSpans[e].span=a,this.layerElement.appendChild(a)}a.style.display="inherit"}if(c.reset(),h&&(o[e].n&&(u=-f,d+=n.yOffset,d+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(n,c,o[e].line,u,d),u+=o[e].l||0,u+=f),l){var b;if(1===(m=this.globalData.fontManager.getCharData(n.finalText[e],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t)b=new SVGCompElement(m.data,this.globalData,this);else{var v=emptyShapeData;m.data&&m.data.shapes&&(v=this.buildShapeData(m.data,n.finalSize)),b=new SVGShapeElement(v,this.globalData,this)}if(this.textSpans[e].glyph){var w=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[e].glyph=b,b._debug=!0,b.prepareFrame(0),b.renderFrame(),this.textSpans[e].childSpan.appendChild(b.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else h&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=o[e].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&a&&a.setAttribute("d","")}else{var E=this.textContainer,k="start";switch(n.j){case 1:k="end";break;case 2:k="middle";break;default:k="start"}E.setAttribute("text-anchor",k),E.setAttribute("letter-spacing",f);var x=this.buildTextContents(n.finalText);for(t=x.length,d=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)(a=this.textSpans[e].span||createNS("tspan")).textContent=x[e],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",E.appendChild(a),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=a,d+=n.finalLineHeight;this.layerElement.appendChild(E)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<n;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var n,r,s,i=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(t=a.length,e=0;e<t;e+=1)a[e].n||(n=i[e],r=this.textSpans[e].span,(s=this.textSpans[e].glyph)&&s.renderFrame(),n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.setAttribute("x",0),r.setAttribute("y",0);var s=createElementID();n.setAttribute("id",s),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),t.appendChild(n),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,n=this.layers.length;for(t=0;t<n;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var n=this.createItem(this.layers[e]);if(t[e]=n,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt){var r="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===r)return;if(this.elements[r]&&!0!==this.elements[r]){var s=t[r].getMatte(this.layers[e].tt);n.setMatte(s)}else this.buildItem(r),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){var r="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,s=this.elements[r].getMatte(this.layers[t].tt);e.setMatte(s);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var r,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(r=this.elements[s].getBaseElement()),s+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,n=e.length,r="_";for(t=0;t<n;t+=1)r+=e[t].transform.key+"_";var s=this.sequences[r];return s||(s={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=s,this.sequenceList.push(s)),s},processSequence:function(e,t){for(var n=0,r=e.transforms.length,s=t;n<r&&!t;){if(e.transforms[n].transform.mProps._mdf){s=!0;break}n+=1}if(s)for(e.finalTransform.reset(),n=r-1;n>=0;n-=1)e.finalTransform.multiply(e.transforms[n].transform.mProps.v);e._mdf=s},processSequences:function(e){var t,n=this.sequenceList.length;for(t=0;t<n;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",t=null,n=null,r=null;function s(){var s,i,a;t||(s=createNS("svg"),i=createNS("filter"),a=createNS("feColorMatrix"),i.setAttribute("id",e),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),i.appendChild(a),s.appendChild(i),s.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(s.style.display="none"),r=s,document.body.appendChild(r),t=createTag("canvas"),(n=t.getContext("2d")).filter="url(#"+e+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}return{load:s,get:function(r){return t||s(),t.width=r.width,t.height=r.height,n.filter="url(#"+e+")",t}}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var n=createTag("canvas");return n.width=e,n.height=t,n}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(e){var t,n,r=e.data.ef?e.data.ef.length:0;for(this.filters=[],t=0;t<r;t+=1){n=null;var s=e.data.ef[t].ty;registeredEffects[s]&&(n=new(0,registeredEffects[s].effect)(e.effectsManager.effectElements[t],e)),n&&this.filters.push(n)}this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){var n;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r=this.masksProperties.length,s=!1;for(n=0;n<r;n+=1)"n"!==this.masksProperties[n].mode&&(s=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,n=this.filters.length,r=[];for(t=0;t<n;t+=1)this.filters[t].type===e&&r.push(this.filters[t]);return r},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,n,r,s=this.element.finalTransform.mat,i=this.element.canvasContext,a=this.masksProperties.length;for(i.beginPath(),e=0;e<a;e+=1)if("n"!==this.masksProperties[e].mode){var o;this.masksProperties[e].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),r=this.viewData[e].v,t=s.applyToPointArray(r.v[0][0],r.v[0][1],0),i.moveTo(t[0],t[1]);var l=r._length;for(o=1;o<l;o+=1)n=s.applyToTriplePoints(r.o[o-1],r.i[o],r.v[o]),i.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=s.applyToTriplePoints(r.o[o-1],r.i[0],r.v[0]),i.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(e,t,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s,i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var a,o=n.length;for(s=0;s<o;s+=1)n[s].closed||(a={transforms:r.addTransformSequence(n[s].transforms),trNodes:[]},this.styledShapes.push(a),n[s].elements.push(a))}function CVShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,n)}function CVTextElement(e,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,n)}function CVImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,n)}function CVSolidElement(e,t,n){this.initElement(e,t,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var e;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,e=0;e<15;e+=1){var t=new CanvasContext;this.stack[e]=t}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(e,t,n){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(e,t,n){this.initElement(e,t,n)}function HShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,n)}function HCameraElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,e.pe,0,0,this),e.ks.p.s?(this.px=r(this,e.ks.p.x,1,0,this),this.py=r(this,e.ks.p.y,1,0,this),this.pz=r(this,e.ks.p.z,1,0,this)):this.p=r(this,e.ks.p,1,0,this),e.ks.a&&(this.a=r(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var s,i=e.ks.or.k.length;for(s=0;s<i;s+=1)e.ks.or.k[s].to=null,e.ks.or.k[s].ti=null}this.or=r(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,e.ks.rx,0,degToRads,this),this.ry=r(this,e.ks.ry,0,degToRads,this),this.rz=r(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,n){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,t=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(t);var n=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0].getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],t=e.getContext("2d");if(this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var t=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var n={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},r={};if("fl"===e.ty||"st"===e.ty?(r.c=PropertyFactory.getProp(this,e.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(r.s=PropertyFactory.getProp(this,e.s,1,null,this),r.e=PropertyFactory.getProp(this,e.e,1,null,this),r.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,e.g,this)),r.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(n.lc=lineCapEnum[e.lc||2],n.lj=lineJoinEnum[e.lj||2],1==e.lj&&(n.ml=e.ml),r.w=PropertyFactory.getProp(this,e.w,0,null,this),r.w.k||(n.wi=r.w.v),e.d){var s=new DashProperty(this,e.d,"canvas",this);r.d=s,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,n,r,s){var i,a,o,l,c,h,u=e.length-1,d=[],p=[],f=[].concat(s);for(i=u;i>=0;i-=1){if((l=this.searchProcessedElement(e[i]))?t[i]=n[l-1]:e[i]._shouldRender=r,"fl"===e[i].ty||"st"===e[i].ty||"gf"===e[i].ty||"gs"===e[i].ty)l?t[i].style.closed=!1:t[i]=this.createStyleElement(e[i],f),d.push(t[i].style);else if("gr"===e[i].ty){if(l)for(o=t[i].it.length,a=0;a<o;a+=1)t[i].prevViewData[a]=t[i].it[a];else t[i]=this.createGroupElement(e[i]);this.searchShapes(e[i].it,t[i].it,t[i].prevViewData,r,f)}else"tr"===e[i].ty?(l||(h=this.createTransformElement(e[i]),t[i]=h),f.push(t[i]),this.addTransformToStyleList(t[i])):"sh"===e[i].ty||"rc"===e[i].ty||"el"===e[i].ty||"sr"===e[i].ty?l||(t[i]=this.createShapeElement(e[i])):"tm"===e[i].ty||"rd"===e[i].ty||"pb"===e[i].ty||"zz"===e[i].ty||"op"===e[i].ty?(l?(c=t[i]).closed=!1:((c=ShapeModifiers.getModifier(e[i].ty)).init(this,e[i]),t[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[i].ty&&(l?(c=t[i]).closed=!0:(c=ShapeModifiers.getModifier(e[i].ty),t[i]=c,c.init(this,e,i,t),this.shapeModifiers.push(c),r=!1),p.push(c));this.addProcessedElement(e[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,i=0;i<u;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,n,r,s,i,a,o,l,c=this.stylesList.length,h=this.globalData.renderer,u=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(o=(l=this.stylesList[e]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===o||"gs"===o?(h.ctxStrokeStyle("st"===o?l.co:l.grd),h.ctxLineWidth(l.wi),h.ctxLineCap(l.lc),h.ctxLineJoin(l.lj),h.ctxMiterLimit(l.ml||0)):h.ctxFillStyle("fl"===o?l.co:l.grd),h.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&u.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),n=i.length,t=0;t<n;t+=1){for("st"!==o&&"gs"!==o||(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),s=(a=i[t].trNodes).length,r=0;r<s;r+=1)"m"===a[r].t?u.moveTo(a[r].p[0],a[r].p[1]):"c"===a[r].t?u.bezierCurveTo(a[r].pts[0],a[r].pts[1],a[r].pts[2],a[r].pts[3],a[r].pts[4],a[r].pts[5]):u.closePath();"st"!==o&&"gs"!==o||(h.ctxStroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(e,t,n,r){var s,i;for(i=e,s=t.length-1;s>=0;s-=1)"tr"===t[s].ty?(i=n[s].transform,this.renderShapeTransform(e,i)):"sh"===t[s].ty||"el"===t[s].ty||"rc"===t[s].ty||"sr"===t[s].ty?this.renderPath(t[s],n[s]):"fl"===t[s].ty?this.renderFill(t[s],n[s],i):"st"===t[s].ty?this.renderStroke(t[s],n[s],i):"gf"===t[s].ty||"gs"===t[s].ty?this.renderGradientFill(t[s],n[s],i):"gr"===t[s].ty?this.renderShape(i,t[s].it,n[s].it):t[s].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var n,r,s,i=e.trNodes,a=t.paths,o=a._length;i.length=0;var l=e.transforms.finalTransform;for(s=0;s<o;s+=1){var c=a.shapes[s];if(c&&c.v){for(r=c._length,n=1;n<r;n+=1)1===n&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&r&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var n,r=t.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,n){var r=t.style;(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,n){var r,s=t.style;if(!s.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i,a=this.globalData.canvasContext,o=t.s.v,l=t.e.v;if(1===e.t)r=a.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),h=Math.atan2(l[1]-o[1],l[0]-o[0]),u=t.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var d=c*u,p=Math.cos(h+t.a.v)*d+o[0],f=Math.sin(h+t.a.v)*d+o[1];r=a.createRadialGradient(p,f,0,o[0],o[1],c)}var m=e.g.p,g=t.g.c,y=1;for(i=0;i<m;i+=1)t.g._hasOpacity&&t.g._collapsable&&(y=t.g.o[2*i+1]),r.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+y+")");s.grd=r}s.coOp=t.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(e,t,n){var r=t.style,s=t.d;s&&(s._mdf||this._isFirstFrame)&&(r.da=s.dashArray,r.do=s.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity),(t.w._mdf||this._isFirstFrame)&&(r.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;e.sc&&(n=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var r,s,i,a,o,l,c,h,u,d,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,y=this.mHelper;this.stroke=n,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,s=e.finalText.length;var b=this.data.singleShape,v=.001*e.tr*e.finalSize,w=0,E=0,k=!0,x=0;for(r=0;r<s;r+=1){a=(i=this.globalData.fontManager.getCharData(e.finalText[r],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&i.data||{},y.reset(),b&&g[r].n&&(w=-v,E+=e.yOffset,E+=k?1:0,k=!1),u=(c=a.shapes?a.shapes[0].it:[]).length,y.scale(e.finalSize/100,e.finalSize/100),b&&this.applyTextPropertiesToMatrix(e,y,g[r].line,w,E),p=createSizedArray(u-1);var A=0;for(h=0;h<u;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,d=c[h].ks.k,f=[],o=1;o<l;o+=1)1===o&&f.push(y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[o][0],d.i[o][1],0),y.applyToY(d.i[o][0],d.i[o][1],0),y.applyToX(d.v[o][0],d.v[o][1],0),y.applyToY(d.v[o][0],d.v[o][1],0));f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[0][0],d.i[0][1],0),y.applyToY(d.i[0][0],d.i[0][1],0),y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),p[A]=f,A+=1}b&&(w+=g[r].l,w+=v),this.textSpans[x]?this.textSpans[x].elem=p:this.textSpans[x]={elem:p},x+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,n,r,s,i;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;t=l.length;var c,h,u=null,d=null,p=null,f=this.globalData.renderer;for(e=0;e<t;e+=1)if(!l[e].n){if((a=o[e])&&(f.save(),f.ctxTransform(a.p),f.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(f.ctxFillStyle(a.fc),u=a.fc):u!==this.values.fill&&(u=this.values.fill,f.ctxFillStyle(this.values.fill)),r=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(i=(h=c[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),s=2;s<i;s+=6)this.globalData.canvasContext.bezierCurveTo(h[s],h[s+1],h[s+2],h[s+3],h[s+4],h[s+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(a&&a.sw?p!==a.sw&&(p=a.sw,f.ctxLineWidth(a.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),a&&a.sc?d!==a.sc&&(d=a.sc,f.ctxStrokeStyle(a.sc)):d!==this.values.stroke&&(d=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),r=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(i=(h=c[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),s=2;s<i;s+=6)this.globalData.canvasContext.bezierCurveTo(h[s],h[s+1],h[s+2],h[s+3],h[s+4],h[s+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,n,r=e.getContext("2d"),s=this.img.width,i=this.img.height,a=s/i,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&"xMidYMid slice"===l||a<o&&"xMidYMid slice"!==l?t=(n=i)*o:n=(t=s)/o,r.drawImage(this.img,(s-t)/2,(i-n)/2,t,n,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){1===e[0]&&0===e[1]&&0===e[4]&&1===e[5]&&0===e[12]&&0===e[13]||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,n,r){this.canvasContext.fillRect(e,t,n,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){this.renderConfig.clearCanvas?(e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var n="0px 0px 0px";t.transformOrigin=n,t.mozTransformOrigin=n,t.webkitTransformOrigin=n,t["-webkit-transform"]=n,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var n,r,s,i;if(this.reset(),e?(n=e,r=t,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);s=n/r,(i=this.transformCanvas.w/this.transformCanvas.h)>s&&"meet"===o||i<s&&"slice"===o?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<s&&"meet"===o||i>s&&"slice"===o)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<s&&"meet"===o||i>s&&"slice"===o)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>s&&"meet"===o||i<s&&"slice"===o)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>s&&"meet"===o||i<s&&"slice"===o)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var n;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(e-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var n=this.createItem(this.layers[e],this,this.globalData);t[e]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t,n=this.stack[this.cArrPos],r=n.transform,s=this.cTr.props;for(t=0;t<16;t+=1)s[t]=r[t];if(e){this.nativeContext.restore();var i=this.stack[this.cArrPos+1];this.appliedFillStyle=i.fillStyle,this.appliedStrokeStyle=i.strokeStyle,this.appliedLineWidth=i.lineWidth,this.appliedLineCap=i.lineCap,this.appliedLineJoin=i.lineJoin,this.appliedMiterLimit=i.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(e||-1!==n.opacity&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n,r=this.stack[this.cArrPos];for(n=0;n<16;n+=1)r.transform[n]=t[n];this.cArrPos+=1;var s=this.stack[this.cArrPos];s.opacity=r.opacity,s.fillStyle=r.fillStyle,s.strokeStyle=r.strokeStyle,s.lineWidth=r.lineWidth,s.lineCap=r.lineCap,s.lineJoin=r.lineJoin,s.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var n=t.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,n,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,n,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t=e[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var n,r,s,i,a,o=e.sh.v,l=e.transformers,c=o._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)r=this.getTransformedPoint(l,o.v[n]),s=this.getTransformedPoint(l,o.o[n]),i=this.getTransformedPoint(l,o.i[n+1]),a=this.getTransformedPoint(l,o.v[n+1]),this.checkBounds(r,s,i,a,t);o.c&&(r=this.getTransformedPoint(l,o.v[n]),s=this.getTransformedPoint(l,o.o[n]),i=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(r,s,i,a,t))}},HShapeElement.prototype.checkBounds=function(e,t,n,r,s){this.getBoundsOfCurve(e,t,n,r);var i=this.shapeBoundingBox;s.x=bmMin(i.left,s.x),s.xMax=bmMax(i.right,s.xMax),s.y=bmMin(i.top,s.y),s.yMax=bmMax(i.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,n,r){for(var s,i,a,o,l,c,h,u=[[e[0],r[0]],[e[1],r[1]]],d=0;d<2;++d)i=6*e[d]-12*t[d]+6*n[d],s=-3*e[d]+9*t[d]-9*n[d]+3*r[d],a=3*t[d]-3*e[d],i|=0,a|=0,0==(s|=0)&&0===i||(0===s?(o=-a/i)>0&&o<1&&u[d].push(this.calculateF(o,e,t,n,r,d)):(l=i*i-4*a*s)>=0&&((c=(-i+bmSqrt(l))/(2*s))>0&&c<1&&u[d].push(this.calculateF(c,e,t,n,r,d)),(h=(-i-bmSqrt(l))/(2*s))>0&&h<1&&u[d].push(this.calculateF(h,e,t,n,r,d))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(e,t,n,r,s,i){return bmPow(1-e,3)*t[i]+3*bmPow(1-e,2)*e*n[i]+3*(1-e)*bmPow(e,2)*r[i]+bmPow(e,3)*s[i]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]&&e[n].sh?this.calculateShapeBoundingBox(e[n],t):e[n]&&e[n].it?this.calculateBoundingBox(e[n].it,t):e[n]&&e[n].style&&e[n].w&&this.expandStrokeBoundingBox(e[n].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var n=0;if(e.keyframes){for(var r=0;r<e.keyframes.length;r+=1){var s=e.keyframes[r].s;s>n&&(n=s)}n*=e.mult}else n=e.v*e.mult;t.x-=n,t.xMax+=n,t.y-=n,t.yMax+=n},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var n=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),n=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),n=!0),n||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=s,r.webkitTransform=s}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,n=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=n,t.color=n,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var r,s,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var a=e.fWeight,o=e.fStyle;t.fontStyle=o,t.fontWeight=a}var l,c,h,u=e.l;s=u.length;var d,p=this.mHelper,f="",m=0;for(r=0;r<s;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(e.finalText[r],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=y?y.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(d=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,d),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var b=h.getBBox();h.setAttribute("width",b.width+2),h.setAttribute("height",b.height+2),h.setAttribute("viewBox",b.x-1+" "+(b.y-1)+" "+(b.width+2)+" "+(b.height+2));var v=h.style,w="translate("+(b.x-1)+"px,"+(b.y-1)+"px)";v.transform=w,v.webkitTransform=w,u[r].yOffset=b.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=u[r].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var E=l.style,k="translate3d(0,"+-e.finalSize/1.2+"px,0)";E.transform=k,E.webkitTransform=k}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,r,s,i,a,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(r=c.length,n=0;n<r;n+=1)c[n].n?o+=1:(i=this.textSpans[n],a=this.textPaths[n],s=l[o],o+=1,s._mdf.m&&(this.isMasked?i.setAttribute("transform",s.m):(i.style.webkitTransform=s.m,i.style.transform=s.m)),i.style.opacity=s.o,s.sw&&s._mdf.sw&&a.setAttribute("stroke-width",s.sw),s.sc&&s._mdf.sc&&a.setAttribute("stroke",s.sc),s.fc&&s._mdf.fc&&(a.setAttribute("fill",s.fc),a.style.color=s.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=u,e.webkitTransform=u}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,n,r,s=this.comp.threeDElements.length;for(e=0;e<s;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){n=t.perspectiveElem.style,r=t.container.style;var i=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=i,n.webkitPerspective=i,r.transformOrigin=a,r.mozTransformOrigin=a,r.webkitTransformOrigin=a,n.transform=o,n.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,n=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)n=this.hierarchy[e].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;s=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),a=[s[0]/i,s[1]/i,s[2]/i],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),c=Math.atan2(a[0],-a[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var u,d,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(u=this.comp.threeDElements[e]).type){if(h){var f=this.mat.toCSS();(p=u.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=u.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){var r=this.layers[t];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,t);else if(this.threeDElements)this.addTo3dContainer(n,t);else{for(var s,i,a=0;a<t;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(i=this.elements[a],s=(this.layers[a].ddd?this.getThreeDContainerByPos(a):i.getBaseElement())||s),a+=1;s?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,s):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var n,r,s=createTag("div");styleDiv(s);var i=createTag("div");if(styleDiv(i),"3d"===t){(n=s.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var a="50% 50%";n.webkitTransformOrigin=a,n.mozTransformOrigin=a,n.transformOrigin=a;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(r=i.style).transform=o,r.webkitTransform=o}s.appendChild(i);var l={container:i,perspectiveElem:s,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,n=this.layers.length,r="";for(e=0;e<n;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==r&&(r="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==r&&(r="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(n=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var n=0,r=this.threeDElements.length;n<r;){if(t<=this.threeDElements[n].endPos){for(var s,i=this.threeDElements[n].startPos;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(s=this.elements[i].getBaseElement()),i+=1;s?this.threeDElements[n].container.insertBefore(e,s):this.threeDElements[n].container.appendChild(e);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),n=this.animationItem.wrapper,r=t.style;r.width=e.w+"px",r.height=e.h+"px",this.resizerElem=t,styleDiv(t),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),n.appendChild(t),r.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var i=createNS("defs");s.appendChild(i),this.data=e,this.setupGlobalData(e,s),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,n,r,s=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,a=s/i;this.globalData.compSize.w/this.globalData.compSize.h>a?(e=s/this.globalData.compSize.w,t=s/this.globalData.compSize.w,n=0,r=(i-this.globalData.compSize.h*(s/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,n=(s-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,r=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+n+","+r+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(e=0;e<r;e+=1){var s=this.threeDElements[e].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px",s.perspective=s.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,n=e.length,r=createTag("div");for(t=0;t<n;t+=1)if(e[t].xt){var s=this.createComp(e[t],r,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var n,r=0;r<t;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(e,n):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var n=0,r=e.layers.length;n<r;){if(e.layers[n].nm===t||e.layers[n].ind===t)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}function seedRandom(e,t){var n,r=this,s=256,i="random",a=t.pow(s,6),o=t.pow(2,52),l=2*o,c=s-1;function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<s;)o[i]=i++;for(i=0;i<s;i++)o[i]=o[a=c&a+e[i%n]+(t=o[i])],o[a]=t;r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=c&i+1],n=n*s+o[c&(o[i]=o[a=c&a+t])+(o[a]=t)];return r.i=i,r.j=a,n}}function u(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){var n,r=[],s=_typeof$2(e);if(t&&"object"==s)for(n in e)try{r.push(d(e[n],t-1))}catch(e){}return r.length?r:"string"==s?e:e+"\0"}function p(e,t){for(var n,r=e+"",s=0;s<r.length;)t[c&s]=c&(n^=19*t[c&s])+r.charCodeAt(s++);return f(t)}function f(e){return String.fromCharCode.apply(0,e)}t["seed"+i]=function(c,m,g){var y=[],b=p(d((m=!0===m?{entropy:!0}:m||{}).entropy?[c,f(e)]:null===c?function(){try{if(n)return f(n.randomBytes(s));var t=new Uint8Array(s);return(r.crypto||r.msCrypto).getRandomValues(t),f(t)}catch(t){var i=r.navigator,a=i&&i.plugins;return[+new Date,r,a,r.screen,f(e)]}}():c,3),y),v=new h(y),w=function(){for(var e=v.g(6),t=a,n=0;e<o;)e=(e+n)*s,t*=s,n=v.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|v.g(4)},w.quick=function(){return v.g(4)/4294967296},w.double=w,p(f(v.S),e),(m.pass||g||function(e,n,r,s){return s&&(s.S&&u(s,v),e.state=function(){return u(v,{})}),r?(t[i]=e,n):e})(w,b,"global"in m?m.global:this==t,m.state)},p(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||t instanceof Number||"boolean"===e||"string"===e}function $bm_neg(e){var t=_typeof$1(e);if("number"===t||e instanceof Number||"boolean"===t)return-e;if($bm_isInstanceOfArray(e)){var n,r=e.length,s=[];for(n=0;n<r;n+=1)s[n]=-e[n];return s}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var n=_typeof$1(e),r=_typeof$1(t);if(isNumerable(n,e)&&isNumerable(r,t)||"string"===n||"string"===r)return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var s=0,i=e.length,a=t.length,o=[];s<i||s<a;)("number"==typeof e[s]||e[s]instanceof Number)&&("number"==typeof t[s]||t[s]instanceof Number)?o[s]=e[s]+t[s]:o[s]=void 0===t[s]?e[s]:e[s]||t[s],s+=1;return o}return 0}var add=sum;function sub(e,t){var n=_typeof$1(e),r=_typeof$1(t);if(isNumerable(n,e)&&isNumerable(r,t))return"string"===n&&(e=parseInt(e,10)),"string"===r&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var s=0,i=e.length,a=t.length,o=[];s<i||s<a;)("number"==typeof e[s]||e[s]instanceof Number)&&("number"==typeof t[s]||t[s]instanceof Number)?o[s]=e[s]-t[s]:o[s]=void 0===t[s]?e[s]:e[s]||t[s],s+=1;return o}return 0}function mul(e,t){var n,r,s,i=_typeof$1(e),a=_typeof$1(t);if(isNumerable(i,e)&&isNumerable(a,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(s=e.length,n=createTypedArray("float32",s),r=0;r<s;r+=1)n[r]=e[r]*t;return n}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(s=t.length,n=createTypedArray("float32",s),r=0;r<s;r+=1)n[r]=e*t[r];return n}return 0}function div(e,t){var n,r,s,i=_typeof$1(e),a=_typeof$1(t);if(isNumerable(i,e)&&isNumerable(a,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(s=e.length,n=createTypedArray("float32",s),r=0;r<s;r+=1)n[r]=e[r]/t;return n}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(s=t.length,n=createTypedArray("float32",s),r=0;r<s;r+=1)n[r]=e/t[r];return n}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,n){if(t>n){var r=n;n=t,t=r}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var n;t||(t=helperLengthArray);var r=Math.min(e.length,t.length),s=0;for(n=0;n<r;n+=1)s+=Math.pow(t[n]-e[n],2);return Math.sqrt(s)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,n,r=e[0],s=e[1],i=e[2],a=Math.max(r,s,i),o=Math.min(r,s,i),l=(a+o)/2;if(a===o)t=0,n=0;else{var c=a-o;switch(n=l>.5?c/(2-a-o):c/(a+o),a){case r:t=(s-i)/c+(s<i?6:0);break;case s:t=(i-r)/c+2;break;case i:t=(r-s)/c+4}t/=6}return[t,n,l,e[3]]}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e){var t,n,r,s=e[0],i=e[1],a=e[2];if(0===i)t=a,r=a,n=a;else{var o=a<.5?a*(1+i):a+i-a*i,l=2*a-o;t=hue2rgb(l,o,s+1/3),n=hue2rgb(l,o,s),r=hue2rgb(l,o,s-1/3)}return[t,n,r,e[3]]}function linear(e,t,n,r,s){if(void 0!==r&&void 0!==s||(r=t,s=n,t=0,n=1),n<t){var i=n;n=t,t=i}if(e<=t)return r;if(e>=n)return s;var a,o=n===t?0:(e-t)/(n-t);if(!r.length)return r+(s-r)*o;var l=r.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=r[a]+(s[a]-r[a])*o;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var n,r=t.length;e||(e=createTypedArray("float32",r));var s=createTypedArray("float32",r),i=BMMath.random();for(n=0;n<r;n+=1)s[n]=e[n]+i*(t[n]-e[n]);return s}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,n,r){var s,i=e.length,a=shapePool.newElement();a.setPathData(!!r,i);var o,l,c=[0,0];for(s=0;s<i;s+=1)o=t&&t[s]?t[s]:c,l=n&&n[s]?n[s]:c,a.setTripleAt(e[s][0],e[s][1],l[0]+e[s][0],l[1]+e[s][1],o[0]+e[s][0],o[1]+e[s][1],s,!0);return a}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var n,r,s=this.pv.length?this.pv.length:1,i=createTypedArray("float32",s),a=Math.floor(5*time);for(n=0,r=0;n<a;){for(r=0;r<s;r+=1)i[r]+=-t+2*t*BMMath.random();n+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",s);if(s>1){for(r=0;r<s;r+=1)c[r]=this.pv[r]+i[r]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(e,t,n,r,s){return applyEase(easeOutBez,e,t,n,r,s)}function easeIn(e,t,n,r,s){return applyEase(easeInBez,e,t,n,r,s)}function ease(e,t,n,r,s){return applyEase(easeInOutBez,e,t,n,r,s)}function applyEase(e,t,n,r,s,i){void 0===s?(s=n,i=r):t=(t-n)/(r-n),t>1?t=1:t<0&&(t=0);var a=e(t);if($bm_isInstanceOfArray(s)){var o,l=s.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(i[o]-s[o])*a+s[o];return c}return(i-s)*a+s}function nearestKey(e){var t,n,r,s=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(t=0;t<s-1;t+=1){if(e===data.k[t].t){n=t+1,r=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(n=t+2,r=data.k[t+1].t):(n=t+1,r=data.k[t].t);break}}-1===n&&(n=t+1,r=data.k[t].t)}else n=0,r=0;var i={};return i.index=n,i.time=r/elem.comp.globalData.frameRate,i}function key(e){var t,n,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var s=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(r=s.length,n=0;n<r;n+=1)t[n]=s[n],t.value[n]=s[n];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={initExpressions:function(e){var t=0,n=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=n.length;for(e=0;e<t;e+=1)n[e].release();n.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===n.indexOf(e)&&n.push(e)}}};return e.resetFrame=ExpressionManager.resetFrame,e}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var n,r=createSizedArray(t.viewData.length),s=t.viewData.length;for(n=0;n<s;n+=1)r[n]=new e(t.viewData[n],t.masksProperties[n]);return function(e){for(n=0;n<s;){if(t.masksProperties[n].nm===e)return r[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(e,t,n){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(r){if(!e.numKeys)return 0;var s="";s="s"in t.keyframes[r-1]?t.keyframes[r-1].s:"e"in t.keyframes[r-2]?t.keyframes[r-2].e:t.keyframes[r-2].s;var i="unidimensional"===n?new Number(s):Object.assign({},s);return i.time=t.keyframes[r-1].t/t.elem.comp.globalData.frameRate,i.value="unidimensional"===n?s[0]:s,i},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function r(){return e}return function(s){return s?"unidimensional"===s.propType?function(t){t&&"pv"in t||(t=e);var r=1/t.mult,s=t.pv*r,i=new Number(s);return i.value=s,n(i,t,"unidimensional"),function(){return t.k&&t.getValue(),s=t.v*r,i.value!==s&&((i=new Number(s)).value=s,n(i,t,"unidimensional")),i}}(s):function(e){e&&"pv"in e||(e=t);var r=1/e.mult,s=e.data&&e.data.l||e.pv.length,i=createTypedArray("float32",s),a=createTypedArray("float32",s);return i.value=a,n(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<s;t+=1)a[t]=e.v[t]*r,i[t]=a[t];return i}}(s):r}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var n,r,s,i;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?i=ExpressionPropertyInterface(e.p):(n=ExpressionPropertyInterface(e.px),r=ExpressionPropertyInterface(e.py),e.pz&&(s=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?i():[n(),r(),s?s():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var n=this.getMatrix(t);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,e)}function n(e,t){var n=this.getMatrix(t);return this.applyPoint(n,e)}function r(e,t){var n=this.getMatrix(t);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,e)}function s(e,t){var n=this.getMatrix(t);return this.invertPoint(n,e)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function a(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function o(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var h;function u(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return u.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return u.effect;case"ADBE Text Properties":return u.textInterface;default:return null}}u.getMatrix=e,u.invertPoint=a,u.applyPoint=i,u.toWorld=n,u.toWorldVec=t,u.fromWorld=s,u.fromWorldVec=r,u.toComp=n,u.fromComp=o,u.sampleImage=l,u.sourceRectAtTime=c.sourceRectAtTime.bind(c),u._elem=c;var d=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(u,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),u.startTime=c.data.st,u.index=c.data.ind,u.source=c.data.refId,u.height=0===c.data.ty?c.data.h:100,u.width=0===c.data.ty?c.data.w:100,u.inPoint=c.data.ip/c.comp.globalData.frameRate,u.outPoint=c.data.op/c.comp.globalData.frameRate,u._name=c.data.nm,u.registerMaskInterface=function(e){u.mask=new MaskManagerInterface(e,c)},u.registerEffectsInterface=function(e){u.effect=e},u}}(),propertyGroupFactory=function(e,t){return function(n){return(n=void 0===n?1:n)<=0?e:t(n-1)}},PropertyInterface=function(e,t){var n={_name:e};return function(e){return(e=void 0===e?1:e)<=0?n:t(e-1)}},EffectsExpressionInterface=function(){function e(n,r,s,i){function a(e){for(var t=n.ef,r=0,s=t.length;r<s;){if(e===t[r].nm||e===t[r].mn||e===t[r].ix)return 5===t[r].ty?c[r]:c[r]();r+=1}throw new Error}var o,l=propertyGroupFactory(a,s),c=[],h=n.ef.length;for(o=0;o<h;o+=1)5===n.ef[o].ty?c.push(e(n.ef[o],r.effectElements[o],r.effectElements[o].propertyGroup,i)):c.push(t(r.effectElements[o],n.ef[o].ty,i,l));return"ADBE Color Control"===n.mn&&Object.defineProperty(a,"color",{get:function(){return c[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:l}}),a.enabled=0!==n.en,a.active=a.enabled,a}function t(e,t,n,r){var s=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",r)),function(){return 10===t?n.comp.compInterface(e.p.v):s()}}return{createEffectsInterface:function(t,n){if(t.effectsManager){var r,s=[],i=t.data.ef,a=t.effectsManager.effectElements.length;for(r=0;r<a;r+=1)s.push(e(i[r],t.effectsManager.effectElements[r],n,t));var o=t.data.ef||[],l=function(e){for(r=0,a=o.length;r<a;){if(e===o[r].nm||e===o[r].mn||e===o[r].ix)return s[r];r+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),ShapePathInterface=function(e,t,n){var r=t.sh;function s(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?s.path:null}var i=propertyGroupFactory(s,n);return r.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(s,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:n}}),s},ShapeExpressionInterface=function(){function e(e,a,d){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],a[p],d)):"fl"===e[p].ty?f.push(n(e[p],a[p],d)):"st"===e[p].ty?f.push(s(e[p],a[p],d)):"tm"===e[p].ty?f.push(i(e[p],a[p],d)):"tr"===e[p].ty||("el"===e[p].ty?f.push(o(e[p],a[p],d)):"sr"===e[p].ty?f.push(l(e[p],a[p],d)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],a[p],d)):"rc"===e[p].ty?f.push(c(e[p],a[p],d)):"rd"===e[p].ty?f.push(h(e[p],a[p],d)):"rp"===e[p].ty?f.push(u(e[p],a[p],d)):"gf"===e[p].ty?f.push(r(e[p],a[p],d)):f.push((e[p],a[p],function(){return null})));return f}function t(t,n,r){var s=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return s.content;default:return s.transform}};s.propertyGroup=propertyGroupFactory(s,r);var i=function(t,n,r){var s,i=function(e){for(var t=0,n=s.length;t<n;){if(s[t]._name===e||s[t].mn===e||s[t].propertyIndex===e||s[t].ix===e||s[t].ind===e)return s[t];t+=1}return"number"==typeof e?s[e-1]:null};i.propertyGroup=propertyGroupFactory(i,r),s=e(t.it,n.it,i.propertyGroup),i.numProperties=s.length;var o=a(t.it[t.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.transform=o,i.propertyIndex=t.cix,i._name=t.nm,i}(t,n,s.propertyGroup),o=a(t.it[t.it.length-1],n.it[n.it.length-1],s.propertyGroup);return s.content=i,s.transform=o,Object.defineProperty(s,"_name",{get:function(){return t.nm}}),s.numProperties=t.np,s.propertyIndex=t.ix,s.nm=t.nm,s.mn=t.mn,s}function n(e,t,n){function r(e){return"Color"===e||"color"===e?r.color:"Opacity"===e||"opacity"===e?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function r(e,t,n){function r(e){return"Start Point"===e||"start point"===e?r.startPoint:"End Point"===e||"end point"===e?r.endPoint:"Opacity"===e||"opacity"===e?r.opacity:null}return Object.defineProperties(r,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",n)),t.e.setGroupProperty(PropertyInterface("End Point",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function s(e,t,n){var r,s=propertyGroupFactory(c,n),i=propertyGroupFactory(l,s);function a(n){Object.defineProperty(l,e.d[n].nm,{get:ExpressionPropertyInterface(t.d.dataProps[n].p)})}var o=e.d?e.d.length:0,l={};for(r=0;r<o;r+=1)a(r),t.d.dataProps[r].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",s)),t.o.setGroupProperty(PropertyInterface("Opacity",s)),t.w.setGroupProperty(PropertyInterface("Stroke Width",s)),c}function i(e,t,n){function r(t){return t===e.e.ix||"End"===t||"end"===t?r.end:t===e.s.ix?r.start:t===e.o.ix?r.offset:null}var s=propertyGroupFactory(r,n);return r.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",s)),t.e.setGroupProperty(PropertyInterface("End",s)),t.o.setGroupProperty(PropertyInterface("Offset",s)),r.propertyIndex=e.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}function a(e,t,n){function r(t){return e.a.ix===t||"Anchor Point"===t?r.anchorPoint:e.o.ix===t||"Opacity"===t?r.opacity:e.p.ix===t||"Position"===t?r.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?r.rotation:e.s.ix===t||"Scale"===t?r.scale:e.sk&&e.sk.ix===t||"Skew"===t?r.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?r.skewAxis:null}var s=propertyGroupFactory(r,n);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",s)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",s)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",s)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",s)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",s)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",s)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",s))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",s)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),r.ty="tr",r.mn=e.mn,r.propertyGroup=n,r}function o(e,t,n){function r(t){return e.p.ix===t?r.position:e.s.ix===t?r.size:null}var s=propertyGroupFactory(r,n);r.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;return i.s.setGroupProperty(PropertyInterface("Size",s)),i.p.setGroupProperty(PropertyInterface("Position",s)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),r.mn=e.mn,r}function l(e,t,n){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.rotation:e.pt.ix===t?r.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?r.outerRadius:e.os.ix===t?r.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?r.innerRoundness:null:r.innerRadius}var s=propertyGroupFactory(r,n),i="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",s)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",s)),i.pt.setGroupProperty(PropertyInterface("Points",s)),i.p.setGroupProperty(PropertyInterface("Position",s)),i.r.setGroupProperty(PropertyInterface("Rotation",s)),e.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",s)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",s))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),r.mn=e.mn,r}function c(e,t,n){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?r.size:null}var s=propertyGroupFactory(r,n),i="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,i.p.setGroupProperty(PropertyInterface("Position",s)),i.s.setGroupProperty(PropertyInterface("Size",s)),i.r.setGroupProperty(PropertyInterface("Rotation",s)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),r.mn=e.mn,r}function h(e,t,n){function r(t){return e.r.ix===t||"Round Corners 1"===t?r.radius:null}var s=propertyGroupFactory(r,n),i=t;return r.propertyIndex=e.ix,i.rd.setGroupProperty(PropertyInterface("Radius",s)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:e.nm}}),r.mn=e.mn,r}function u(e,t,n){function r(t){return e.c.ix===t||"Copies"===t?r.copies:e.o.ix===t||"Offset"===t?r.offset:null}var s=propertyGroupFactory(r,n),i=t;return r.propertyIndex=e.ix,i.c.setGroupProperty(PropertyInterface("Copies",s)),i.o.setGroupProperty(PropertyInterface("Offset",s)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),r.mn=e.mn,r}return function(t,n,r){var s;function i(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?r:s[e-1];for(var t=0,n=s.length;t<n;){if(s[t]._name===e)return s[t];t+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return r})),s=e(t,n,i.propertyGroup),i.numProperties=s.length,i._name="Contents",i}}(),TextExpressionInterface=function(e){var t;function n(e){return"ADBE Text Document"===e?n.sourceText:null}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return t&&n===t.value||((t=new String(n)).value=n||new String(n),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),n};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",n=e.getFootageData();function r(e){if(n[e])return t=e,"object"===_typeof(n=n[e])?r:n;var s=e.indexOf(t);if(-1!==s){var i=parseInt(e.substr(s+t.length),10);return"object"===_typeof(n=n[i])?r:n}return""}return function(){return t="",n=e.getFootageData(),r}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers={searchExpressions:function(e,t,n){t.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(e,t,n).bind(n)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),n=this.getValueAtTime(e+-.01),r=0;if(t.length){var s;for(s=0;s<t.length;s+=1)r+=Math.pow(n[s]-t[s],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,n,r=-.001,s=this.getValueAtTime(e),i=this.getValueAtTime(e+r);if(s.length)for(t=createTypedArray("float32",s.length),n=0;n<s.length;n+=1)t[n]=(i[n]-s[n])/r;else t=(i-s)/r;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,n){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var r,s,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(n?s=h-(r=t?Math.abs(h-this.elem.comp.globalData.frameRate*t):Math.max(0,h-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),r=h-(s=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-s)/r)%2!=0)return this.getValueAtTime((r-(l-s)%r+s)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(s/this.comp.globalData.frameRate,0),d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-s)%r+s)/this.comp.globalData.frameRate,0),f=Math.floor((l-s)/r);if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=(d[i]-u[i])*f+p[i];return o}return(d-u)*f+p}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return o}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-s)%r+s)/this.comp.globalData.frameRate,0)}function t(e,t,n){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var r,s,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(n?s=h+(r=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-h)):((!t||t>c.length-1)&&(t=c.length-1),r=(s=c[t].t)-h),"pingpong"===e){if(Math.floor((h-l)/r)%2==0)return this.getValueAtTime(((h-l)%r+h)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),d=this.getValueAtTime(s/this.comp.globalData.frameRate,0),p=this.getValueAtTime((r-(h-l)%r+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/r)+1;if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=p[i]-(d[i]-u[i])*f;return o}return p-(d-u)*f}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return o}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((r-((h-l)%r+h))/this.comp.globalData.frameRate,0)}function n(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var n,r,s=this.comp.renderedFrame/this.comp.globalData.frameRate,i=s-e,a=t>1?(s+e-i)/(t-1):1,o=0,l=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;o<t;){if(r=this.getValueAtTime(i+o*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]+=r[l];else n+=r;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]/=t;else n/=t;return n}function r(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(e);t.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(e);t.scale(r[0]*this.s.mult,r[1]*this.s.mult,r[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var s=this.sk.getValueAtTime(e),i=this.sa.getValueAtTime(e);t.skewFromAxis(-s*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(e);t.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),h=this.or.getValueAtTime(e);t.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(e),d=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(u*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else t.translate(u*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function s(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,n){var a=i(e,t,n);return a.dynamicProperties.length?a.getValueAtTime=r.bind(a):a.getValueAtTime=s.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(r,s,i,o,l){var c=a(r,s,i,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===s.a?s.k.length:0,c.propertyIndex=s.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===s.a?s.k[0].s.length:s.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(r,s,c),c.k&&l.addDynamicProperty(c),c};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var n,r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0));var s=r._length,i=r[e],a=r.v,o=createSizedArray(s);for(n=0;n<s;n+=1)o[n]="i"===e||"o"===e?[i[n][0]-a[n][0],i[n][1]-a[n][1]]:[i[n][0],i[n][1]];return o},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var r,s=this._segmentsLength,i=s.lengths,a=s.totalLength*e,o=0,l=i.length,c=0;o<l;){if(c+i[o].addedLength>a){var h=o,u=n.c&&o===l-1?0:o+1,d=(a-c)/i[o].addedLength;r=bez.getPointInSegment(n.v[h],n.v[u],n.o[h],n.i[u],d,i[o]);break}c+=i[o].addedLength,o+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(e,t,n){1==e?e=this.v.c:0==e&&(e=.999);var r=this.pointOnPath(e,t),s=this.pointOnPath(e+.001,t),i=s[0]-r[0],a=s[1]-r[1],o=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));return 0===o?[0,0]:"tangent"===n?[i/o,a/o]:[-a/o,i/o]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,n,r,s){var i=h(e,t,n,r,s);return i.propertyIndex=t.ix,i.lock=!1,3===n?expressionHelpers.searchExpressions(e,t.pt,i):4===n&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var n=this.calculateExpression(t);if(e.t!==n){var r={};return this.copyData(r,e),r.t=n.toString(),r.__complete=!1,r}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(e,t){var n,r,s=createNS("feMerge");for(s.setAttribute("result",e),r=0;r<t.length;r+=1)(n=createNS("feMergeNode")).setAttribute("in",t[r]),s.appendChild(n),s.appendChild(n);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,n,r,s){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=i,i.setAttribute("result",r+"_tint_1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",r+"_tint_2"),e.appendChild(i),this.matrixFilter=i;var a=this.createMergeNode(r,[s,r+"_tint_1",r+"_tint_2"]);e.appendChild(a)}function SVGFillFilter(e,t,n,r){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",r),e.appendChild(s),this.matrixFilter=s}function SVGStrokeEffect(e,t,n){this.initialized=!1,this.filterManager=t,this.elem=n,this.paths=[]}function SVGTritoneFilter(e,t,n,r){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(s);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",r),this.matrixFilter=i;var a=createNS("feFuncR");a.setAttribute("type","table"),i.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),i.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,e.appendChild(i)}function SVGProLevelsFilter(e,t,n,r){this.filterManager=t;var s=this.filterManager.effectElements,i=createNS("feComponentTransfer");(s[10].p.k||0!==s[10].p.v||s[11].p.k||1!==s[11].p.v||s[12].p.k||1!==s[12].p.v||s[13].p.k||0!==s[13].p.v||s[14].p.k||1!==s[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(s[17].p.k||0!==s[17].p.v||s[18].p.k||1!==s[18].p.v||s[19].p.k||1!==s[19].p.v||s[20].p.k||0!==s[20].p.v||s[21].p.k||1!==s[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(s[24].p.k||0!==s[24].p.v||s[25].p.k||1!==s[25].p.v||s[26].p.k||1!==s[26].p.v||s[27].p.k||0!==s[27].p.v||s[28].p.k||1!==s[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(s[31].p.k||0!==s[31].p.v||s[32].p.k||1!==s[32].p.v||s[33].p.k||1!==s[33].p.v||s[34].p.k||0!==s[34].p.v||s[35].p.k||1!==s[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i)),(s[3].p.k||0!==s[3].p.v||s[4].p.k||1!==s[4].p.v||s[5].p.k||1!==s[5].p.v||s[6].p.k||0!==s[6].p.v||s[7].p.k||1!==s[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",r),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t,n,r,s){var i=t.container.globalData.renderConfig.filterSize,a=t.data.fs||i;e.setAttribute("x",a.x||i.x),e.setAttribute("y",a.y||i.y),e.setAttribute("width",a.width||i.width),e.setAttribute("height",a.height||i.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",r+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",r+"_drop_shadow_3"),h.setAttribute("in2",r+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",r+"_drop_shadow_4"),e.appendChild(h);var u=this.createMergeNode(r,[r+"_drop_shadow_4",s]);e.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,n,r,s=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=1+(n=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);n<r;n+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:n});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),a=createElementID();i.setAttribute("id",a),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");s[0];)o.appendChild(s[0]);this.elem.layerElement.appendChild(o),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(s=this.elem.layerElement.children||this.elem.layerElement.childNodes;s.length;)this.elem.layerElement.removeChild(s[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var n,r,s=this.paths.length;for(t=0;t<s;t+=1)if(-1!==this.paths[t].m&&(n=this.elem.maskManager.viewData[this.paths[t].m],r=this.paths[t].p,(e||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=r.getTotalLength();i="0 0 0 "+l*a+" ";var c,h=l*(o-a),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(h/u);for(c=0;c<d;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;r.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,s=r[0]+" "+n[0]+" "+t[0],i=r[1]+" "+n[1]+" "+t[1],a=r[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=createNS(e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,r,s){for(var i,a,o=0,l=Math.min(e,t),c=Math.max(e,t),h=Array.call(null,{length:256}),u=0,d=s-r,p=t-e;o<=256;)a=(i=o/256)<=l?p<0?s:r:i>=c?p<0?r:s:r+d*Math.pow((i-e)/p,1/n),h[u]=a,u+=1,o+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=n*Math.cos(r),i=n*Math.sin(r);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(e,t,n,r){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var s=createNS("feGaussianBlur");s.setAttribute("result",r),e.appendChild(s),this.feGaussianBlur=s}function TransformEffect(){}function SVGTransformEffect(e,t){this.init(t)}function CVTransformEffect(e){this.init(e)}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var n=e.layerElement.parentNode;if(n){for(var r,s=n.children,i=0,a=s.length;i<a&&s[i]!==e.layerElement;)i+=1;i<=a-2&&(r=s[i+1]);var o=createNS("use");o.setAttribute("href","#"+t),r?n.insertBefore(o,r):n.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",t.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var s=e.globalData.defs;s.appendChild(r);var i=createNS("symbol");i.setAttribute("id",n),this.replaceInParent(t,n),i.appendChild(t.layerElement),s.appendChild(i);var a=createNS("use");a.setAttribute("href","#"+n),r.appendChild(a),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,r=t.length;n<r;)t[n]&&t[n].data.ind===e&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=3==n?0:t,s=2==n?0:t;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+s);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,n=t[0].p.v,r=t[1].p.v,s=1===t[2].p.v,i=t[3].p.v,a=s?i:t[4].p.v,o=t[5].p.v,l=t[6].p.v,c=t[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*a,.01*i,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},5112:e=>{var t=function(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};t.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},t.prototype.init_by_array=function(e,t){var n,r,s;for(this.init_seed(19650218),n=1,r=0,s=this.N>t?this.N:t;s;s--){var i=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1664525*((4294901760&i)>>>16)<<16)+1664525*(65535&i))+e[r]+r,this.mt[n]>>>=0,r++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),r>=t&&(r=0)}for(s=this.N-1;s;s--){i=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1566083941*((4294901760&i)>>>16)<<16)+1566083941*(65535&i))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1)}this.mt[0]=2147483648},t.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_seed(5489),n=0;n<this.N-this.M;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^e>>>1^t[1&e];for(;n<this.N-1;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},t.prototype.random_int31=function(){return this.random_int()>>>1},t.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},t.prototype.random=function(){return this.random_int()*(1/4294967296)},t.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},t.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},e.exports=t},6152:(e,t,n)=>{"use strict";var r=n(6759),s=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var o=e[n];r(o)?t=s.call(t,i.call(o)):t.push(o)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},8132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3759);function s(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function a(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function o(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function l(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function h(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function u(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),h(e/4294967296>>>0,t,n),h(e>>>0,t,n+4),t}function p(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),u(e>>>0,t,n),u(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=s,t.writeInt16BE=s,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=a,t.readUint32BE=o,t.readInt32LE=l,t.readUint32LE=c,t.writeUint32BE=h,t.writeInt32BE=h,t.writeUint32LE=u,t.writeInt32LE=u,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=a(e,t),r=a(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*o(e,t)+o(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=l(e,t);return 4294967296*l(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=p,t.writeInt64LE=p,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,s=1,i=e/8+n-1;i>=n;i--)r+=t[i]*s,s*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,s=1,i=n;i<n+e/8;i++)r+=t[i]*s,s*=256;return r},t.writeUintBE=function(e,t,n,s){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===s&&(s=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,a=e/8+s-1;a>=s;a--)n[a]=t/i&255,i*=256;return n},t.writeUintLE=function(e,t,n,s){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===s&&(s=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,a=s;a<s+e/8;a++)n[a]=t/i&255,i*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},8258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8132),s=n(635),i=20;function a(e,t,n){for(var s=1634760805,a=857760878,o=2036477234,l=1797285236,c=n[3]<<24|n[2]<<16|n[1]<<8|n[0],h=n[7]<<24|n[6]<<16|n[5]<<8|n[4],u=n[11]<<24|n[10]<<16|n[9]<<8|n[8],d=n[15]<<24|n[14]<<16|n[13]<<8|n[12],p=n[19]<<24|n[18]<<16|n[17]<<8|n[16],f=n[23]<<24|n[22]<<16|n[21]<<8|n[20],m=n[27]<<24|n[26]<<16|n[25]<<8|n[24],g=n[31]<<24|n[30]<<16|n[29]<<8|n[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],b=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],E=s,k=a,x=o,A=l,_=c,P=h,S=u,C=d,T=p,I=f,O=m,M=g,D=y,N=b,F=v,B=w,R=0;R<i;R+=2)_=(_^=T=T+(D=(D^=E=E+_|0)>>>16|D<<16)|0)>>>20|_<<12,P=(P^=I=I+(N=(N^=k=k+P|0)>>>16|N<<16)|0)>>>20|P<<12,S=(S^=O=O+(F=(F^=x=x+S|0)>>>16|F<<16)|0)>>>20|S<<12,C=(C^=M=M+(B=(B^=A=A+C|0)>>>16|B<<16)|0)>>>20|C<<12,S=(S^=O=O+(F=(F^=x=x+S|0)>>>24|F<<8)|0)>>>25|S<<7,C=(C^=M=M+(B=(B^=A=A+C|0)>>>24|B<<8)|0)>>>25|C<<7,P=(P^=I=I+(N=(N^=k=k+P|0)>>>24|N<<8)|0)>>>25|P<<7,_=(_^=T=T+(D=(D^=E=E+_|0)>>>24|D<<8)|0)>>>25|_<<7,P=(P^=O=O+(B=(B^=E=E+P|0)>>>16|B<<16)|0)>>>20|P<<12,S=(S^=M=M+(D=(D^=k=k+S|0)>>>16|D<<16)|0)>>>20|S<<12,C=(C^=T=T+(N=(N^=x=x+C|0)>>>16|N<<16)|0)>>>20|C<<12,_=(_^=I=I+(F=(F^=A=A+_|0)>>>16|F<<16)|0)>>>20|_<<12,C=(C^=T=T+(N=(N^=x=x+C|0)>>>24|N<<8)|0)>>>25|C<<7,_=(_^=I=I+(F=(F^=A=A+_|0)>>>24|F<<8)|0)>>>25|_<<7,S=(S^=M=M+(D=(D^=k=k+S|0)>>>24|D<<8)|0)>>>25|S<<7,P=(P^=O=O+(B=(B^=E=E+P|0)>>>24|B<<8)|0)>>>25|P<<7;r.writeUint32LE(E+s|0,e,0),r.writeUint32LE(k+a|0,e,4),r.writeUint32LE(x+o|0,e,8),r.writeUint32LE(A+l|0,e,12),r.writeUint32LE(_+c|0,e,16),r.writeUint32LE(P+h|0,e,20),r.writeUint32LE(S+u|0,e,24),r.writeUint32LE(C+d|0,e,28),r.writeUint32LE(T+p|0,e,32),r.writeUint32LE(I+f|0,e,36),r.writeUint32LE(O+m|0,e,40),r.writeUint32LE(M+g|0,e,44),r.writeUint32LE(D+y|0,e,48),r.writeUint32LE(N+b|0,e,52),r.writeUint32LE(F+v|0,e,56),r.writeUint32LE(B+w|0,e,60)}function o(e,t,n,r,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var o,c;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");c=(o=new Uint8Array(16)).length-t.length,o.set(t,c)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,c=i}for(var h=new Uint8Array(64),u=0;u<n.length;u+=64){a(h,o,e);for(var d=u;d<u+64&&d<n.length;d++)r[d]=n[d]^h[d-u];l(o,0,c)}return s.wipe(h),0===i&&s.wipe(o),r}function l(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=o,t.stream=function(e,t,n,r){return void 0===r&&(r=0),s.wipe(n),o(e,t,n,n,r)}},1063:(e,t,n)=>{"use strict";var r=n(8258),s=n(329),i=n(635),a=n(8132),o=n(7143);t.Cv=32,t.WH=12,t.pg=16;var l=new Uint8Array(16),c=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,s){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var a=new Uint8Array(16);a.set(e,a.length-e.length);var o=new Uint8Array(32);r.stream(this._key,a,o,4);var l,c=t.length+this.tagLength;if(s){if(s.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");l=s}else l=new Uint8Array(c);return r.streamXOR(this._key,a,t,l,4),this._authenticate(l.subarray(l.length-this.tagLength,l.length),o,l.subarray(0,l.length-this.tagLength),n),i.wipe(a),l},e.prototype.open=function(e,t,n,s){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=new Uint8Array(16);a.set(e,a.length-e.length);var l=new Uint8Array(32);r.stream(this._key,a,l,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,l,t.subarray(0,t.length-this.tagLength),n),!o.equal(c,t.subarray(t.length-this.tagLength,t.length)))return null;var h,u=t.length-this.tagLength;if(s){if(s.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=s}else h=new Uint8Array(u);return r.streamXOR(this._key,a,t.subarray(0,t.length-this.tagLength),h,4),i.wipe(a),h},e.prototype.clean=function(){return i.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var o=new s.Poly1305(t);r&&(o.update(r),r.length%16>0&&o.update(l.subarray(r.length%16))),o.update(n),n.length%16>0&&o.update(l.subarray(n.length%16));var c=new Uint8Array(8);r&&a.writeUint64LE(r.length,c),o.update(c),a.writeUint64LE(n.length,c),o.update(c);for(var h=o.digest(),u=0;u<h.length;u++)e[u]=h[u];o.clean(),i.wipe(h),i.wipe(c)},e}();t.OK=c},7143:(e,t)=>{"use strict";function n(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=n,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==n(e,t)}},4985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},5067:(e,t,n)=>{"use strict";var r=n(9498),s=n(635),i=function(){function e(e,t,n,s){void 0===n&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=s;var i=r.hmac(this._hash,n,t);this._hmac=new r.HMAC(e,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),s.wipe(this._buffer),s.wipe(this._counter),this._bufpos=0},e}();t.t=i},9498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4985),s=n(7143),i=n(635),a=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),i.wipe(n)}return e.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=a,t.hmac=function(e,t,n){var r=new a(e,t);r.update(n);var s=r.digest();return r.clean(),s},t.equal=s.equal},3759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7143),s=n(635);t.DIGEST_LENGTH=16;var i=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var s=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|s<<6);var i=e[6]|e[7]<<8;this._r[3]=8191&(s>>>7|i<<9);var a=e[8]|e[9]<<8;this._r[4]=255&(i>>>4|a<<12),this._r[5]=a>>>1&8190;var o=e[10]|e[11]<<8;this._r[6]=8191&(a>>>14|o<<2);var l=e[12]|e[13]<<8;this._r[7]=8065&(o>>>11|l<<5);var c=e[14]|e[15]<<8;this._r[8]=8191&(l>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,s=this._h[0],i=this._h[1],a=this._h[2],o=this._h[3],l=this._h[4],c=this._h[5],h=this._h[6],u=this._h[7],d=this._h[8],p=this._h[9],f=this._r[0],m=this._r[1],g=this._r[2],y=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],E=this._r[7],k=this._r[8],x=this._r[9];n>=16;){var A=e[t+0]|e[t+1]<<8;s+=8191&A;var _=e[t+2]|e[t+3]<<8;i+=8191&(A>>>13|_<<3);var P=e[t+4]|e[t+5]<<8;a+=8191&(_>>>10|P<<6);var S=e[t+6]|e[t+7]<<8;o+=8191&(P>>>7|S<<9);var C=e[t+8]|e[t+9]<<8;l+=8191&(S>>>4|C<<12),c+=C>>>1&8191;var T=e[t+10]|e[t+11]<<8;h+=8191&(C>>>14|T<<2);var I=e[t+12]|e[t+13]<<8;u+=8191&(T>>>11|I<<5);var O=e[t+14]|e[t+15]<<8,M=0,D=M;D+=s*f,D+=i*(5*x),D+=a*(5*k),D+=o*(5*E),M=(D+=l*(5*w))>>>13,D&=8191,D+=c*(5*v),D+=h*(5*b),D+=u*(5*y),D+=(d+=8191&(I>>>8|O<<8))*(5*g);var N=M+=(D+=(p+=O>>>5|r)*(5*m))>>>13;N+=s*m,N+=i*f,N+=a*(5*x),N+=o*(5*k),M=(N+=l*(5*E))>>>13,N&=8191,N+=c*(5*w),N+=h*(5*v),N+=u*(5*b),N+=d*(5*y),M+=(N+=p*(5*g))>>>13,N&=8191;var F=M;F+=s*g,F+=i*m,F+=a*f,F+=o*(5*x),M=(F+=l*(5*k))>>>13,F&=8191,F+=c*(5*E),F+=h*(5*w),F+=u*(5*v),F+=d*(5*b);var B=M+=(F+=p*(5*y))>>>13;B+=s*y,B+=i*g,B+=a*m,B+=o*f,M=(B+=l*(5*x))>>>13,B&=8191,B+=c*(5*k),B+=h*(5*E),B+=u*(5*w),B+=d*(5*v);var R=M+=(B+=p*(5*b))>>>13;R+=s*b,R+=i*y,R+=a*g,R+=o*m,M=(R+=l*f)>>>13,R&=8191,R+=c*(5*x),R+=h*(5*k),R+=u*(5*E),R+=d*(5*w);var L=M+=(R+=p*(5*v))>>>13;L+=s*v,L+=i*b,L+=a*y,L+=o*g,M=(L+=l*m)>>>13,L&=8191,L+=c*f,L+=h*(5*x),L+=u*(5*k),L+=d*(5*E);var j=M+=(L+=p*(5*w))>>>13;j+=s*w,j+=i*v,j+=a*b,j+=o*y,M=(j+=l*g)>>>13,j&=8191,j+=c*m,j+=h*f,j+=u*(5*x),j+=d*(5*k);var U=M+=(j+=p*(5*E))>>>13;U+=s*E,U+=i*w,U+=a*v,U+=o*b,M=(U+=l*y)>>>13,U&=8191,U+=c*g,U+=h*m,U+=u*f,U+=d*(5*x);var G=M+=(U+=p*(5*k))>>>13;G+=s*k,G+=i*E,G+=a*w,G+=o*v,M=(G+=l*b)>>>13,G&=8191,G+=c*y,G+=h*g,G+=u*m,G+=d*f;var V=M+=(G+=p*(5*x))>>>13;V+=s*x,V+=i*k,V+=a*E,V+=o*w,M=(V+=l*v)>>>13,V&=8191,V+=c*b,V+=h*y,V+=u*g,V+=d*m,s=D=8191&(M=(M=((M+=(V+=p*f)>>>13)<<2)+M|0)+(D&=8191)|0),i=N+=M>>>=13,a=F&=8191,o=B&=8191,l=R&=8191,c=L&=8191,h=j&=8191,u=U&=8191,d=G&=8191,p=V&=8191,t+=16,n-=16}this._h[0]=s,this._h[1]=i,this._h[2]=a,this._h[3]=o,this._h[4]=l,this._h[5]=c,this._h[6]=h,this._h[7]=u,this._h[8]=d,this._h[9]=p},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,s,i,a=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=n,n=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,a[0]=this._h[0]+5,n=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this._h[i]+n,n=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,r=(1^n)-1,i=0;i<10;i++)a[i]&=r;for(r=~r,i=0;i<10;i++)this._h[i]=this._h[i]&r|a[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),s=this._h[0]+this._pad[0],this._h[0]=65535&s,i=1;i<8;i++)s=(this._h[i]+this._pad[i]|0)+(s>>>16)|0,this._h[i]=65535&s;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var s=0;s<t;s++)this._buffer[this._leftover+s]=e[n+s];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(s=0;s<r;s++)this._buffer[this._leftover+s]=e[n+s];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return s.wipe(this._buffer),s.wipe(this._r),s.wipe(this._h),s.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=i,t.oneTimeAuth=function(e,t){var n=new i(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},7261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(745),s=n(8132),i=n(635);function a(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=a,t.randomUint32=function(e=t.defaultRandomSource){const n=a(4,e),r=(0,s.readUint32LE)(n);return(0,i.wipe)(n),r};const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(e,n=o,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let s="";const l=n.length,c=256-256%l;for(;e>0;){const t=a(Math.ceil(256*e/c),r);for(let r=0;r<t.length&&e>0;r++){const i=t[r];i<c&&(s+=n.charAt(i%l),e--)}(0,i.wipe)(t)}return s}t.randomString=l,t.randomStringForEntropy=function(e,n=o,r=t.defaultRandomSource){return l(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},1811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},8752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(635);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(1042);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}},745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(1811),s=n(8752);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new s.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},6655:(e,t,n)=>{"use strict";var r=n(8132),s=n(635);t.k=32,t.cn=64;var i=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){s.wipe(this._buffer),s.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=o(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,s=t/536870912|0,i=t<<3,a=t%64<56?64:128;this._buffer[n]=128;for(var l=n+1;l<a-8;l++)this._buffer[l]=0;r.writeUint32BE(s,this._buffer,a-8),r.writeUint32BE(i,this._buffer,a-4),o(this._temp,this._state,this._buffer,0,a),this._finished=!0}for(l=0;l<this.digestLength/4;l++)r.writeUint32BE(this._state[l],e,4*l);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){s.wipe(e.state),e.buffer&&s.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=i;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(e,t,n,s,i){for(;i>=64;){for(var o=t[0],l=t[1],c=t[2],h=t[3],u=t[4],d=t[5],p=t[6],f=t[7],m=0;m<16;m++){var g=s+4*m;e[m]=r.readUint32BE(n,g)}for(m=16;m<64;m++){var y=e[m-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,v=((y=e[m-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;e[m]=(b+e[m-7]|0)+(v+e[m-16]|0)}for(m=0;m<64;m++){b=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&d^~u&p)|0)+(f+(a[m]+e[m]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&l^o&c^l&c)|0;f=p,p=d,d=u,u=h+b|0,h=c,c=l,l=o,o=b+v|0}t[0]+=o,t[1]+=l,t[2]+=c,t[3]+=h,t[4]+=u,t[5]+=d,t[6]+=p,t[7]+=f,s+=64,i-=64}return s}t.vp=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},2899:(e,t,n)=>{"use strict";t.gi=t.Au=t.KS=t.kz=void 0;const r=n(7261),s=n(635);function i(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.kz=32,t.KS=32;const a=new Uint8Array(32);a[0]=9;const o=i([56129,1]);function l(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function c(e,t,n){const r=~(n-1);for(let n=0;n<16;n++){const s=r&(e[n]^t[n]);e[n]^=s,t[n]^=s}}function h(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function u(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function d(e,t,n){let r,s,i=0,a=0,o=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,m=0,g=0,y=0,b=0,v=0,w=0,E=0,k=0,x=0,A=0,_=0,P=0,S=0,C=0,T=0,I=0,O=0,M=0,D=0,N=0,F=0,B=n[0],R=n[1],L=n[2],j=n[3],U=n[4],G=n[5],V=n[6],z=n[7],H=n[8],$=n[9],W=n[10],q=n[11],K=n[12],J=n[13],Q=n[14],Y=n[15];r=t[0],i+=r*B,a+=r*R,o+=r*L,l+=r*j,c+=r*U,h+=r*G,u+=r*V,d+=r*z,p+=r*H,f+=r*$,m+=r*W,g+=r*q,y+=r*K,b+=r*J,v+=r*Q,w+=r*Y,r=t[1],a+=r*B,o+=r*R,l+=r*L,c+=r*j,h+=r*U,u+=r*G,d+=r*V,p+=r*z,f+=r*H,m+=r*$,g+=r*W,y+=r*q,b+=r*K,v+=r*J,w+=r*Q,E+=r*Y,r=t[2],o+=r*B,l+=r*R,c+=r*L,h+=r*j,u+=r*U,d+=r*G,p+=r*V,f+=r*z,m+=r*H,g+=r*$,y+=r*W,b+=r*q,v+=r*K,w+=r*J,E+=r*Q,k+=r*Y,r=t[3],l+=r*B,c+=r*R,h+=r*L,u+=r*j,d+=r*U,p+=r*G,f+=r*V,m+=r*z,g+=r*H,y+=r*$,b+=r*W,v+=r*q,w+=r*K,E+=r*J,k+=r*Q,x+=r*Y,r=t[4],c+=r*B,h+=r*R,u+=r*L,d+=r*j,p+=r*U,f+=r*G,m+=r*V,g+=r*z,y+=r*H,b+=r*$,v+=r*W,w+=r*q,E+=r*K,k+=r*J,x+=r*Q,A+=r*Y,r=t[5],h+=r*B,u+=r*R,d+=r*L,p+=r*j,f+=r*U,m+=r*G,g+=r*V,y+=r*z,b+=r*H,v+=r*$,w+=r*W,E+=r*q,k+=r*K,x+=r*J,A+=r*Q,_+=r*Y,r=t[6],u+=r*B,d+=r*R,p+=r*L,f+=r*j,m+=r*U,g+=r*G,y+=r*V,b+=r*z,v+=r*H,w+=r*$,E+=r*W,k+=r*q,x+=r*K,A+=r*J,_+=r*Q,P+=r*Y,r=t[7],d+=r*B,p+=r*R,f+=r*L,m+=r*j,g+=r*U,y+=r*G,b+=r*V,v+=r*z,w+=r*H,E+=r*$,k+=r*W,x+=r*q,A+=r*K,_+=r*J,P+=r*Q,S+=r*Y,r=t[8],p+=r*B,f+=r*R,m+=r*L,g+=r*j,y+=r*U,b+=r*G,v+=r*V,w+=r*z,E+=r*H,k+=r*$,x+=r*W,A+=r*q,_+=r*K,P+=r*J,S+=r*Q,C+=r*Y,r=t[9],f+=r*B,m+=r*R,g+=r*L,y+=r*j,b+=r*U,v+=r*G,w+=r*V,E+=r*z,k+=r*H,x+=r*$,A+=r*W,_+=r*q,P+=r*K,S+=r*J,C+=r*Q,T+=r*Y,r=t[10],m+=r*B,g+=r*R,y+=r*L,b+=r*j,v+=r*U,w+=r*G,E+=r*V,k+=r*z,x+=r*H,A+=r*$,_+=r*W,P+=r*q,S+=r*K,C+=r*J,T+=r*Q,I+=r*Y,r=t[11],g+=r*B,y+=r*R,b+=r*L,v+=r*j,w+=r*U,E+=r*G,k+=r*V,x+=r*z,A+=r*H,_+=r*$,P+=r*W,S+=r*q,C+=r*K,T+=r*J,I+=r*Q,O+=r*Y,r=t[12],y+=r*B,b+=r*R,v+=r*L,w+=r*j,E+=r*U,k+=r*G,x+=r*V,A+=r*z,_+=r*H,P+=r*$,S+=r*W,C+=r*q,T+=r*K,I+=r*J,O+=r*Q,M+=r*Y,r=t[13],b+=r*B,v+=r*R,w+=r*L,E+=r*j,k+=r*U,x+=r*G,A+=r*V,_+=r*z,P+=r*H,S+=r*$,C+=r*W,T+=r*q,I+=r*K,O+=r*J,M+=r*Q,D+=r*Y,r=t[14],v+=r*B,w+=r*R,E+=r*L,k+=r*j,x+=r*U,A+=r*G,_+=r*V,P+=r*z,S+=r*H,C+=r*$,T+=r*W,I+=r*q,O+=r*K,M+=r*J,D+=r*Q,N+=r*Y,r=t[15],w+=r*B,E+=r*R,k+=r*L,x+=r*j,A+=r*U,_+=r*G,P+=r*V,S+=r*z,C+=r*H,T+=r*$,I+=r*W,O+=r*q,M+=r*K,D+=r*J,N+=r*Q,F+=r*Y,i+=38*E,a+=38*k,o+=38*x,l+=38*A,c+=38*_,h+=38*P,u+=38*S,d+=38*C,p+=38*T,f+=38*I,m+=38*O,g+=38*M,y+=38*D,b+=38*N,v+=38*F,s=1,r=i+s+65535,s=Math.floor(r/65536),i=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,i+=s-1+37*(s-1),s=1,r=i+s+65535,s=Math.floor(r/65536),i=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,i+=s-1+37*(s-1),e[0]=i,e[1]=a,e[2]=o,e[3]=l,e[4]=c,e[5]=h,e[6]=u,e[7]=d,e[8]=p,e[9]=f,e[10]=m,e[11]=g,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function p(e,t){d(e,t,t)}function f(e,t){const n=new Uint8Array(32),r=new Float64Array(80),s=i(),a=i(),f=i(),m=i(),g=i(),y=i();for(let t=0;t<31;t++)n[t]=e[t];n[31]=127&e[31]|64,n[0]&=248,function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(r,t);for(let e=0;e<16;e++)a[e]=r[e];s[0]=m[0]=1;for(let e=254;e>=0;--e){const t=n[e>>>3]>>>(7&e)&1;c(s,a,t),c(f,m,t),h(g,s,f),u(s,s,f),h(f,a,m),u(a,a,m),p(m,g),p(y,s),d(s,f,s),d(f,a,g),h(g,s,f),u(s,s,f),p(a,s),u(f,m,y),d(s,f,o),h(s,s,m),d(f,f,s),d(s,m,y),d(m,a,r),p(a,g),c(s,a,t),c(f,m,t)}for(let e=0;e<16;e++)r[e+16]=s[e],r[e+32]=f[e],r[e+48]=a[e],r[e+64]=m[e];const b=r.subarray(32),v=r.subarray(16);!function(e,t){const n=i();for(let e=0;e<16;e++)n[e]=t[e];for(let e=253;e>=0;e--)p(n,n),2!==e&&4!==e&&d(n,n,t);for(let t=0;t<16;t++)e[t]=n[t]}(b,b),d(v,v,b);const w=new Uint8Array(32);return function(e,t){const n=i(),r=i();for(let e=0;e<16;e++)r[e]=t[e];l(r),l(r),l(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let e=1;e<15;e++)n[e]=r[e]-65535-(n[e-1]>>16&1),n[e-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,c(r,n,1-e)}for(let t=0;t<16;t++)e[2*t]=255&r[t],e[2*t+1]=r[t]>>8}(w,v),w}function m(e){return f(e,a)}function g(e){if(e.length!==t.KS)throw new Error(`x25519: seed must be ${t.KS} bytes`);const n=new Uint8Array(e);return{publicKey:m(n),secretKey:n}}t.Au=function(e){const t=(0,r.randomBytes)(32,e),n=g(t);return(0,s.wipe)(t),n},t.gi=function(e,n,r=!1){if(e.length!==t.kz)throw new Error("X25519: incorrect secret key length");if(n.length!==t.kz)throw new Error("X25519: incorrect public key length");const s=f(e,n);if(r){let e=0;for(let t=0;t<s.length;t++)e|=s[t];if(0===e)throw new Error("X25519: invalid shared key")}return s}},9577:()=>{},4499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2775);r.__exportStar(n(4067),t),r.__exportStar(n(9002),t)},4067:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},4622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2775);r.__exportStar(n(7051),t),r.__exportStar(n(3416),t),r.__exportStar(n(9232),t),r.__exportStar(n(4499),t)},9232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2775).__exportStar(n(8982),t)},8982:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},7713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(4499);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},8544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},7051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2775);r.__exportStar(n(8544),t),r.__exportStar(n(7713),t)},3416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},2775:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>b,__awaiter:()=>h,__classPrivateFieldGet:()=>_,__classPrivateFieldSet:()=>P,__createBinding:()=>d,__decorate:()=>o,__exportStar:()=>p,__extends:()=>s,__generator:()=>u,__importDefault:()=>A,__importStar:()=>x,__makeTemplateObject:()=>k,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>y,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function o(e,t,n,r){var s,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||o(e,t)}))})}function o(e,t){try{(n=s[e](t)).value instanceof b?Promise.resolve(n.value.v).then(l,c):h(i[0][2],n)}catch(e){h(i[0][3],e)}var n}function l(e){o("next",e)}function c(e){o("throw",e)}function h(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:s?s(t):t}:s}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,s,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},2006:(e,t,n)=>{"use strict";n.d(t,{AW:()=>N,O6:()=>Ht,rV:()=>L,gn:()=>Se,H1:()=>Ee,hF:()=>ke,WG:()=>K,pe:()=>Q,m$:()=>$,vB:()=>Y,HI:()=>J,E0:()=>Te,Gq:()=>_e,$0:()=>ye,Z4:()=>Ae,Bv:()=>$e,Au:()=>z,jd:()=>H,gu:()=>O,D:()=>me,X_:()=>fe,bW:()=>Me,Z7:()=>lt,cO:()=>Fe,_H:()=>Ne,fc:()=>nt,D6:()=>ct,Hh:()=>Oe,Ym:()=>W,rj:()=>q,jU:()=>de,gp:()=>rt,rF:()=>Lt,Bw:()=>Ce,UG:()=>he,Gg:()=>Gt,xW:()=>bt,b$:()=>ue,Ih:()=>mt,h1:()=>vt,Q8:()=>ee,o8:()=>dt,qt:()=>ht,Dd:()=>wt,$t:()=>Ot,nf:()=>Nt,Q0:()=>Tt,in:()=>Pt,p8:()=>Ft,sI:()=>Rt,al:()=>Bt,L5:()=>ut,EJ:()=>It,Z2:()=>St,PM:()=>Ct,hH:()=>Mt,ON:()=>Ut,n:()=>_t,JT:()=>Dt,M_:()=>pt,jv:()=>yt,KC:()=>ve,eG:()=>Ie,fK:()=>it,IP:()=>we,DQ:()=>I,iP:()=>Pe,M:()=>st,he:()=>ze,uw:()=>Vt,Ll:()=>Z,EN:()=>X});var r=n(1063),s=n(5067),i=n(7261),a=n(6655),o=n(2899),l=n(1627),c=n(3939),h=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},u=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},d=function(e){this.version=e,this.type="node",this.name="node",this.os=c.platform},p=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},m=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},g=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,y=3,b=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],v=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function w(e){return e?k(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new m:"undefined"!=typeof navigator?k(navigator.userAgent):void 0!==c&&c.version?new d(c.version.slice(1)):null}function E(e){return""!==e&&b.reduce((function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]}),!1)}function k(e){var t=E(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new f;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<y&&(s=h(h([],s,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(y-s.length),!0)):s=[];var i=s.join("."),a=function(e){for(var t=0,n=v.length;t<n;t++){var r=v[t],s=r[0];if(r[1].exec(e))return s}return null}(e),o=g.exec(e);return o&&o[1]?new p(n,i,a,o[1]):new u(n,i,a)}var x=n(4622),A=n(5785),_=n(303),P=n(6107);n(9577);const S={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var C=n(3939);const T=":";function I(e){const[t,n]=e.split(T);return{namespace:t,reference:n}}function O(e,t=[]){const n=[];return Object.keys(e).forEach((r=>{if(t.length&&!t.includes(r))return;const s=e[r];n.push(...s.accounts)})),n}function M(e,t){return e.includes(":")?[e]:t.chains||[]}const D="base10",N="base16",F="base64pad",B="utf8",R=0,L=1,j=0,U=1,G=12,V=32;function z(){const e=o.Au();return{privateKey:(0,l.BB)(e.secretKey,N),publicKey:(0,l.BB)(e.publicKey,N)}}function H(){const e=(0,i.randomBytes)(V);return(0,l.BB)(e,N)}function $(e,t){const n=o.gi((0,l.mL)(e,N),(0,l.mL)(t,N),!0),r=new s.t(a.mE,n).expand(V);return(0,l.BB)(r,N)}function W(e){const t=(0,a.vp)((0,l.mL)(e,N));return(0,l.BB)(t,N)}function q(e){const t=(0,a.vp)((0,l.mL)(e,B));return(0,l.BB)(t,N)}function K(e){return Number((0,l.BB)(e,D))}function J(e){const t=function(e){return(0,l.mL)(`${e}`,D)}(typeof e.type<"u"?e.type:R);if(K(t)===L&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,l.mL)(e.senderPublicKey,N):void 0,s=typeof e.iv<"u"?(0,l.mL)(e.iv,N):(0,i.randomBytes)(G);return function(e){if(K(e.type)===L){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,l.BB)((0,l.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),F)}return(0,l.BB)((0,l.zo)([e.type,e.iv,e.sealed]),F)}({type:t,sealed:new r.OK((0,l.mL)(e.symKey,N)).seal(s,(0,l.mL)(e.message,B)),iv:s,senderPublicKey:n})}function Q(e){const t=new r.OK((0,l.mL)(e.symKey,N)),{sealed:n,iv:s}=Y(e.encoded),i=t.open(s,n);if(null===i)throw new Error("Failed to decrypt");return(0,l.BB)(i,B)}function Y(e){const t=(0,l.mL)(e,F),n=t.slice(j,U),r=U;if(K(n)===L){const e=r+V,s=e+G,i=t.slice(r,e),a=t.slice(e,s);return{type:n,sealed:t.slice(s),iv:a,senderPublicKey:i}}const s=r+G,i=t.slice(r,s);return{type:n,sealed:t.slice(s),iv:i}}function Z(e,t){const n=Y(e);return X({type:K(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,l.BB)(n.senderPublicKey,N):void 0,receiverPublicKey:t?.receiverPublicKey})}function X(e){const t=e?.type||R;if(t===L){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function ee(e){return e.type===L&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var te=Object.defineProperty,ne=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&ie(e,n,t[n]);if(ne)for(var n of ne(t))se.call(t,n)&&ie(e,n,t[n]);return e};const oe="ReactNative",le={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ce="js";function he(){return typeof C<"u"&&typeof C.versions<"u"&&typeof C.versions.node<"u"}function ue(){return!(0,A.getDocument)()&&!!(0,A.getNavigator)()&&navigator.product===oe}function de(){return!he()&&!!(0,A.getNavigator)()&&!!(0,A.getDocument)()}function pe(){return ue()?le.reactNative:he()?le.node:de()?le.browser:le.unknown}function fe(){var e;try{return ue()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch{return}}function me(){return(0,_.D)()||{name:"",description:"",url:"",icons:[""]}}function ge(e,t,r){const s=function(){if(pe()===le.reactNative&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=w();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=pe();return t===le.browser?[t,(null==(e=(0,A.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[ce,r].join("-"),s,i].join("/")}function ye({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o}){const l=n.split("?"),c={auth:s,ua:ge(e,t,r),projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},h=function(e,t){let n=P.parse(e);return n=ae(ae({},n),t),P.stringify(n)}(l[1]||"",c);return l[0]+"?"+h}function be(e,t){return e.filter((e=>t.includes(e))).length===e.length}function ve(e){return Object.fromEntries(e.entries())}function we(e){return new Map(Object.entries(e))}function Ee(e=x.FIVE_MINUTES,t){const n=(0,x.toMiliseconds)(e||x.FIVE_MINUTES);let r,s,i;return{resolve:e=>{i&&r&&(clearTimeout(i),r(e))},reject:e=>{i&&s&&(clearTimeout(i),s(e))},done:()=>new Promise(((e,a)=>{i=setTimeout((()=>{a(new Error(t))}),n),r=e,s=a}))}}function ke(e,t,n){return new Promise((async(r,s)=>{const i=setTimeout((()=>s(new Error(n))),t);try{r(await e)}catch(e){s(e)}clearTimeout(i)}))}function xe(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Ae(e){return xe("topic",e)}function _e(e){return xe("id",e)}function Pe(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function Se(e,t){return(0,x.fromMiliseconds)((t||Date.now())+(0,x.toMiliseconds)(e))}function Ce(e){return Date.now()>=(0,x.toMiliseconds)(e)}function Te(e,t){return`${e}${t?`:${t}`:""}`}function Ie(e=[],t=[]){return[...new Set([...e,...t])]}async function Oe({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const s="string"==typeof r?JSON.parse(r):r;let i=s?.href;if("string"!=typeof i)return;i.endsWith("/")&&(i=i.slice(0,-1));const a=`${i}/wc?requestId=${e}&sessionTopic=${t}`,o=pe();o===le.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):o===le.reactNative&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(a)}catch(e){console.error(e)}}async function Me(e,t){try{return await e.getItem(t)||(de()?localStorage.getItem(t):void 0)}catch(e){console.error(e)}}const De="irn";function Ne(e){return e?.relay||{protocol:De}}function Fe(e){const t=S[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var Be=Object.defineProperty,Re=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,Ue=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ge=(e,t)=>{for(var n in t||(t={}))Le.call(t,n)&&Ue(e,n,t[n]);if(Re)for(var n of Re(t))je.call(t,n)&&Ue(e,n,t[n]);return e};function Ve(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach((t=>{if(t.startsWith(r)){const s=t.replace(r,""),i=e[t];n[s]=i}})),n}function ze(e){const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",a=P.parse(i);return{protocol:r,topic:He(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Ve(a)}}function He(e){return e.startsWith("//")?e.substring(2):e}function $e(e){return`${e.protocol}:${e.topic}@${e.version}?`+P.stringify(Ge({symKey:e.symKey},function(e,t="-"){const n={};return Object.keys(e).forEach((r=>{const s="relay"+t+r;e[r]&&(n[s]=e[r])})),n}(e.relay)))}var We=Object.defineProperty,qe=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,Ze=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xe=(e,t)=>{for(var n in t||(t={}))Qe.call(t,n)&&Ze(e,n,t[n]);if(Je)for(var n of Je(t))Ye.call(t,n)&&Ze(e,n,t[n]);return e},et=(e,t)=>qe(e,Ke(t));function tt(e){const t=[];return e.forEach((e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)})),t}function nt(e,t){const n=Pt(e,t);if(n)throw new Error(n.message);const r={};for(const[t,n]of Object.entries(e))r[t]={methods:n.methods,events:n.events,chains:n.accounts.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))};return r}function rt(e){return e.includes(":")}function st(e){return rt(e)?e.split(":")[0]:e}function it(e){var t,n,r;const s={};if(!ut(e))return s;for(const[i,a]of Object.entries(e)){const e=rt(i)?[i]:a.chains,o=a.methods||[],l=a.events||[],c=st(i);s[c]=et(Xe({},s[c]),{chains:Ie(e,null==(t=s[c])?void 0:t.chains),methods:Ie(o,null==(n=s[c])?void 0:n.methods),events:Ie(l,null==(r=s[c])?void 0:r.events)})}return s}const at={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ot={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function lt(e,t){const{message:n,code:r}=ot[e];return{message:t?`${n} ${t}`:n,code:r}}function ct(e,t){const{message:n,code:r}=at[e];return{message:t?`${n} ${t}`:n,code:r}}function ht(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function ut(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function dt(e){return typeof e>"u"}function pt(e,t){return!(!t||!dt(e))||"string"==typeof e&&!!e.trim().length}function ft(e,t){return!(!t||!dt(e))||"number"==typeof e&&!isNaN(e)}function mt(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return!!be(s,r)&&(r.forEach((t=>{const{accounts:r,methods:s,events:a}=e.namespaces[t],o=tt(r),l=n[t];be(M(t,l),o)&&be(l.methods,s)&&be(l.events,a)||(i=!1)})),i)}function gt(e){return!(!pt(e,!1)||!e.includes(":"))&&2===e.split(":").length}function yt(e){if(pt(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function bt(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function vt(e){return e?.topic}function wt(e,t){let n=null;return pt(e?.publicKey,!1)||(n=lt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function Et(e){let t=!0;return ht(e)?e.length&&(t=e.every((e=>pt(e,!1)))):t=!1,t}function kt(e,t,n){let r=null;return Object.entries(e).forEach((([e,s])=>{if(r)return;const i=function(e,t,n){let r=null;return ht(t)&&t.length?t.forEach((e=>{r||gt(e)||(r=ct("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):gt(e)||(r=ct("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(e,M(e,s),`${t} ${n}`);i&&(r=i)})),r}function xt(e,t){let n=null;return ht(e)?e.forEach((e=>{n||function(e){if(pt(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&gt(e)}}return!1}(e)||(n=ct("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):n=ct("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function At(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=function(e,t){let n=null;return Et(e?.methods)?Et(e?.events)||(n=ct("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=ct("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)})),n}function _t(e,t,n){let r=null;if(e&&ut(e)){const s=At(e,t);s&&(r=s);const i=kt(e,t,n);i&&(r=i)}else r=lt("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function Pt(e,t){let n=null;if(e&&ut(e)){const r=At(e,t);r&&(n=r);const s=function(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=xt(e?.accounts,`${t} namespace`);r&&(n=r)})),n}(e,t);s&&(n=s)}else n=lt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function St(e){return pt(e.protocol,!0)}function Ct(e,t){let n=!1;return t&&!e?n=!0:e&&ht(e)&&e.length&&e.forEach((e=>{n=St(e)})),n}function Tt(e){return"number"==typeof e}function It(e){return typeof e<"u"&&null!==typeof e}function Ot(e){return!!(e&&"object"==typeof e&&e.code&&ft(e.code,!1)&&e.message&&pt(e.message,!1))}function Mt(e){return!(dt(e)||!pt(e.method,!1))}function Dt(e){return!(dt(e)||dt(e.result)&&dt(e.error)||!ft(e.id,!1)||!pt(e.jsonrpc,!1))}function Nt(e){return!(dt(e)||!pt(e.name,!1))}function Ft(e,t){return!(!gt(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...tt(e.accounts))})),t}(e).includes(t))}function Bt(e,t,n){return!!pt(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{tt(e.accounts).includes(t)&&n.push(...e.methods)})),n}(e,t).includes(n)}function Rt(e,t,n){return!!pt(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{tt(e.accounts).includes(t)&&n.push(...e.events)})),n}(e,t).includes(n)}function Lt(e,t,n){let r=null;const s=function(e){const t={};return Object.keys(e).forEach((n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((r=>{t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),i=function(e){const t={};return Object.keys(e).forEach((n=>{if(n.includes(":"))t[n]=e[n];else{const r=tt(e[n].accounts);r?.forEach((r=>{t[r]={accounts:e[n].accounts.filter((e=>e.includes(`${r}:`))),methods:e[n].methods,events:e[n].events}}))}})),t}(t),a=Object.keys(s),o=Object.keys(i),l=jt(Object.keys(e)),c=jt(Object.keys(t)),h=l.filter((e=>!c.includes(e)));return h.length&&(r=lt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${h.toString()}\n      Received: ${Object.keys(t).toString()}`)),be(a,o)||(r=lt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${a.toString()}\n      Approved: ${o.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||r)return;const s=tt(t[e].accounts);s.includes(e)||(r=lt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${s.toString()}`))})),a.forEach((e=>{r||(be(s[e].methods,i[e].methods)?be(s[e].events,i[e].events)||(r=lt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=lt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))})),r}function jt(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function Ut(e,t){return ft(e,!1)&&e<=t.max&&e>=t.min}function Gt(){const e=pe();return new Promise((t=>{switch(e){case le.browser:t(de()&&navigator?.onLine);break;case le.reactNative:t(async function(){if(ue()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return e?.isConnected}return!0}());break;case le.node:default:t(!0)}}))}function Vt(e){switch(pe()){case le.browser:!function(e){!ue()&&de()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case le.reactNative:!function(e){ue()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&n.g?.NetInfo.addEventListener((t=>e(t?.isConnected)))}(e);case le.node:}}const zt={};class Ht{static get(e){return zt[e]}static set(e,t){zt[e]=t}static delete(e){delete zt[e]}}},6107:(e,t,n)=>{"use strict";const r=n(3342),s=n(8222),i=n(6932),a=n(9968),o=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function h(e,t){return t.decode?s(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const s="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!s&&h(n,e).includes(e.arrayFormatSeparator);n=i?h(n,e):n;const a=s||i?n.split(e.arrayFormatSeparator).map((t=>h(t,e))):null===n?n:h(n,e);r[t]=a};case"bracket-separator":return(t,n,r)=>{const s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s)return void(r[t]=n?h(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>h(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const s of e.split("&")){if(""===s)continue;let[e,a]=i(t.decode?s.replace(/\+/g," "):s,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:h(a,t),n(h(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=u(n):e[t]=n,e}),Object.create(null))}t.extract=p,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const s=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[",s,"]"].join("")]:[...n,[c(t,e),"[",c(s,e),"]=",c(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[]"].join("")]:[...n,[c(t,e),"[]=",c(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),":list="].join("")]:[...n,[c(t,e),":list=",c(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?r:(s=null===s?"":s,0===r.length?[[c(n,e),t,c(s,e)].join("")]:[[r,c(s,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,c(t,e)]:[...n,[c(t,e),"=",c(r,e)].join("")]}}(t),s={};for(const t of Object.keys(e))n(t)||(s[t]=e[t]);const i=Object.keys(s);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const s=e[n];return void 0===s?"":null===s?c(n,t):Array.isArray(s)?0===s.length&&"bracket-separator"===t.arrayFormat?c(n,t)+"[]":s.reduce(r(n),[]).join("&"):c(n,t)+"="+c(s,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:m(p(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:h(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[o]:!0},n);const r=d(e.url).split("?")[0]||"",s=t.extract(e.url),i=t.parse(s,{sort:!1}),a=Object.assign(i,e.query);let l=t.stringify(a,n);l&&(l=`?${l}`);let h=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(h=`#${n[o]?c(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${l}${h}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[o]:!1},r);const{url:s,query:i,fragmentIdentifier:l}=t.parseUrl(e,r);return t.stringifyUrl({url:s,query:a(i,n),fragmentIdentifier:l},r)},t.exclude=(e,n,r)=>{const s=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,s,r)}},5785:(e,t)=>{"use strict";function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},303:(e,t,n)=>{"use strict";t.D=void 0;const r=n(5785);t.D=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],s=["itemprop","property","name"].map((e=>r.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(s.length&&s){const e=r.getAttribute("content");if(e)return e}}return""}const s=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const s=n[e],i=s.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const e=s.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:s}}},8222:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=s(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var s=i(n[0]);s!==n[0]&&(t[n[0]]=s)}n=r.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},8290:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new s(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,a=new Array(i);s<i;s++)a[s]=r[s].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,s,i,a){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,h=this._events[o],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,r),!0;case 4:return h.fn.call(h.context,t,r,s),!0;case 5:return h.fn.call(h.context,t,r,s,i),!0;case 6:return h.fn.call(h.context,t,r,s,i,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];h.fn.apply(h.context,l)}else{var d,p=h.length;for(c=0;c<p;c++)switch(h[c].once&&this.removeListener(e,h[c].fn,void 0,!0),u){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,t);break;case 3:h[c].fn.call(h[c].context,t,r);break;case 4:h[c].fn.call(h[c].context,t,r,s);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];h[c].fn.apply(h[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,s){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||s&&!o.once||r&&o.context!==r||a(this,i);else{for(var l=0,c=[],h=o.length;l<h;l++)(o[l].fn!==t||s&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},9968:e=>{"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),s=Array.isArray(t),i=0;i<r.length;i++){var a=r[i],o=e[a];(s?-1!==t.indexOf(a):t(a,o,e))&&(n[a]=o)}return n}},3939:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var o,l=[],c=!1,h=-1;function u(){c&&o&&(c=!1,o.length?l=o.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=a(u);c=!0;for(var t=l.length;t;){for(o=l,l=[];++h<t;)o&&o[h].run();h=-1,t=l.length}o=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},7104:(e,t,n)=>{"use strict";n.d(t,{jc:()=>l,o5:()=>o});Symbol();const r=Symbol();const s=Object.getPrototypeOf,i=new WeakMap,a=e=>e&&(i.has(e)?i.get(e):s(e)===Object.prototype||s(e)===Array.prototype),o=e=>a(e)&&e[r]||null,l=(e,t=!0)=>{i.set(e,t)}},6932:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},3342:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},4155:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var o,l=[],c=!1,h=-1;function u(){c&&o&&(c=!1,o.length?l=o.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=a(u);c=!0;for(var t=l.length;t;){for(o=l,l=[];++h<t;)o&&o[h].run();h=-1,t=l.length}o=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},9536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(8673),s=n(924),i=n(910);function a(e,t={}){const{fees:n=e.fees,formatters:r=e.formatters,serializers:s=e.serializers}=t;return{...e,fees:n,formatters:r,serializers:s}}class o extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@1.21.3"});const n=t.cause instanceof o?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof o&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: https://viem.sh${r}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return l(this,e)}}function l(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?l(e.cause,t):t?null:e}class c extends o{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function h(e){return function(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function u(e,{size:t}){if(h(e)>t)throw new c({givenSize:h(e),maxSize:t})}function d(e,t={}){const{signed:n}=t;t.size&&u(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function p(e,t={}){return Number(d(e,t))}function f(e,t){return({exclude:n,format:r})=>({exclude:n,format:e=>{const s=t(e);if(n)for(const e of n)delete s[e];return{...s,...r(e)}},type:e})}const m={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function g(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?p(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?p(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?m[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}const y=f("transaction",g);function b(e){const t=e.transactions?.map((e=>"string"==typeof e?e:g(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const v=f("block",b);const w={"0x0":"reverted","0x1":"success"};function E(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>function(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?p(e.transactionIndex):null,status:e.status?w[e.status]:null,type:e.type?m[e.type]||e.type:null}}const k=f("transactionReceipt",E),x={block:v({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=g(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?d(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:y({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?d(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:k({format:e=>({l1GasPrice:e.l1GasPrice?d(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?d(e.l1GasUsed):null,l1Fee:e.l1Fee?d(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},A=a({id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-mainnet.g.alchemy.com/v2"],webSocket:["wss://base-mainnet.g.alchemy.com/v2"]},infura:{http:["https://base-mainnet.infura.io/v3"],webSocket:["wss://base-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{blockscout:{name:"Basescout",url:"https://base.blockscout.com"},default:{name:"Basescan",url:"https://basescan.org"},etherscan:{name:"Basescan",url:"https://basescan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022}}},{formatters:x}),_=a({id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-sepolia.g.alchemy.com/v2"],webSocket:["wss://base-sepolia.g.alchemy.com/v2"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{blockscout:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"},default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0,sourceId:11155111},{formatters:x});class P extends r.Jg{constructor(){super(".app-tab.activity-tab"),this.append((0,r.el)("h1","Activities"),(0,r.el)("main",new i.bV))}}class S extends r.Jg{hashtagList;constructor(){super(".app-tab.chats-tab"),this.append((0,r.el)("h1","Chats"),new i.Kk,(0,r.el)("main",this.hashtagList=new i.Kd))}activeHashtag(e){this.hashtagList.activeHashtag(e)}deactiveHashtag(){this.hashtagList.deactiveHashtag()}}class C extends r.Jg{hashtagLeaderboard;constructor(){super(".app-tab.leaderboard-tab"),this.append((0,r.el)("h1","Leaderboard"),new i.Kk,(0,r.el)("main",this.hashtagLeaderboard=new i.yB))}activeHashtag(e){this.hashtagLeaderboard.activeHashtag(e)}deactiveHashtag(){this.hashtagLeaderboard.deactiveHashtag()}}class T extends r.Jg{mePanel;constructor(){super(".app-tab.settings-tab"),this.append((0,r.el)("h1","Settings"),(0,r.el)("main",this.mePanel=new i._l))}activeHashtag(e){this.mePanel.activeHashtag(e)}deactiveHashtag(){this.mePanel.deactiveHashtag()}}class I extends r.G7{chatsTab;leaderboardTab;activityTab;settingsTab;tabs;roomSection;room;constructor(e,t,n){super();let s=new r.OL("settings");i.Bd.user?(s=(0,r.el)(".avatar"),r.VM.selectLoadable(s,[i.Bd.user.avatar_thumb,i.Bd.user.stored_avatar_thumb])):s=new r.OL("settings"),r.Wl.append((0,r.el)("section.app",this.chatsTab=new S,this.leaderboardTab=new C,this.activityTab=new P,this.settingsTab=new T,this.tabs=new r.VA(i.dn.dev?"test":void 0,[{id:"chats",icon:new r.OL("forum")},{id:"leaderboard",icon:new r.OL("leaderboard")},{id:"activity",icon:new r.OL("browse_activity")},{id:"settings",icon:s}])),this.roomSection=(0,r.el)("section.room",{"data-empty-message":"Select a topic to start messaging"})),this.tabs.on("select",(e=>{[this.chatsTab,this.leaderboardTab,this.activityTab,this.settingsTab].forEach((e=>e.deactivate())),"chats"===e?this.chatsTab.activate():"leaderboard"===e?this.leaderboardTab.activate():"activity"===e?this.activityTab.activate():"settings"===e&&this.settingsTab.activate()})).init(),e.topic&&(this.room=new i.GM(e.topic,n).appendTo(this.roomSection),[this.chatsTab,this.leaderboardTab,this.settingsTab].forEach((t=>t.activeHashtag(e.topic))),this.checkAvailableTopic(e.topic))}changeParams(e,t,n){e.topic?(this.room?this.room.enter(e.topic,n):this.room=new i.GM(e.topic,n).appendTo(this.roomSection),[this.chatsTab,this.leaderboardTab,this.settingsTab].forEach((t=>t.activeHashtag(e.topic))),this.checkAvailableTopic(e.topic)):(this.room?.delete(),this.room=void 0,[this.chatsTab,this.leaderboardTab,this.settingsTab].forEach((e=>e.deactiveHashtag())))}async checkAvailableTopic(e){if(i.Tb.available(e)){const t=await navigator.serviceWorker.getRegistration();if(t){const n=await t.getNotifications({tag:`hashtag_${e}`});for(const e of n)e.close()}}else setTimeout((()=>r.F0.goNoHistory("/")))}}class O extends r.GI{store=new r.yh("welcome");constructor(){super(".welcome-popup",{barrierDismissible:!1}),this.store.set("skip",!0,!0),this.header.append((0,r.el)("h1","Welcome to topic.trade!")),this.main.append((0,r.el)("p","Discover a new way to engage with the hottest topics in the crypto world. At topic.trade, you can discuss, trade, and earn from the most talked-about subjects in the ecosystem.")),this.footer.append(new r.zx({icon:new r.OL("open_in_new"),title:"Learn more",href:i.dn.overviewUrl,target:"_blank"}),new r.zx({tag:".close",title:(0,r.WI)("cancel-button"),click:()=>this.delete()}))}static launch(){!0!==new r.yh("welcome").get("skip")&&new O}}async function M(e){(0,i.Lv)(),i.dn.init({dev:e.dev,serviceName:"topic.trade",overviewUrl:"https://gaiaprotocol.notion.site/topic-trade-Leading-the-New-Trends-in-the-Crypto-World-8c67f745819946369b42ca371caec79d?pvs=4",socialUrls:{github:"https://github.com/gaiaprotocol/topictrade",x:"https://x.com/topictrade",discord:"https://discord.gg/gaia-protocol-931958830873575474"},messageForWalletLinking:"Link Wallet to topic.trade",chains:e.chains,defaultChain:e.defaultChain,contractAddresses:e.contractAddresses,hashtagOptions:{unit:"topic",baseUri:""}}),e.dev||!r.yO.isMobileDevice||r.yO.installed?(r.RS.initialize(e.supabaseUrl,e.supabaseAnonKey,e.dev),i.UK.init(e.walletConnectProjectId,[A,_]),s.iy.init({apiKey:"AIzaSyBZCRpj9smnz-yIpXC4KVi9RFs23qcxH7M",authDomain:"topictrade-8b711.firebaseapp.com",projectId:"topictrade-8b711",storageBucket:"topictrade-8b711.appspot.com",messagingSenderId:"993631591207",appId:"1:993631591207:web:d7bec5f0e54efdfe2ee702",measurementId:"G-9CNQ54G1CY"},"BKhZmi9lpQlQhFXwyMNujFGfjXQEfWKNML8S2gzu6hcFGr1pL-vPOTPU5YwtFHJ4poW-Ax7qm9xeR-7AB76eGl4"),await r.oD.load((0,r.el)("img",{src:"/images/logo-transparent.png"}),[i.dX.init(),i.Bd.init({},(async e=>await i.v9.loadSignedUserSubscribedHashtags(e)))]),i.wT.init(),i.v7.init(),i.Tf.init(),r.F0.route(["","{topic}"],I),r.Z5.checkEmailAccess(),i.Bd.signed&&!i.Bd.walletLinked&&new i.Sm,O.launch()):new s.KW(i.dn.serviceName,i.dn.overviewUrl).appendTo(r.Wl),navigator.serviceWorker.addEventListener("message",(e=>{if("notificationclick"===e.data.action){const t=e.data.data?.FCM_MSG?.data;t&&t.redirectTo&&r.F0.go(t.redirectTo)}}));const t=new URLSearchParams(window.location.search);t.has("redirectTo")&&r.F0.go(t.get("redirectTo")),r.yO.isWindows&&r.Wl.addClass("windows")}},5168:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(910),s=n(9536);await(0,s.Z)({dev:!1,supabaseUrl:"https://aixmhhlmhynxarubznjv.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpeG1oaGxtaHlueGFydWJ6bmp2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTEyODE0ODYsImV4cCI6MjAyNjg1NzQ4Nn0.R6P0m5AoeYOTnat0mZHBm2oFzYM9IXW_pDDLwW4mKVs",chains:{8453:{name:"base",chainId:8453,rpc:"https://mainnet.base.org",blockTime:2,symbol:"ETH",assetBaseDivider:16000n,assetFeePercent:100000000000000000n}},defaultChain:8453,contractAddresses:{8453:{[r.RJ.HashtagTrade]:"0x14a4D7e4E3DF2AEF1464D84Bac9d27605eC78725"}},walletConnectProjectId:"7fd590b8ac5e9f5f2e4cd99a07a54783"}),t()}catch(e){t(e)}}),1)},1042:()=>{},8673:(e,t,n)=>{"use strict";n.d(t,{Jg:()=>$t,SN:()=>mn,bZ:()=>an,RS:()=>Rt,Z5:()=>Vn,pp:()=>qt,gT:()=>Wt,VM:()=>zn,Wl:()=>Ot,VA:()=>On,yO:()=>Ut,zx:()=>nn,L$:()=>rn,I4:()=>pn,gz:()=>Gt,Em:()=>Hn,AE:()=>It,h_:()=>Jt,hW:()=>fn,nd:()=>St,Ao:()=>_n,_j:()=>Qt,td:()=>xn,vE:()=>An,OL:()=>en,y2:()=>jn,GI:()=>sn,Fi:()=>Sn,F0:()=>Bt,oD:()=>Ht,yh:()=>jt,m7:()=>$n,JA:()=>Ct,TZ:()=>Nn,mQ:()=>Dn,Ve:()=>Ln,kj:()=>Tn,c7:()=>Un,KD:()=>Gn,G7:()=>Fn,el:()=>Kt,WI:()=>dn,nL:()=>un});class r extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class s extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var o;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(o||(o={}));var l=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};class c{constructor(e,{headers:t={},customFetch:r,region:s=o.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,4354)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return l(this,void 0,void 0,(function*(){try{const{headers:r,method:o,body:l}=t;let c,h={},{region:u}=t;u||(u=this.region),u&&"any"!==u&&(h["x-region"]=u),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",c=l):"string"==typeof l?(h["Content-Type"]="text/plain",c=l):"undefined"!=typeof FormData&&l instanceof FormData?c=l:(h["Content-Type"]="application/json",c=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),r),body:c}).catch((e=>{throw new s(e)})),p=d.headers.get("x-relay-error");if(p&&"true"===p)throw new i(d);if(!d.ok)throw new a(d);let f,m=(null!==(n=d.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return f="application/json"===m?yield d.json():"application/octet-stream"===m?yield d.blob():"multipart/form-data"===m?yield d.formData():yield d.text(),{data:f,error:null}}catch(e){return{data:null,error:e}}}))}}var h=n(4354);class u extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class d{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=h.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,i=null,a=null,o=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&c&&c.length>1&&(a=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,a=null,o=406,l="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,o=200,l="OK")}catch(n){404===e.status&&""===t?(o=204,l="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null==s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,o=200,l="OK"),s&&this.shouldThrowOnError)throw new u(s)}return{error:s,data:i,count:a,status:o,statusText:l}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}}class p extends d{select(e){let t=!1;const n=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.Accept)&&void 0!==a?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class f extends p{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}class m{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e))).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new f({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new f({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new f({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new f({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new f({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const g={"X-Client-Info":"postgrest-js/1.11.0"};class y{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},g),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new m(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new y(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,count:r}={}){let s;const i=new URL(`${this.url}/rpc/${e}`);let a;n?(s="HEAD",Object.entries(t).forEach((([e,t])=>{i.searchParams.append(e,`${t}`)}))):(s="POST",a=t);const o=Object.assign({},this.headers);return r&&(o.Prefer=`count=${r}`),new f({method:s,url:i,headers:o,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const b={"X-Client-Info":"realtime-js/2.9.3"};var v,w,E,k,x,A,_;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(v||(v={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(w||(w={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(E||(E={})),function(e){e.websocket="websocket"}(k||(k={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(x||(x={}));class P{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class S{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+r));i+=r;const o=n.decode(e.slice(i,i+s));i+=s;return{ref:null,topic:a,event:o,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class C{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(A||(A={}));class T{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=T.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=T.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=T.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),i=this.transformState(t),a={},o={};return this.map(s,((e,t)=>{i[e]||(o[e]=t)})),this.map(i,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),i=t.filter((e=>s.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(a[e]=i),l.length>0&&(o[e]=l)}else a[e]=t})),this.syncDiff(s,{joins:a,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let s=e[t];if(!s)return;const i=n.map((e=>e.presence_ref));s=s.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(_||(_={}));const I=(e,t,n={})=>{var r;const s=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((n,r)=>(n[r]=O(r,e,t,s),n)),{})},O=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),i=null==s?void 0:s.type,a=n[e];return i&&!r.includes(i)?M(i,a):D(a)},M=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return R(t,n)}switch(e){case _.bool:return N(t);case _.float4:case _.float8:case _.int2:case _.int4:case _.int8:case _.numeric:case _.oid:return F(t);case _.json:case _.jsonb:return B(t);case _.timestamp:return L(t);case _.abstime:case _.date:case _.daterange:case _.int4range:case _.int8range:case _.money:case _.reltime:case _.text:case _.time:case _.timestamptz:case _.timetz:case _.tsrange:case _.tstzrange:default:return D(t)}},D=e=>e,N=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},B=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},R=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(e){r=s?s.split(","):[]}return r.map((e=>M(t,e)))}return e},L=e=>"string"==typeof e?e.replace(" ","T"):e;var j,U,G;!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(j||(j={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(U||(U={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(G||(G={}));class V{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=w.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new C(this,E.join,this.params,this.timeout),this.rejoinTimer=new P((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=w.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=w.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=w.errored,this.rejoinTimer.scheduleTimeout())})),this._on(E.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new T(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i}}=this.params;this._onError((t=>e&&e("CHANNEL_ERROR",t))),this._onClose((()=>e&&e("CLOSED")));const a={},o={broadcast:s,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(({postgres_changes:t})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==t){const r=this.bindings.postgres_changes,s=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,i=[];for(let n=0;n<s;n++){const s=r[n],{filter:{event:a,schema:o,table:l,filter:c}}=s,h=t&&t[n];if(!h||h.event!==a||h.schema!==o||h.table!==l||h.filter!==c)return this.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:h.id}))}return this.bindings.postgres_changes=i,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(t=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{e&&e("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,s,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||n("ok"),a.receive("ok",(()=>n("ok"))),a.receive("timeout",(()=>n("timed out")))}));{const{event:s,payload:i}=e,a={method:"POST",headers:{apikey:null!==(n=this.socket.apiKey)&&void 0!==n?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=t.timeout)&&void 0!==r?r:this.timeout)).ok?"ok":"error"}catch(e){return"AbortError"===e.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=w.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(E.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new C(this,E.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout((()=>r.abort()),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new C(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const i=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=E;if(n&&[a,o,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(h,n))):null===(s=this.bindings[i])||void 0===s||s.filter((e=>{var n,r,s,a,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(o=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"==typeof h&&"ids"in h){const e=h.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:i}=e,a={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:i};h=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(h,n)}))}_isClosed(){return this.state===w.closed}_isJoined(){return this.state===w.joined}_isJoining(){return this.state===w.joining}_isLeaving(){return this.state===w.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&V.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(E.close,{},e)}_onError(e){this._on(E.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=w.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=I(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=I(e.columns,e.old_record)),t}}const z=()=>{},H="undefined"!=typeof WebSocket;class ${constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=b,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=z,this.conn=null,this.sendBuffer=[],this.serializer=new S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,4354)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${k.websocket}`,(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});else{if(H)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new W(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),n.e(228).then(n.t.bind(n,5228,23)).then((({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case v.connecting:return x.Connecting;case v.open:return x.Open;case v.closing:return x.Closing;default:return x.Closed}}isConnected(){return this.connectionState()===x.Open}channel(e,t={config:{}}){const n=new V(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:s}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(e){this.accessToken=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(E.access_token,{access_token:e})}))}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:s}=e;(s&&s===this.pendingHeartbeatRef||n===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(E.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class W{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=v.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class q extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class J extends q{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Q extends q{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Y=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const Z=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,4354)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)};var X=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const ee=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),te=(e,t)=>X(void 0,void 0,void 0,(function*(){const r=yield Y(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.bind(n,4354))).Response:Response}));e instanceof r?e.json().then((n=>{t(new J(ee(n),e.status||500))})).catch((e=>{t(new Q(ee(e),e))})):t(new Q(ee(e),e))})),ne=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function re(e,t,n,r,s,i){return X(this,void 0,void 0,(function*(){return new Promise(((a,o)=>{e(n,ne(t,r,s,i)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()})).then((e=>a(e))).catch((e=>te(e,o)))}))}))}function se(e,t,n,r){return X(this,void 0,void 0,(function*(){return re(e,"GET",t,n,r)}))}function ie(e,t,n,r,s){return X(this,void 0,void 0,(function*(){return re(e,"POST",t,r,s,n)}))}function ae(e,t,n,r,s){return X(this,void 0,void 0,(function*(){return re(e,"DELETE",t,r,s,n)}))}var oe=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const le={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ce={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class he{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Z(r)}uploadOrUpdate(e,t,n,r){return oe(this,void 0,void 0,(function*(){try{let s;const i=Object.assign(Object.assign({},ce),r),a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl)):(s=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType);const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:s,headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{})),h=yield c.json();if(c.ok)return{data:{path:o,id:h.Id,fullPath:h.Key},error:null};return{data:null,error:h}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}upload(e,t,n){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return oe(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ce.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const o=yield this.fetch(a.toString(),{method:"PUT",body:e,headers:i}),l=yield o.json();if(o.ok)return{data:{path:s,fullPath:l.Key},error:null};return{data:null,error:l}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}createSignedUploadUrl(e){return oe(this,void 0,void 0,(function*(){try{let t=this._getFinalPath(e);const n=yield ie(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+n.url),s=r.searchParams.get("token");if(!s)throw new q("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:s},error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}update(e,t,n){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t){return oe(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}copy(e,t){return oe(this,void 0,void 0,(function*(){try{return{data:{path:(yield ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}createSignedUrl(e,t,n){return oe(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield ie(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}createSignedUrls(e,t,n){return oe(this,void 0,void 0,(function*(){try{const r=yield ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null}))),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}download(e,t){return oe(this,void 0,void 0,(function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield se(this.fetch,`${this.url}/${n}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&r.push(a);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}remove(e){return oe(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}list(e,t,n){return oe(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},le),t),{prefix:e||""});return{data:yield ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ue={"X-Client-Info":"storage-js/2.5.5"};var de=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};class pe{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},ue),t),this.fetch=Z(n)}listBuckets(){return de(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}getBucket(e){return de(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}createBucket(e,t={public:!1}){return de(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}updateBucket(e,t){return de(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,s){return X(this,void 0,void 0,(function*(){return re(e,"PUT",t,r,s,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}emptyBucket(e){return de(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}deleteBucket(e){return de(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}}class fe extends pe{constructor(e,t={},n){super(e,t,n)}from(e){return new he(this.url,this.headers,e,this.fetch)}}let me="";me="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ge={"X-Client-Info":`supabase-js-${me}/2.39.3`};var ye=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const be=e=>{let t;return t=e||("undefined"==typeof fetch?h.default:fetch),(...e)=>t(...e)},ve=(e,t,n)=>{const r=be(n),s="undefined"==typeof Headers?h.Headers:Headers;return(n,i)=>ye(void 0,void 0,void 0,(function*(){var a;const o=null!==(a=yield t())&&void 0!==a?a:e;let l=new s(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},i),{headers:l}))}))};const we=()=>"undefined"!=typeof document,Ee={tested:!1,writable:!1},ke=()=>{if(!we())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(Ee.tested)return Ee.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ee.tested=!0,Ee.writable=!0}catch(e){Ee.tested=!0,Ee.writable=!1}return Ee.writable};function xe(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(e){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}const Ae=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,4354)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},_e=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Pe=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Se=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return n}},Ce=async(e,t)=>{await e.removeItem(t)};class Te{constructor(){this.promise=new Te.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Ie(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,s,i,a,o,l,c="",h=0;for(e=e.replace("-","+").replace("_","/");h<e.length;)i=t.indexOf(e.charAt(h++)),a=t.indexOf(e.charAt(h++)),o=t.indexOf(e.charAt(h++)),l=t.indexOf(e.charAt(h++)),n=i<<2|a>>4,r=(15&a)<<4|o>>2,s=(3&o)<<6|l,c+=String.fromCharCode(n),64!=o&&0!=r&&(c+=String.fromCharCode(r)),64!=l&&0!=s&&(c+=String.fromCharCode(s));return c}(n))}function Oe(e){return("0"+e.toString(16)).substr(-2)}function Me(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Oe).join("")}async function De(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}Te.promiseConstructor=Promise;class Ne extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function Fe(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Be extends Ne{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Re extends Ne{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Le extends Ne{constructor(e,t,n){super(e),this.name=t,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class je extends Le{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ue extends Le{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ge extends Le{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Ve extends Le{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ze extends Le{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class He extends Le{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function $e(e){return Fe(e)&&"AuthRetryableFetchError"===e.name}class We extends Le{constructor(e,t,n){super(e,"AuthWeakPasswordError",t),this.reasons=n}}var qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Ke=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Je=[502,503,504];async function Qe(e){if(!_e(e))throw new He(Ke(e),0);if(Je.includes(e.status))throw new He(Ke(e),e.status);let t;try{t=await e.json()}catch(e){throw new Re(Ke(e),e)}if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new We(Ke(t),e.status,t.weak_password.reasons);throw new Be(Ke(t),e.status||500)}const Ye=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ze(e,t,n,r){var s;const i=Object.assign({},null==r?void 0:r.headers);(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const a=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,n,r,s,i){const a=Ye(t,r,s,i);let o;try{o=await e(n,a)}catch(e){throw console.error(e),new He(Ke(e),0)}o.ok||await Qe(o);if(null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(e){await Qe(e)}}(e,t,n+o,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Xe(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function et(e){const t=Xe(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function tt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function nt(e){return{data:e,error:null}}function rt(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=qe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},user:Object.assign({},a)},error:null}}function st(e){return e}var it=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class at{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Ae(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tt})}catch(e){if(Fe(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{const{options:t}=e,n=it(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:rt,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(Fe(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tt})}catch(e){if(Fe(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,n,r,s,i,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:st});if(c.error)throw c.error;const h=await c.json(),u=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(e){if(Fe(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tt})}catch(e){if(Fe(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tt})}catch(e){if(Fe(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tt})}catch(e){if(Fe(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{const{data:t,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(Fe(e))return{data:null,error:e};throw e}}}const ot="0.0.0",lt={"X-Client-Info":`gotrue-js/${ot}`},ct={getItem:e=>ke()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ke()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ke()&&globalThis.localStorage.removeItem(e)}};function ht(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ut=!!(globalThis&&ke()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class dt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pt extends dt{}async function ft(e,t,n){ut&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),ut&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw ut&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pt(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ut)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}ut&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{ut&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const mt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lt,flowType:"implicit",debug:!1},gt=3e4;async function yt(e,t,n){return await n()}class bt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bt.nextInstanceID,bt.nextInstanceID+=1,this.instanceID>0&&we()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},mt),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new at({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ae(r.fetch),this.lock=r.lock||yt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,r.lock?this.lock=r.lock:we()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ft:this.lock=yt,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:ke()?this.storage=ct:(this.memoryStorage={},this.storage=ht(this.memoryStorage)):(this.memoryStorage={},this.storage=ht(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ot}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){try{const e=!!we()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),"Identity is already linked"===(null==n?void 0:n.message)||"Identity is already linked to another user"===(null==n?void 0:n.message)||await this._removeSession(),{error:n};const{session:r,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",s),await this._saveSession(r),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Fe(e)?{error:e}:{error:new Re("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,n,r;try{let s;if(await this._removeSession(),"email"in e){const{email:n,password:r,options:i}=e;let a=null,o=null;if("pkce"===this.flowType){const e=Me();await Pe(this.storage,`${this.storageKey}-code-verifier`,e),a=await De(e),o=e===a?"plain":"s256"}s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:o},xform:Xe})}else{if(!("phone"in e))throw new Ge("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(r=null==a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Xe})}}const{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){const{email:n,password:r,options:s}=e;t=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:et})}else{if(!("phone"in e))throw new Ge("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:et})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Ue}}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,n,r,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Se(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/"),{data:s,error:i}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xe});return await Ce(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null,redirectType:null},error:i}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:null!=r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new Ue}}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:n,token:r,access_token:s,nonce:i}=e,a=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Xe}),{data:o,error:l}=a;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Ue}}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,n,r,s,i;try{if(await this._removeSession(),"email"in e){const{email:r,options:s}=e;let i=null,a=null;if("pkce"===this.flowType){const e=Me();await Pe(this.storage,`${this.storageKey}-code-verifier`,e),i=await De(e),a=e===i?"plain":"s256"}const{error:o}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:a,error:o}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(i=null==n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new Ge("You must provide either an email or phone number.")}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,n;try{let r,s;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:a}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Xe});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,n,r;try{await this._removeSession();let s=null,i=null;if("pkce"===this.flowType){const e=Me();await Pe(this.storage,`${this.storageKey}-code-verifier`,e),s=await De(e),i=e===s?"plain":"s256"}return await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:nt})}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new je;const{error:r}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:i}=await Ze(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:i,error:a}=await Ze(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Ge("You must provide either an email or phone number and a type")}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Se(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return{data:{session:e},error:null};const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,(async()=>await this._getUser())))}async _getUser(e){try{return e?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tt}):await this._useSession((async e=>{var t,n;const{data:r,error:s}=e;if(s)throw s;return await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==n?n:void 0,xform:tt})}))}catch(e){if(Fe(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new je;const i=r.session;let a=null,o=null;if("pkce"===this.flowType&&null!=e.email){const e=Me();await Pe(this.storage,`${this.storageKey}-code-verifier`,e),a=await De(e),o=e===a?"plain":"s256"}const{data:l,error:c}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:i.access_token,xform:tt});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(e){if(Fe(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return Ie(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new je;const t=Date.now()/1e3;let n=t,r=!0,s=null;const i=Ie(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(Fe(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new je;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!we())throw new Ve("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new Ve("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!e)throw new ze("Not a valid PKCE flow url.");const t=xe(window.location.href);if(e){if(!t.code)throw new ze("No code detected.");const{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Ve(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:a,expires_at:o,token_type:l}=t;if(!(s&&a&&i&&l))throw new Ve("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let u=c+h;o&&(u=parseInt(o));const d=u-c;1e3*d<=gt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const p=u-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,u,c);const{data:f,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:h,expires_at:u,refresh_token:i,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(e){if(Fe(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const e=xe(window.location.href);return!(!we()||!e.access_token&&!e.error_description)}async _isPKCEFlow(){const e=xe(window.location.href),t=await Se(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Fe(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Ce(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(t){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}}))}async resetPasswordForEmail(e,t={}){let n=null,r=null;if("pkce"===this.flowType){const e=Me();await Pe(this.storage,`${this.storageKey}-code-verifier`,`${e}/PASSWORD_RECOVERY`),n=await De(e),r=e===n?"plain":"s256"}try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,s,i,a;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})}));if(r)throw r;return we()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(t){if(Fe(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:i}=t;if(i)throw i;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*n),this._debug(t,"refreshing attempt",n),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xe})),r=(e,t,n)=>n&&n.error&&$e(n.error)&&Date.now()+200*(e+1)-s<gt,new Promise(((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(e){if(!r(s,e))return void t(e)}})()})))}catch(e){if(this._debug(t,"error",e),Fe(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),we()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Se(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=Math.round(Date.now()/1e3),s=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<r+10;if(this._debug(t,`session has${s?"":" not"} expired with margin of 10s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),$e(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){return this._debug(t,"error",e),void console.error(e)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Te;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new je;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),Fe(e)){const n={session:null,error:e};return $e(e)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Pe(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ce(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&we()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),gt);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/gt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof dt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const e=Me();await Pe(this.storage,`${this.storageKey}-code-verifier`,e);const t=await De(e),n=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",n);const s=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(n)}`});r.push(s.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:((null===(r=null==a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(e){if(Fe(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:a}=await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})}))}catch(e){if(Fe(e))return{data:null,error:e};throw e}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(e){if(Fe(e))return{data:null,error:e};throw e}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let a=null;i.aal&&(a=i.aal);let o=a;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}}bt.nextInstanceID=0;class vt extends bt{constructor(e){super(e)}}var wt=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const Et={headers:ge},kt={schema:"public"},xt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},At={};class _t{constructor(e,t,n){var r,s,i,a,o,l,c,h;if(this.supabaseUrl=e,this.supabaseKey=t,this.from=e=>this.rest.from(e),this.schema=e=>this.rest.schema(e),this.rpc=(e,t={},n)=>this.rest.rpc(e,t,n),!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=e.replace(/\/$/,"");this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p=function(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:a,auth:o,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i)}}(null!=n?n:{},{db:kt,realtime:At,auth:Object.assign(Object.assign({},xt),{storageKey:d}),global:Et});this.storageKey=null!==(s=null===(r=p.auth)||void 0===r?void 0:r.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=null===(i=p.global)||void 0===i?void 0:i.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(o=p.auth)&&void 0!==o?o:{},this.headers,null===(l=p.global)||void 0===l?void 0:l.fetch),this.fetch=ve(t,this._getAccessToken.bind(this),null===(c=p.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new y(`${u}/rest/v1`,{headers:this.headers,schema:null===(h=p.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fe(this.storageUrl,this.headers,this.fetch)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return wt(this,void 0,void 0,(function*(){const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:s,flowType:i,debug:a},o,l){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vt({url:this.authUrl,headers:Object.assign(Object.assign({},c),o),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:i,debug:a,fetch:l})}_initRealtimeClient(e){return new $(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=n?n:null),this.changedAccessToken=n)}}const Pt=new class{pull(e,...t){const n=new Set(t);for(let t=e.length-1;t>=0;t--)n.has(e[t])&&e.splice(t,1)}insert(e,t,n){e.splice(t,0,n)}shuffle(e){let t=e.length;for(;0!==t;){const n=Math.floor(Math.random()*t);t-=1,[e[t],e[n]]=[e[n],e[t]]}return e}checkSame(e,t){if(e.length!==t.length)return!1;const n=new Set(t);for(const t of e)if(!n.has(t))return!1;return!0}};class St{static NEXT_ID=0;id=St.NEXT_ID++;allowedEvents=["delete"];eventMap={};delegateEvents=[];deleted=!1;addAllowedEvents(...e){this.allowedEvents.push(...e)}addEventHandler(e,t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);void 0===this.eventMap[e]&&(this.eventMap[e]=[]),this.eventMap[e].push(t)}removeDelegateEvents(e){for(const[t,n]of Object.entries(e.events))for(const r of n)e.delegate.off(t,r);Pt.pull(this.delegateEvents,e)}on(e,t){if(Array.isArray(e))for(const n of e)this.addEventHandler(n,t);else this.addEventHandler(e,t);return this}once(e,t){const n=(...r)=>{this.off(e,n),t(...r)};this.addEventHandler(e,n)}off(e,t){void 0!==this.eventMap?.[e]&&(Pt.pull(this.eventMap[e],t),0===this.eventMap[e].length&&delete this.eventMap[e])}async fireEvent(e,...t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);const n=[],r=[],s=this.eventMap[e];if(void 0!==s)for(const e of[...s])if(s.includes(e)){const s=e(...t);s instanceof Promise?r.push(s):n.push(s)}return n.concat(await Promise.all(r))}onDelegate(e,t,n){let r=this.delegateEvents.find((t=>t.delegate===e));void 0===r&&(r={delegate:e,events:{}},this.delegateEvents.push(r)),"string"==typeof t&&(t=[t]);for(const s of t)void 0===r.events[s]&&(r.events[s]=[]),r.events[s].push(n),e.on(s,n)}offDelegate(e){const t=this.delegateEvents.find((t=>t.delegate===e));void 0!==t&&this.removeDelegateEvents(t)}offAll(){this.eventMap={};for(const e of[...this.delegateEvents])this.removeDelegateEvents(e);this.delegateEvents=[]}delete(){for(const e of[...this.delegateEvents])this.removeDelegateEvents(e);this.delegateEvents=void 0,this.fireEvent("delete"),this.allowedEvents=void 0,this.eventMap=void 0,this.deleted=!0}}const Ct=new class extends St{client;devMode=!1;connect(e,t,n){this.devMode=n,this.client=((e,t,n)=>new _t(e,t,n))(e,t,{auth:{autoRefreshToken:!0,persistSession:!0}})}async signIn(e){await this.client.auth.signInWithOAuth({provider:e,options:this.devMode?{redirectTo:"http://localhost:8413/"}:void 0})}async signOut(){const{error:e}=await this.client.auth.signOut();if(e)throw e}convertNullToUndefined(e){Object.keys(e).forEach((t=>{null===e[t]?e[t]=void 0:"object"==typeof e[t]&&null!==e[t]&&this.convertNullToUndefined(e[t])}))}safeResult(e){return Array.isArray(e)?e.forEach((e=>this.convertNullToUndefined(e))):this.convertNullToUndefined(e),e}async safeFetch(e,t){const{data:n,error:r}=await t(this.client.from(e));if(r)throw r;return this.safeResult(n)}};class Tt extends St{parent;children=[];append(...e){for(const t of e)void 0!==t&&t.appendTo(this);return this}appendTo(e,t){return this.parent===e&&void 0!==t&&this.parent.children.indexOf(this)<t&&(t-=1),this.removeFromParent(),void 0!==t&&t<e.children.length?e.children.splice(t,0,this):e.children.push(this),this.parent=e,this}removeFromParent(){void 0!==this.parent&&(Pt.pull(this.parent.children,this),this.parent=void 0)}empty(){for(;this.children.length>0;)this.children[0].delete();return this}checkChild(e){const t=[...this.children];for(;t.length>0;){const n=t.pop();if(n===e)return!0;t.push(...n.children)}return!1}delete(){super.delete(),this.removeFromParent(),this.empty(),this.children=void 0}}class It extends Tt{static NUMBER_STYLE_KEY=["zIndex","opacity","flexGrow","flexShrink","gridGap","order","zoom"];static keyframesCount=0;static createElement(e){let t;const n=e.indexOf("#");if(-1!==n){t=e.substring(n+1),e=e.substring(0,n);const r=t.indexOf(".");-1!==r&&(e+=t.substring(r),t=t.substring(0,r))}let r;const s=e.indexOf(".");-1!==s&&(r=e.substring(s+1).replace(/\./g," "),e=e.substring(0,s)),""===e&&(e="div");const i=document.createElement(e);return void 0!==t&&(i.id=t),void 0!==r&&(i.className=r),i}children=[];domEventMap={};windowEventMap={};domElement;constructor(e,...t){super(),this.addAllowedEvents("visible"),e instanceof HTMLElement?this.domElement=e:this.domElement=It.createElement(e),this.append(...t)}style(e){for(const[t,n]of Object.entries(e))void 0===n?this.domElement.style[t]=null:"number"==typeof n&&!0!==It.NUMBER_STYLE_KEY.includes(t)?this.domElement.style[t]=`${n}px`:this.domElement.style[t]=n;return this}get rect(){return this.domElement.getBoundingClientRect()}get innerScrollPosition(){let e=0,t=0;if(this.domElement!==document.body){let n=this.domElement.parentNode;for(;n!==document.body&&null!==n;)n instanceof HTMLElement&&(e+=n.scrollLeft,t+=n.scrollTop),n=n.parentNode}return{left:e,top:t}}onDom(e,t){void 0===this.domEventMap[e]&&(this.domEventMap[e]=[]);const n=e=>t(e,this);this.domEventMap[e].push({eventHandler:t,domEventHandler:n}),this.domElement.addEventListener(e,n)}onWindow(e,t){void 0===this.windowEventMap[e]&&(this.windowEventMap[e]=[]);const n=e=>t(e,this);this.windowEventMap[e].push({eventHandler:t,domEventHandler:n}),window.addEventListener(e,n)}offDom(e,t){const n=this.domEventMap[e];if(void 0!==n){const r=n.find((e=>e.eventHandler===t));void 0!==r&&(this.domElement.removeEventListener(e,r.domEventHandler),Pt.pull(n,r),0===n.length&&delete this.domEventMap[e])}}fireDomEvent(e){this.domElement.dispatchEvent(new Event(e))}appendText(e){if("TEXTAREA"===this.domElement.tagName)this.domElement.append(e);else{const t=new DocumentFragment,n=e.split("\n");for(const[e,r]of n.entries())e>0&&t.append(document.createElement("br")),t.append(r);this.domElement.append(t)}return this}set text(e){this.empty().appendText(e)}append(...e){for(const t of e)if(void 0!==t)if("string"==typeof t)this.appendText(t);else if(t instanceof It)t.appendTo(this);else for(const[e,n]of Object.entries(t))"function"==typeof n?this.onDom(e,n):"style"===e&&"object"==typeof n?this.style(n):void 0===n?this.domElement.removeAttribute(e):this.domElement.setAttribute(e,String(n));return this}prepend(...e){for(const t of e)if(void 0!==t)if("string"==typeof t)this.domElement.prepend(t);else if(t instanceof It)t.appendTo(this,0);else for(const[e,n]of Object.entries(t))"function"==typeof n?this.onDom(e,n):"style"===e&&"object"==typeof n?this.style(n):void 0===n?this.domElement.removeAttribute(e):this.domElement.setAttribute(e,String(n));return this}checkVisible(){return void 0!==this.parent&&(this.parent.domElement===document.body||this.parent.checkVisible())}fireVisible(){this.fireEvent("visible");for(const e of this.children)e.fireVisible()}appendTo(e,t){void 0!==t&&t<e.children.length?e.domElement.insertBefore(this.domElement,e.children[t].domElement):e.domElement.append(this.domElement);const n=super.appendTo(e,t);return!0===this.checkVisible()&&this.fireVisible(),n}empty(){for(super.empty();this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);return this}addClass(e){return this.domElement.classList.add(e),this}deleteClass(...e){return this.domElement.classList.remove(...e),this}hasClass(e){return this.domElement.classList.contains(e)}toggleClass(e){this.domElement.classList.toggle(e)}clone(){return new It(this.domElement.cloneNode(!0))}delete(){this.domElement.remove(),this.domEventMap=void 0;for(const[e,t]of Object.entries(this.windowEventMap))for(const n of t)window.removeEventListener(e,n.domEventHandler);this.windowEventMap=void 0,super.delete(),this.domElement=void 0}animate({keyframes:e,duration:t=.5,timingFunction:n="ease",delay:r=0,iterationCount:s=1,direction:i="normal",onEnd:a=(()=>{})}){const o="__KEYFRAMES_"+It.keyframesCount++;let l="",c={};for(const[t,n]of Object.entries(e)){l+=`${t}{`;for(let[e,t]of Object.entries(n))"number"!=typeof t||["zIndex","opacity"].includes(e)||(t+="px"),l+=`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}:${t};`;l+="}","from"===t||"0%"===t?c={...c,...n}:"to"!==t&&"100%"!==t||(c={...c,...n})}const h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode(`@keyframes ${o}{${l}}`)),document.head.appendChild(h),c={...c,animation:`${o} ${t}s ${n} ${r}s ${s} ${i}`},this.style(c),1===s&&setTimeout((()=>{this.deleted||a(),h.remove()}),1e3*t)}}const Ot=new class extends It{constructor(){super(document.body)}};class Mt extends It{options;constructor(e,t){super(".exitable"+e),this.options=t,!0===t.barrierDismissible&&this.onDom("click",(e=>{e.target===this.domElement&&this.delete()})),Ot.append(this)}delete(){this.container.addClass("hide"),setTimeout((()=>super.delete()),300)}}const Dt=new class{paramRegex=/{(.+)}/;match(e,t,n){for(let r=0;r<e.length;r++){const s=t[r];if(void 0===s)return!1;let i=e[r];if("**"===s)return!0;const a=this.paramRegex.exec(s);if(!s.startsWith("{")){const e=s.indexOf("{");if(i.substring(0,e)!==s.substring(0,e))return!1;i=i.substring(e)}if(i&&a)n&&(n[a[1]]=i);else if("*"!==s&&s!==i)return!1;if(r===e.length-1&&r<t.length-1&&""!==t[t.length-1])return!1}return!0}parse(e,t,n){const r=e.split("/"),s=t.split("/");return this.match(r,s,n)}},Nt=e=>decodeURIComponent(e.endsWith("/")?e.slice(0,-1).substring(1):e.substring(1)),Ft=(e,t,n,r)=>t.some((t=>Dt.match(e,t.split("/"),r)))&&!n.some((t=>Dt.match(e,t.split("/"))));const Bt=new class extends St{routes=[];redirects=[];openingViews=[];forwarding=!1;constructor(){super(),this.addAllowedEvents("go"),window.addEventListener("popstate",(e=>{if(!0===this.forwarding)this.forwarding=!1;else{const t=Ot.children.findLast((e=>e instanceof Mt));t?(this.forwarding=!0,window.history.forward(),t.delete()):this.check(e.state??void 0)}for(const e of Ot.children)e.hasClass("dropdown-menu")&&e.delete()})),window.addEventListener("keydown",(e=>{if("Escape"===e.key){const e=Ot.children.findLast((e=>e instanceof Mt));e?.delete()}}))}deleteAllExitable(){for(const e of Ot.children)e instanceof Mt&&e.delete()}check(e,t){const n=Nt(location.pathname),r=n.split("/");let s=!1;const i=[];for(const{patterns:n,excludes:s,to:i}of this.redirects){const a=e?{...e}:{};if(Ft(r,n,s,a)){let e=i;for(const[t,n]of Object.entries(a))e=e.replace(new RegExp(`{${t}}`,"g"),n??"");return void this.goNoHistory(`/${e}`,a,t)}}for(const{patterns:a,excludes:o,viewType:l}of this.routes){const c=e?{...e}:{},h=this.openingViews.find((e=>e instanceof l));Ft(r,a,o,c)?void 0===h?(this.openingViews.push(new l(c,n,t)),s=!0):h.changeParams(c,n,t):void 0!==h&&(i.push(h),Pt.pull(this.openingViews,h))}for(const e of i.reverse())e.close();!0===s&&this.fireEvent("go")}route(e,t,n=[]){"string"==typeof e&&(e=[e]),this.routes.push({patterns:e,excludes:n,viewType:t});const r=Nt(location.pathname),s=r.split("/"),i={};Ft(s,e,n,i)&&this.openingViews.push(new t(i,r))}redirect(e,t,n=[]){"string"==typeof e&&(e=[e]),this.redirects.push({patterns:e,excludes:n,to:t});const r=Nt(location.pathname).split("/"),s={};if(Ft(r,e,n,s)){let e=t;for(const[t,n]of Object.entries(s))e=e.replace(new RegExp(`{${t}}`,"g"),n??"");this.goNoHistory(`/${e}`)}}go(e,t,n){location.pathname!==e&&(history.pushState(void 0,"",e),this.check(t,n),window.scrollTo(0,0))}changeUri(e){history.replaceState(void 0,"",e)}goNoHistory(e,t,n){location.pathname!==e&&(history.replaceState(void 0,"",e),this.check(t,n),window.scrollTo(0,0))}waitAndGo(e,t,n){setTimeout((()=>this.go(e,t,n)))}refresh(){for(const e of this.openingViews.reverse())e.close();this.openingViews=[];const e=Nt(location.pathname),t=e.split("/");for(const{patterns:n,excludes:r,viewType:s}of this.routes){const i={};Ft(t,n,r,i)&&this.openingViews.push(new s(i,e))}}};const Rt=new class{initialize(e,t,n){sessionStorage.__spa_path&&(Bt.goNoHistory(sessionStorage.__spa_path),sessionStorage.removeItem("__spa_path")),Ct.connect(e,t,n),Ct.client.auth.onAuthStateChange((e=>{"SIGNED_IN"===e&&Ct.client.functions.invoke("store-user-avatar")}))}};const Lt=new class{parseWithUndefined(e){if(null!==e)return JSON.parse(e,((e,t)=>null===t?void 0:t))}};class jt{name;constructor(e){this.name=e}selectStorage(e){return e?localStorage:sessionStorage}getKey(e){return`${this.name}/${e}`}set(e,t,n=!1){this.selectStorage(!n).removeItem(this.getKey(e));const r=this.selectStorage(n);try{r.setItem(this.getKey(e),JSON.stringify(t))}catch(e){if(!(e instanceof DOMException)||22!==e.code&&1014!==e.code&&"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name)throw e;r.clear(),location.reload()}}get(e,t){let n=sessionStorage.getItem(this.getKey(e))||localStorage.getItem(this.getKey(e));return null===n?t:Lt.parseWithUndefined(n)}getAll(){const e={};for(let t=0;t<sessionStorage.length;t++){const n=sessionStorage.key(t);n&&n.startsWith(this.name)&&(e[n.substring(this.name.length+1)]=Lt.parseWithUndefined(sessionStorage.getItem(n)))}for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(this.name)&&(e[n.substring(this.name.length+1)]=Lt.parseWithUndefined(localStorage.getItem(n)))}return e}checkPermanently(e){return null!==localStorage.getItem(this.getKey(e))}delete(e){sessionStorage.removeItem(this.getKey(e)),localStorage.removeItem(this.getKey(e))}clear(){for(let e=0;e<sessionStorage.length;e++){const t=sessionStorage.key(e);t&&t.startsWith(this.name)&&sessionStorage.removeItem(t)}for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith(this.name)&&localStorage.removeItem(t)}}}const Ut=new class{store=new jt("__BROWSER_INFO_STORE");normalizeLanguage(e){return-1!==e.indexOf("-")&&"zh-TW"!==e&&"zh-HK"!==e&&(e=e.substring(0,e.indexOf("-"))),e}get language(){let e=this.store.get("lang")||navigator.language;return this.normalizeLanguage(e)}set language(e){this.store.set("lang",this.normalizeLanguage(e))}changeLanguage(e){if(!e)throw new Error("Invalid language code.");this.language=e,Bt.refresh()}get isPhoneSize(){return window.innerWidth<=859}get installed(){return navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}get isWindows(){return!!navigator.platform&&navigator.platform.indexOf("Win")>-1}get isAndroid(){return/Android/i.test(navigator.userAgent)}get isIOS(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}get isMobileDevice(){return this.isAndroid||this.isIOS}get isDarkMode(){return window.matchMedia("(prefers-color-scheme: dark)").matches}},Gt={UNIX_EPOCH_START_DATE:"1970-01-01T00:00:00.000Z",NEGATIVE_INFINITY:"-infinity"};new class{map=new Map;cache(e,t){this.map.set(e,t)}get(e){return this.map.get(e)}};class Vt extends It{constructor(e,...t){super(e+".component"),this.append(...t)}}class zt extends Vt{constructor(e){super(".splash-screen"),this.append(e).appendTo(Ot)}}const Ht=new class{async load(e,t){const n=new zt(e);await Promise.all(t),n.delete()}};class $t extends Vt{constructor(e){super(".activatable"+e)}activate(){this.addClass("active")}deactivate(){this.deleteClass("active")}}class Wt extends Vt{}class qt extends Vt{sortItems(e=!0){const t=this.domElement,n=[...this.children].sort(((t,n)=>e?t.sortValue-n.sortValue:n.sortValue-t.sortValue));let r=null;for(const e of n){const n=e.domElement,s=r?r.nextSibling:t.firstChild;n!==s&&t.insertBefore(n,s),r=n}}}const Kt=(e,...t)=>new It(It.createElement(e),...t);class Jt extends Vt{ul;constructor(e){super(".dropdown-menu"+(e.tag??"")),this.append(this.ul=Kt("ul"),e.footer);for(const t of e.items)this.ul.append(Kt("li",Kt("button",t.icon,t.title,{click:e=>{e.stopPropagation(),t.click(),this.delete()}})));this.style({left:e.left,top:e.top}),this.on("visible",(()=>{const e=this.rect;e.left+e.width>window.innerWidth&&this.style({left:window.innerWidth-e.width}),e.top+e.height>window.innerHeight&&this.style({top:window.innerHeight-e.height})})),Ot.append(this),this.onWindow("click",(e=>{this.domElement.contains(e.target)||this.delete()})),this.onWindow("keydown",(e=>{"Escape"===e.key&&this.delete()}))}}n(9406),n(5112);class Qt extends Vt{loaded=!1;constructor(e){super(".lazy-loading-component"+e),this.addClass("hidden")}show(){this.deleteClass("hidden"),this.loaded||(this.load(),this.loaded=!0)}hide(){this.addClass("hidden")}}var Yt,Zt=n(2543);class Xt extends Vt{animation;constructor(e,t){super(e+".lottie-animation"),this.animation=Zt.loadAnimation({container:this.domElement,renderer:"svg",loop:!0,autoplay:!0,animationData:t})}delete(){this.animation.destroy(),super.delete()}}class en extends Vt{constructor(e){super("span.icon.material-icon.material-symbols-outlined.notranslate."+e),this.text=e}}class tn extends Vt{constructor(){super(".loading-spinner")}}class nn extends Vt{options;_icon;titleContainer;constructor(e){super("button"+(void 0!==e.type?"."+e.type:".text")+(e.tag??"")),this.options=e,void 0!==e.icon&&this.append(this._icon=e.icon.clone()),void 0!==e.title&&this.append(this.titleContainer=Kt("span.title",e.title)),e.decapitalize&&this.style({textTransform:"none"}),void 0!==e.href&&this.onDom("click",(()=>{"_blank"===e.target?window.open(e.href):window.location.href=e.href})),!0===e.disabled&&this.disable(),void 0!==e.click&&this.onDom("click",(t=>{!0!==this.hasClass("disabled")&&e.click(t,this)}))}set type(e){this.deleteClass("contained","outlined","text"),this.addClass(e)}set title(e){void 0!==this.titleContainer?this.titleContainer.empty().append(e):this.append(this.titleContainer=Kt("span.title",e))}set icon(e){this._icon?.delete(),this._icon=e.appendTo(this,0)}disable(){return this.domElement.setAttribute("disabled","disabled"),this.addClass("disabled"),this}enable(){return this.domElement.removeAttribute("disabled"),this.deleteClass("disabled"),this}set loading(e){e?(this.disable(),this.addClass("loading"),this.options.icon?this.icon=new tn:this.title=new tn):(this.enable(),this.deleteClass("loading"),this.options.icon?this.icon=this.options.icon.clone():this.title=this.options.title??"")}}!function(e){e.Contained="contained",e.Outlined="outlined",e.Circle="circle"}(Yt||(Yt={}));const rn=Yt;class sn extends Mt{container;header;main;footer;constructor(e,t){super(".popup-overlay",t),this.container=new Vt(".popup"+e,this.header=Kt("header"),this.main=Kt("main"),this.footer=Kt("footer")).appendTo(this)}}class an extends sn{constructor(e,t){super(".alert",{barrierDismissible:!0}),this.header.append(Kt("h1",e.icon,e.title)),this.main.append(Kt("p",e.message)),this.footer.append(new nn({tag:".confirm",title:e.confirmTitle??"OK",click:async()=>{t&&await t(),this.delete()}}))}}const on={};function ln(){let e="",t="";return 2===Ut.language.length?e=Ut.language.toLowerCase():(e=Ut.language.substring(0,2).toLowerCase(),t=Ut.language.substring(3).toLowerCase()),{language:e,locale:t}}function cn(e,t){const n="string"==typeof e?on[e]:e;if(void 0!==n){let e=n[Ut.language];if(void 0===e){const{language:t,locale:r}=ln();e=n[t],"object"==typeof e&&(e=void 0!==e[r]?e[r]:e[Object.keys(e)[0]])}if(void 0===e){const r=n[t];e=void 0!==r?r:n[Object.keys(n)[0]]}return void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),void 0===e?"":e}return console.error(`message "${e}" not exists.`),""}function hn(e,t={},n="en"){let r=cn(e,n);for(const[e,n]of Object.entries(t)){const t=new RegExp(`{${e}}`,"g");r=r.replace(t,String(n??""))}return r}function un(e,t={},n="en"){const r=cn(e,n).split(/\{|\}/),s=[];for(let e=0;e<r.length;e++){const n=r[e];e%2==0?s.push(n):s.push(t[n])}return s}hn.setMessages=async e=>{for(const[t,n]of Object.entries(e))if(n)for(const[e,r]of Object.entries(n))void 0===on[e]&&(on[e]={}),on[e][t]=r},hn.setMessages({en:{"cancel-button":"Cancel","confirm-button":"Confirm","error-alert-title":"Error","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n"},ko:{"confirm-button":"확인"},es:{"confirm-button":"Confirmar"},fr:{"confirm-button":"Confirmer"},de:{"confirm-button":"Bestätigen"},it:{"confirm-button":"Conferma"},pt:{"confirm-button":"Confirmar"},ru:{"confirm-button":"Подтвердить"},zh:{"confirm-button":"确认"},"zh-tw":{"confirm-button":"確認"},"zh-hk":{"confirm-button":"確認"},ja:{"confirm-button":"確認"}}),hn.getMessages=e=>on[e],hn.getLangMessages=(e,t="en")=>{const{language:n,locale:r}=ln(),s="string"==typeof e?on[e]:e;if(void 0!==s){let e=s[Ut.language];if(void 0===e&&(e=s[n],void 0!==e&&"object"==typeof e&&(e=void 0!==e[r]?e[r]:e[Object.keys(e)[0]])),void 0===e){const n=s[t];e=void 0!==n?n:s[Object.keys(s)[0]]}return void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),{[n]:void 0===e?"":e}}return console.error(`message "${e}" not exists.`),{[n]:""}};const dn=hn;class pn extends sn{resolve;reject;constructor(e,t,n){super(".confirm",{barrierDismissible:!0}),this.header.append(Kt("h1",e.icon,e.title)),this.main.append(Kt("p",e.message)),this.footer.append(new nn({tag:".cancel",title:e.cancelTitle??dn("cancel-button"),click:()=>{n&&n(),this.delete()}}),new nn({type:rn.Contained,tag:".confirm",title:e.confirmTitle??dn("confirm-button"),click:async(e,n)=>{n.loading=!0;try{t&&await t(),this.resolve?.(),this.reject=void 0,this.delete()}catch(e){console.error(e),n.loading=!1}}})),this.on("delete",(()=>this.reject?.("Canceled by user")))}async wait(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class fn extends sn{constructor(e){super(".error-alert",{barrierDismissible:!0}),this.header.append(Kt("h1",new en("error"),e.title)),this.main.append(Kt("p",e.message)),this.footer.append(new nn({tag:".confirm",title:e.confirmTitle??"OK",click:()=>this.delete()}))}}class mn extends Mt{container;titleDisplay;main;constructor(e,t){super(".adaptive-modal-overlay",t),this.container=new Vt(".adaptive-modal"+e,Kt("header",new nn({tag:".back",type:rn.Circle,icon:new en("arrow_back"),click:()=>this.delete()}),this.titleDisplay=Kt("h1.title"),new nn({tag:".close",type:rn.Circle,icon:new en("close"),click:()=>this.delete()})),this.main=Kt("main"),Kt("footer",new nn({tag:".cancel",title:dn("cancel-button"),click:()=>this.delete()}))).appendTo(this)}set title(e){this.titleDisplay.empty().append(...Array.isArray(e)?e:[e])}}const gn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let yn;const bn=new Uint8Array(16);function vn(){if(!yn&&(yn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yn(bn)}const wn=[];for(let e=0;e<256;++e)wn.push((e+256).toString(16).slice(1));function En(e,t=0){return wn[e[t+0]]+wn[e[t+1]]+wn[e[t+2]]+wn[e[t+3]]+"-"+wn[e[t+4]]+wn[e[t+5]]+"-"+wn[e[t+6]]+wn[e[t+7]]+"-"+wn[e[t+8]]+wn[e[t+9]]+"-"+wn[e[t+10]]+wn[e[t+11]]+wn[e[t+12]]+wn[e[t+13]]+wn[e[t+14]]+wn[e[t+15]]}const kn=function(e,t,n){if(gn.randomUUID&&!t&&!e)return gn.randomUUID();const r=(e=e||{}).random||(e.rng||vn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return En(r)};class xn extends Vt{constructor(){super(".list-loading-bar")}}class An extends Vt{constructor(){super(".loading-content")}}class _n extends Vt{constructor(e,t){super(e.tag+".file-drop-area"),e.contenteditable&&(this.domElement.contentEditable="true",this.onDom("paste",(e=>{e.preventDefault();const t=e.clipboardData?.getData("text/plain");document.execCommand("insertText",!1,t)}))),this.onDom("dragenter",(e=>{e.preventDefault(),this.highlight()})),this.onDom("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy",this.highlight()})),this.onDom("dragleave",(()=>this.unhighlight())),this.onDom("drop",(e=>{e.preventDefault(),t(Array.from(e.dataTransfer.files)),this.unhighlight()}))}highlight(){this.addClass("highlight")}unhighlight(){this.deleteClass("highlight")}}const Pn=JSON.parse('{"nm":"Load Fae 2","ddd":0,"h":640,"w":640,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":0,"nm":"Image Reverse","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[202.381,202.381,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[10],"t":0},{"s":[45],"t":119}],"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_0","ind":1},{"ty":0,"nm":"Faded","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[205,205,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":26,"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_1","ind":2},{"ty":4,"nm":"Shape Layer 1","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-75.008,597.195,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Rectangle 1","ix":1,"cix":2,"np":3,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[506.453,927.828],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":1,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"c":{"a":0,"k":[1,1,1],"ix":3}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.2667,0.2667,0.2667],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[218.041,213.52],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[395.008,354.805],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.1.16","fr":60,"op":120,"ip":0,"assets":[{"nm":"","id":"comp_0","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[19.01,11.01],[7.99,0],[0,8.02]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":174},{"s":[100],"t":239}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[23.67,11.9],[12.88,0],[0,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[0],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":148},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":174},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":185},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":199},{"s":[0,0,100],"t":239}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":185},{"s":[0],"t":239}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[-1.66,0],[0,-1.66],[1.66,0],[0,1.66]],"o":[[1.66,0],[0,1.66],[-1.66,0],[0,-1.66]],"v":[[3,0],[6,3],[3,6],[0,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":168},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":180},{"s":[1],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"s":[100],"t":119}],"ix":2},"o":{"a":0,"k":148,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[16],"t":23},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[27],"t":61},{"s":[99.9],"t":119}],"ix":1},"m":1}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":120,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.1],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[29],"t":239}],"ix":2},"o":{"a":0,"k":107,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.2],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[8],"t":7},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[67.214],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":174},{"s":[26],"t":239}],"ix":1},"m":1}],"ind":7}]},{"nm":"","id":"comp_1","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,8.02],[7.99,0],[19.01,11.01]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"s":[100],"t":119}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,11.9],[12.88,0],[23.67,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"s":[0],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"s":[0,0,100],"t":119}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"s":[0],"t":119}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[1.66,0],[0,-1.66],[-1.66,0],[0,1.66]],"o":[[-1.66,0],[0,1.66],[1.66,0],[0,-1.66]],"v":[[3,0],[0,3],[3,6],[6,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"s":[1],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F 2","sr":1,"st":-2,"op":119,"ip":-2,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":90,"ix":7}}]}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[50],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[24],"t":72},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.09],"t":119},{"s":[24],"t":191}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[54],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[36],"t":72},{"s":[1],"t":119}],"ix":1},"m":1}],"ind":7}]}]}');class Sn extends Vt{static NOT_FOUND_IMAGE="/images/image-not-found.png";constructor(e){if(super(".rich-display"),this.addAllowedEvents("imageLoaded"),e.files)for(const t of e.files)if(t.fileType.startsWith("image/")){let e=!1;const n=new Xt(".image-loading-animation",Pn),r=Kt("img.hidden",{src:t.url,alt:t.fileName,load:()=>{this.deleted||(r.deleteClass("hidden"),this.fireEvent("imageLoaded",r.domElement.height),n.delete())}});r.domElement.onerror=()=>{r.deleteClass("hidden"),r.domElement.onerror=null,r.domElement.src=Sn.NOT_FOUND_IMAGE,e=!0,n.delete()},this.append(Kt(".image-container",Kt("a",r,n,{click:n=>{n.stopPropagation(),e||this.openImage(t)}})))}}openImage(e){window.open(e.url,"_blank")}}const Cn=new class{async isAnimatedGif(e){const t=await fetch(URL.createObjectURL(e)),n=await t.arrayBuffer(),r=new Uint8Array(n);if(71!==r[0]||73!==r[1]||70!==r[2])throw new Error("Not a GIF file");let s=0;for(let e=0;e<r.length;e++)if(33===r[e]&&249===r[e+1]&&4===r[e+2]&&(s++,s>1))return!0;return!1}async compress(e,t,n){if("image/gif"===e.type){if(await this.isAnimatedGif(e))return console.log("Animated GIFs are not compressed."),e}return new Promise(((r,s)=>{const i=new FileReader;i.onload=i=>{const a=new Image;a.onload=()=>{const i=document.createElement("canvas"),o=i.getContext("2d"),l=a.width<=t&&a.height<=n?1:Math.min(t/a.width,n/a.height);i.width=a.width*l,i.height=a.height*l,o?.drawImage(a,0,0,i.width,i.height),i.toBlob((t=>{if(t)if(t.size<e.size){const n=e.name.replace(/(\.[^\.]+)$/,".jpg"),s=new File([t],n,{type:"image/jpeg"});r(s)}else r(e);else s(new Error("Canvas to Blob conversion failed"))}),"image/jpeg")},a.onerror=e=>s(e),a.src=i.target?.result},i.onerror=e=>s(e),i.readAsDataURL(e)}))}};class Tn extends Vt{toUploadFiles=[];uploadPreviewArea;constructor(e){super(e+".upload-form")}uploadInput=Kt("input.upload",{type:"file",multiple:!0,change:()=>{const e=this.uploadInput.domElement.files;e&&this.appendFiles(Array.from(e)),this.uploadInput.domElement.value=""}});openFileSelector(){this.uploadInput.domElement.click()}async appendFiles(e){for(const t of e){const e=await Cn.compress(t,1024,1024);this.toUploadFiles.push(e),this.appendPreview(e)}}appendPreview(e){if(this.uploadPreviewArea){const t=Kt("a.preview",Kt("button.x",new en("close"),{click:n=>{n.preventDefault(),this.toUploadFiles=this.toUploadFiles.filter((t=>t!==e)),t.delete()}}),{href:URL.createObjectURL(e),download:e.name,target:"_blank"}).appendTo(this.uploadPreviewArea);e.type.startsWith("image/")?t.addClass("image").style({backgroundImage:`url(${URL.createObjectURL(e)})`}):t.addClass("file").append(e.name)}}clearUploads(){this.toUploadFiles=[],this.uploadPreviewArea?.empty()}}class In extends Vt{_id;constructor(e,t,n){super("li.tab"),this._id=e,this.append(t,n)}set active(e){e?this.addClass("active"):this.deleteClass("active")}get active(){return this.hasClass("active")}}class On extends Vt{store;children=[];constructor(e,t){super("ul.bottom-menu-tabs"),this.addAllowedEvents("select"),e&&(this.store=new jt(`bottom-menu-tabs-${e}`));for(const e of t){const t=new In(e.id,e.icon,e.title);t.onDom("click",(()=>this.select(e.id))),this.append(t)}}init(e){if(e)this.select(e);else if(this.store?.get("selected"))this.select(this.store.get("selected"));else{const e=this.children[0]?._id;e&&this.select(e)}return this}select(e){let t=!1;for(const n of this.children)n._id===e?(n.active=!0,t=!0):n.active&&(n.active=!1);if(t)this.store?.set("selected",e,!0),this.fireEvent("select",e);else{const e=this.children[0]?._id;e&&this.select(e)}}}class Mn extends Vt{_id;constructor(e,t){super("li.tab"),this._id=e,this.append(...Array.isArray(t)?t:[t])}set active(e){e?this.addClass("active"):this.deleteClass("active")}get active(){return this.hasClass("active")}}class Dn extends Vt{store;ul;prevButton;nextButton;constructor(e,t){super(".tabs"),this.addAllowedEvents("select"),this.store=new jt(`tabs-${e}`),this.prevButton=new nn({tag:".prev",type:rn.Circle,icon:new en("arrow_back_ios_new"),click:()=>this.ul.domElement.scrollBy(-this.ul.domElement.clientWidth,0)}).appendTo(this),this.ul=Kt("ul").appendTo(this);for(const e of t){const t=new Mn(e.id,e.label);t.onDom("click",(()=>this.select(e.id))),this.ul.append(t)}this.nextButton=new nn({tag:".next",type:rn.Circle,icon:new en("arrow_forward_ios"),click:()=>this.ul.domElement.scrollBy(this.ul.domElement.clientWidth,0)}).appendTo(this),this.on("visible",(()=>this.checkScroll())),this.ul.onDom("scroll",(()=>this.checkScroll())),this.onWindow("resize",(()=>this.checkScroll()))}checkScroll(){const e=this.ul.domElement;e.scrollWidth>e.clientWidth?(this.addClass("scrollable"),0===e.scrollLeft?this.prevButton.disable():this.prevButton.enable(),e.scrollWidth-e.clientWidth<=e.scrollLeft?this.nextButton.disable():this.nextButton.enable()):this.deleteClass("scrollable")}init(e){if(e)this.select(e);else if(this.store.get("selected"))this.select(this.store.get("selected"));else{const e=this.ul.children[0]?._id;e&&this.select(e)}return this}select(e){let t=!1;for(const n of this.ul.children)n._id===e?(n.active=!0,t=!0):n.active&&(n.active=!1);if(t)this.store.set("selected",e,!0),this.fireEvent("select",e);else{const e=this.ul.children[0]?._id;e&&this.select(e)}}}class Nn extends St{tableName;selectQuery;fetchLimit;constructor(e,t,n){super(),this.tableName=e,this.selectQuery=t,this.fetchLimit=n}async safeSelect(e,t=this.fetchLimit){return await Ct.safeFetch(this.tableName,(n=>e(-1===t?n.select(this.selectQuery):n.select(this.selectQuery).limit(t))))??[]}async safeSelectSingle(e){const t=await Ct.safeFetch(this.tableName,(t=>e(t.select(this.selectQuery).limit(1))));return t?.[0]}async safeExists(e){const{data:t,error:n}=await e(Ct.client.from(this.tableName).select("*").limit(1));if(n)throw n;return t.length>0}async safeInsert(e){const{error:t}=await Ct.client.from(this.tableName).insert(e);if(t)throw t}async safeInsertAndSelect(e){return await Ct.safeFetch(this.tableName,(t=>t.insert(e).select(this.selectQuery).single()))}async safeUpdate(e,t){const{error:n}=await e(Ct.client.from(this.tableName).update(t));if(n)throw n}async safeUpsert(e,t){const{error:n}=await e(Ct.client.from(this.tableName).upsert(t));if(n)throw n}async safeDelete(e){const{error:t}=await e(Ct.client.from(this.tableName).delete());if(t)throw t}}class Fn{closed=!1;container;changeParams(e,t,n){}close(){this.container?.delete(),this.closed=!0}}var Bn;!function(e){e.Auto="auto",e.Dark="dark",e.Light="light"}(Bn||(Bn={}));const Rn=Bn;const Ln=new class extends St{store=new jt("__THEME_MANAGER_STORE");init(){this.theme=this.theme}get theme(){const e=this.store.get("theme");return void 0===e?Rn.Auto:e}set theme(e){this.store.set("theme",e),document.documentElement.setAttribute("data-theme",this.showingTheme),this.fireEvent("change")}get showingTheme(){const e=this.theme;return e===Rn.Auto?!0===Ut.isDarkMode?Rn.Dark:Rn.Light:e}};class jn extends St{channel;onlineUsers={};constructor(){super(),this.addAllowedEvents("onlineUsersChanged")}init(){this.channel=Ct.client.channel("online_users").on("presence",{event:"sync"},(()=>{const e=this.channel.presenceState();this.onlineUsers={};for(const t of Object.values(e))for(const e of t)this.onlineUsers[e.user_id]||(this.onlineUsers[e.user_id]=e);this.fireEvent("onlineUsersChanged")})).subscribe((async(e,t)=>{"SUBSCRIBED"===e&&await this.track(),t&&console.error(t)}))}checkOnline(e){return void 0!==this.onlineUsers[e]}}const Un=new class{async _uploadFile(e,t,n){const{data:r,error:s}=await Ct.client.storage.from(e).upload(`${t}/${kn()}_${n.name.replace(/[^(\w\/!-.*'() &@$=;:+,?)]/g,"")}`,n,{cacheControl:"31536000"});if(s)throw s;return r.path}async createSignedUrl(e,t,n){const{data:r,error:s}=await Ct.client.storage.from(e).createSignedUrl(t,n);if(s)throw s;return r.signedUrl}async uploadAttachment(e,t,n,r){return await this.createSignedUrl(e,await this._uploadFile(e,t,n),r)}async uploadFile(e,t,n){const r=await this._uploadFile(e,t,n);return Ct.client.storage.from(e).getPublicUrl(r).data.publicUrl}};class Gn extends Nn{async fetchUser(e){return await this.safeSelectSingle((t=>t.eq("user_id",e)))}async fetchNewUsers(e){return await this.safeSelect((t=>t.order("created_at",{ascending:!1}).gt("created_at",e??Gt.UNIX_EPOCH_START_DATE)))}async findUsers(e,t){return await this.safeSelect((n=>n.or(`display_name.ilike.%${e}%`).gt("created_at",t??Gt.UNIX_EPOCH_START_DATE)))}async fetchFollowingUsers(e,t){const{data:n,error:r}=await Ct.client.rpc("get_following_users",{p_user_id:e,last_fetched_followed_at:t,max_count:this.fetchLimit});if(r)throw r;return n&&n.length>0&&(t=n[n.length-1].followed_at),{users:Ct.safeResult(n??[]),lastFetchedFollowedAt:t}}async fetchFollowers(e,t){const{data:n,error:r}=await Ct.client.rpc("get_followers",{p_user_id:e,last_fetched_followed_at:t,max_count:this.fetchLimit});if(r)throw r;return n&&n.length>0&&(t=n[n.length-1].followed_at),{users:Ct.safeResult(n??[]),lastFetchedFollowedAt:t}}}class Vn{static checkEmailAccess(){let e=new URLSearchParams(location.search).get("error_description");e&&("Error getting user email from external provider"===e&&(e=dn("getting-email-from-x-error-message")),new fn({title:dn("error-alert-title"),message:e}))}}class zn{static NOT_FOUND_USER_IMAGE="/images/unknown-user.png";static async selectLoadable(e,t){for(const n of t)if(n)try{if((await fetch(n,{method:"HEAD"})).ok&&!e.deleted)return void e.style({backgroundImage:`url('${n}')`})}catch(e){console.error("Error fetching image:",e)}e.deleted||e.style({backgroundImage:`url('${zn.NOT_FOUND_USER_IMAGE}')`}),console.warn("No valid images found")}}const Hn=new class{format(e){if(e===Gt.NEGATIVE_INFINITY)return"";const t=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(Ut.language,{year:"numeric",month:"short",day:"numeric"}).format(t)}fromNow(e){const t=e instanceof Date?e:new Date(e),n=(new Date).getTime()-t.getTime(),r=Math.round(n/1e3),s=Math.round(r/60),i=Math.round(s/60),a=Math.round(i/24),o=Math.round(a/7),l=Math.round(a/30),c=Math.round(a/365),h=new Intl.RelativeTimeFormat(Ut.language,{numeric:"auto"});return Math.abs(c)>0?h.format(-c,"year"):Math.abs(l)>0?h.format(-l,"month"):Math.abs(o)>0?h.format(-o,"week"):Math.abs(a)>0?h.format(-a,"day"):Math.abs(i)>0?h.format(-i,"hour"):Math.abs(s)>0?h.format(-s,"minute"):h.format(-r,"second")}};new class{checkEqual(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||null==e||null==t)return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s of n)if(!r.includes(s)||!this.checkEqual(e[s],t[s]))return!1;return!0}};const $n=new class{shortenEthereumAddress(e){return 42===e.length&&e.startsWith("0x")?`${e.substring(0,6)}...${e.substring(38)}`:e}numberWithCommas(e,t){if(void 0===t||+ +e>Number.MAX_SAFE_INTEGER){const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===t[1]?t[0]:t.join(".")}const n=String(+(+e).toFixed(t)).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}}},910:(e,t,n)=>{"use strict";n.d(t,{bV:()=>Zf,dX:()=>Ll,RJ:()=>ic,yB:()=>pm,Kd:()=>ym,GM:()=>Am,Kk:()=>em,v9:()=>sm,Tb:()=>Xf,Sm:()=>Bm,_l:()=>Fm,Tf:()=>Yf,dn:()=>Rl,wT:()=>jf,Bd:()=>yf,v7:()=>Sf,UK:()=>uf,Lv:()=>Im});var r={};n.r(r),n.d(r,{dQ:()=>na,ci:()=>Wi,bytesToNumberBE:()=>Ji,ty:()=>Qi,eV:()=>ea,n$:()=>ia,ql:()=>Xi,Wd:()=>ta,hexToBytes:()=>Ki,tL:()=>Yi,S5:()=>Zi,FF:()=>oa});const s="6.11.1";function i(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let n=0;n<r.length;n++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=e,s}async function a(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function o(e,t,n){for(let r in t){let s=t[r];const a=n?n[r]:null;a&&i(s,a,r),Object.defineProperty(e,r,{enumerable:!0,value:s,writable:!1})}}function l(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(l).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"==typeof e&&"function"==typeof e.toJSON)return l(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${l(t)}: ${l(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function c(e,t){return e&&e.code===t}function h(e){return c(e,"CALL_EXCEPTION")}function u(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${l(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+l(t))}}r.push(`code=${t}`),r.push(`version=${s}`),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return o(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&o(r,{shortMessage:i}),r}function d(e,t,n,r){if(!e)throw u(t,n,r)}function p(e,t,n,r){d(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function f(e,t,n){null==n&&(n=""),n&&(n=": "+n),d(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),d(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const m=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function g(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),d(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function y(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}p(!1,"invalid BytesLike value",t||"value",e)}function b(e,t){return y(e,t,!1)}function v(e,t){return y(e,t,!0)}function w(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0))}const E="0123456789abcdef";function k(e){const t=b(e);let n="0x";for(let e=0;e<t.length;e++){const r=t[e];n+=E[(240&r)>>4]+E[15&r]}return n}function x(e){return"0x"+e.map((e=>k(e).substring(2))).join("")}function A(e){return w(e,!0)?(e.length-2)/2:b(e).length}function _(e,t,n){const r=b(e);return null!=n&&n>r.length&&d(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),k(r.slice(null==t?0:t,null==n?r.length:n))}function P(e,t,n){const r=b(e);d(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),n?s.set(r,t-r.length):s.set(r,0),k(s)}function S(e,t){return P(e,t,!0)}function C(e,t){return P(e,t,!1)}const T=BigInt(0),I=BigInt(1),O=9007199254740991;function M(e,t){const n=B(e,"value"),r=BigInt(j(t,"width"));if(d(n>>r===T,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-I){return-((~n&(I<<r)-I)+I)}return n}function D(e,t){let n=F(e,"value");const r=BigInt(j(t,"width")),s=I<<r-I;if(n<T){n=-n,d(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(I<<r)-I)+I}return d(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function N(e,t){const n=B(e,"value"),r=BigInt(j(t,"bits"));return n&(I<<r)-I}function F(e,t){switch(typeof e){case"bigint":return e;case"number":return p(Number.isInteger(e),"underflow",t||"value",e),p(e>=-O&&e<=O,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){p(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}p(!1,"invalid BigNumberish value",t||"value",e)}function B(e,t){const n=F(e,t);return d(n>=T,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const R="0123456789abcdef";function L(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=R[n>>4],t+=R[15&n];return BigInt(t)}return F(e)}function j(e,t){switch(typeof e){case"bigint":return p(e>=-O&&e<=O,"overflow",t||"value",e),Number(e);case"number":return p(Number.isInteger(e),"underflow",t||"value",e),p(e>=-O&&e<=O,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return j(BigInt(e),t)}catch(n){p(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}p(!1,"invalid numeric value",t||"value",e)}function U(e,t){let n=B(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=j(t,"width");for(d(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function G(e){const t=B(e,"value");if(t===T)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=2*e;r[e]=parseInt(n.substring(t,t+2),16)}return r}function V(e){let t=k(function(e){return w(e,!0)||e instanceof Uint8Array}(e)?e:G(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const z=32,H=new Uint8Array(z),$=["then"],W={};function q(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}class K extends Array{#e;constructor(...e){const t=e[0];let n=e[1],r=(e[2]||[]).slice(),s=!0;t!==W&&(n=e,r=[],s=!1),super(n.length),n.forEach(((e,t)=>{this[t]=e}));const i=r.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(this.#e=Object.freeze(n.map(((e,t)=>{const n=r[t];return null!=n&&1===i.get(n)?n:null}))),s)return Object.freeze(this),new Proxy(this,{get:(e,t,n)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const n=j(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&q(`index ${n}`,r),r}if($.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(...t){return r.apply(this===n?e:this,t)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}})}toArray(){const e=[];return this.forEach(((t,n)=>{t instanceof Error&&q(`index ${n}`,t),e.push(t)})),e}toObject(){return this.#e.reduce(((e,t,n)=>(d(null!=t,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=[],r=[];for(let s=e;s<t;s++)n.push(this[s]),r.push(this.#e[s]);return new K(W,n,r)}filter(e,t){const n=[],r=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&q(`index ${s}`,i),e.call(t,i,s,this)&&(n.push(i),r.push(this.#e[s]))}return new K(W,n,r)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const s=this[r];s instanceof Error&&q(`index ${r}`,s),n.push(e.call(t,s,r,this))}return n}getValue(e){const t=this.#e.indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&q(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new K(W,e,t)}}function J(e){let t=G(e);return d(t.length<=z,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:z,offset:t.length}),t.length!==z&&(t=v(x([H.slice(t.length%z),t]))),t}class Q{name;type;localName;dynamic;constructor(e,t,n,r){o(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){p(!1,e,this.localName,t)}}class Y{#t;#n;constructor(){this.#t=[],this.#n=0}get data(){return x(this.#t)}get length(){return this.#n}#r(e){return this.#t.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#r(v(e.data))}writeBytes(e){let t=v(e);const n=t.length%z;return n&&(t=v(x([t,H.slice(n)]))),this.#r(t)}writeValue(e){return this.#r(J(e))}writeUpdatableValue(){const e=this.#t.length;return this.#t.push(H),this.#n+=z,t=>{this.#t[e]=J(t)}}}class Z{allowLoose;#t;#s;#i;#a;#o;constructor(e,t,n){o(this,{allowLoose:!!t}),this.#t=v(e),this.#i=0,this.#a=null,this.#o=null!=n?n:1024,this.#s=0}get data(){return k(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#s}get bytes(){return new Uint8Array(this.#t)}#l(e){if(this.#a)return this.#a.#l(e);this.#i+=e,d(this.#o<1||this.#i<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:v(this.#t),offset:this.#s,length:e,info:{bytesRead:this.#i,dataLength:this.dataLength}})}#c(e,t,n){let r=Math.ceil(t/z)*z;return this.#s+r>this.#t.length&&(this.allowLoose&&n&&this.#s+t<=this.#t.length?r=t:d(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:v(this.#t),length:this.#t.length,offset:this.#s+r})),this.#t.slice(this.#s,this.#s+r)}subReader(e){const t=new Z(this.#t.slice(this.#s+e),this.allowLoose,this.#o);return t.#a=this,t}readBytes(e,t){let n=this.#c(0,e,!!t);return this.#l(e),this.#s+=n.length,n.slice(0,e)}readValue(){return L(this.readBytes(z))}readIndex(){return j(L(this.readBytes(z)))}}function X(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ee(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function te(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ne(e,t){ee(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const re=BigInt(2**32-1),se=BigInt(32);function ie(e,t=!1){return t?{h:Number(e&re),l:Number(e>>se&re)}:{h:0|Number(e>>se&re),l:0|Number(e&re)}}function ae(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=ie(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const oe=(e,t,n)=>e<<n|t>>>32-n,le=(e,t,n)=>t<<n|e>>>32-n,ce=(e,t,n)=>t<<n-32|e>>>64-n,he=(e,t,n)=>e<<n-32|t>>>64-n;const ue=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function de(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!ue(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class pe{clone(){return this._cloneInto()}}const[fe,me,ge]=[[],[],[]],ye=BigInt(0),be=BigInt(1),ve=BigInt(2),we=BigInt(7),Ee=BigInt(256),ke=BigInt(113);for(let e=0,t=be,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],fe.push(2*(5*r+n)),me.push((e+1)*(e+2)/2%64);let s=ye;for(let e=0;e<7;e++)t=(t<<be^(t>>we)*ke)%Ee,t&ve&&(s^=be<<(be<<BigInt(e))-be);ge.push(s)}const[xe,Ae]=ae(ge,!0),_e=(e,t,n)=>n>32?ce(e,t,n):oe(e,t,n),Pe=(e,t,n)=>n>32?he(e,t,n):le(e,t,n);class Se extends pe{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,X(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],a=n[s+1],o=_e(i,a,1)^n[r],l=Pe(i,a,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=l}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=me[n],i=_e(t,s,r),a=Pe(t,s,r),o=fe[n];t=e[o],s=e[o+1],e[o]=i,e[o+1]=a}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=xe[r],e[1]^=Ae[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){te(this);const{blockLen:t,state:n}=this,r=(e=de(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){te(this,!1),ee(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return X(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ne(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new Se(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Ce=(e,t,n)=>function(e){const t=t=>e().update(de(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new Se(t,e,n))),Te=Ce(1,136,32);let Ie=!1;const Oe=function(e){return Te(e)};let Me=Oe;function De(e){const t=b(e,"data");return k(Me(t))}De._=Oe,De.lock=function(){Ie=!0},De.register=function(e){if(Ie)throw new TypeError("keccak256 is locked");Me=e},Object.freeze(De);const Ne=BigInt(0),Fe=BigInt(36);function Be(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=b(De(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Re={};for(let e=0;e<10;e++)Re[String(e)]=String(e);for(let e=0;e<26;e++)Re[String.fromCharCode(65+e)]=String(10+e);const Le=15;function je(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Re[e])).join("");for(;t.length>=Le;){let e=t.substring(0,Le);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const Ue=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function Ge(e){if(p("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Be(e);return p(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){p(e.substring(2,4)===je(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Ne;for(let n=0;n<e.length;n++)t=t*Fe+Ue[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Be("0x"+t)}p(!1,"invalid address","address",e)}const Ve={};function ze(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new We(Ve,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function He(e,t){return new We(Ve,`bytes${t||""}`,e,{size:t})}const $e=Symbol.for("_ethers_typed");class We{type;value;#h;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),g(Ve,e,"Typed"),o(this,{_typedSymbol:$e,type:t,value:n}),this.#h=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#h}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#h?-1:!1===this.#h?this.value.length:null}static from(e,t){return new We(Ve,e,t)}static uint8(e){return ze(e,8)}static uint16(e){return ze(e,16)}static uint24(e){return ze(e,24)}static uint32(e){return ze(e,32)}static uint40(e){return ze(e,40)}static uint48(e){return ze(e,48)}static uint56(e){return ze(e,56)}static uint64(e){return ze(e,64)}static uint72(e){return ze(e,72)}static uint80(e){return ze(e,80)}static uint88(e){return ze(e,88)}static uint96(e){return ze(e,96)}static uint104(e){return ze(e,104)}static uint112(e){return ze(e,112)}static uint120(e){return ze(e,120)}static uint128(e){return ze(e,128)}static uint136(e){return ze(e,136)}static uint144(e){return ze(e,144)}static uint152(e){return ze(e,152)}static uint160(e){return ze(e,160)}static uint168(e){return ze(e,168)}static uint176(e){return ze(e,176)}static uint184(e){return ze(e,184)}static uint192(e){return ze(e,192)}static uint200(e){return ze(e,200)}static uint208(e){return ze(e,208)}static uint216(e){return ze(e,216)}static uint224(e){return ze(e,224)}static uint232(e){return ze(e,232)}static uint240(e){return ze(e,240)}static uint248(e){return ze(e,248)}static uint256(e){return ze(e,256)}static uint(e){return ze(e,256)}static int8(e){return ze(e,-8)}static int16(e){return ze(e,-16)}static int24(e){return ze(e,-24)}static int32(e){return ze(e,-32)}static int40(e){return ze(e,-40)}static int48(e){return ze(e,-48)}static int56(e){return ze(e,-56)}static int64(e){return ze(e,-64)}static int72(e){return ze(e,-72)}static int80(e){return ze(e,-80)}static int88(e){return ze(e,-88)}static int96(e){return ze(e,-96)}static int104(e){return ze(e,-104)}static int112(e){return ze(e,-112)}static int120(e){return ze(e,-120)}static int128(e){return ze(e,-128)}static int136(e){return ze(e,-136)}static int144(e){return ze(e,-144)}static int152(e){return ze(e,-152)}static int160(e){return ze(e,-160)}static int168(e){return ze(e,-168)}static int176(e){return ze(e,-176)}static int184(e){return ze(e,-184)}static int192(e){return ze(e,-192)}static int200(e){return ze(e,-200)}static int208(e){return ze(e,-208)}static int216(e){return ze(e,-216)}static int224(e){return ze(e,-224)}static int232(e){return ze(e,-232)}static int240(e){return ze(e,-240)}static int248(e){return ze(e,-248)}static int256(e){return ze(e,-256)}static int(e){return ze(e,-256)}static bytes1(e){return He(e,1)}static bytes2(e){return He(e,2)}static bytes3(e){return He(e,3)}static bytes4(e){return He(e,4)}static bytes5(e){return He(e,5)}static bytes6(e){return He(e,6)}static bytes7(e){return He(e,7)}static bytes8(e){return He(e,8)}static bytes9(e){return He(e,9)}static bytes10(e){return He(e,10)}static bytes11(e){return He(e,11)}static bytes12(e){return He(e,12)}static bytes13(e){return He(e,13)}static bytes14(e){return He(e,14)}static bytes15(e){return He(e,15)}static bytes16(e){return He(e,16)}static bytes17(e){return He(e,17)}static bytes18(e){return He(e,18)}static bytes19(e){return He(e,19)}static bytes20(e){return He(e,20)}static bytes21(e){return He(e,21)}static bytes22(e){return He(e,22)}static bytes23(e){return He(e,23)}static bytes24(e){return He(e,24)}static bytes25(e){return He(e,25)}static bytes26(e){return He(e,26)}static bytes27(e){return He(e,27)}static bytes28(e){return He(e,28)}static bytes29(e){return He(e,29)}static bytes30(e){return He(e,30)}static bytes31(e){return He(e,31)}static bytes32(e){return He(e,32)}static address(e){return new We(Ve,"address",e)}static bool(e){return new We(Ve,"bool",!!e)}static bytes(e){return new We(Ve,"bytes",e)}static string(e){return new We(Ve,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new We(Ve,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===$e}static dereference(e,t){if(We.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class qe extends Q{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=We.dereference(t,"string");try{n=Ge(n)}catch(e){return this._throwError(e.message,t)}return e.writeValue(n)}decode(e){return Ge(U(e.readValue(),20))}}class Ke extends Q{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Je(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return d(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),d(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else p(!1,"invalid tuple value","tuple",n);p(t.length===r.length,"types/value length mismatch","tuple",n);let s=new Y,i=new Y,a=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=i.length;e.encode(i,n);let r=s.writeUpdatableValue();a.push((e=>{r(e+t)}))}else e.encode(s,n)})),a.forEach((e=>{e(s.length)}));let o=e.appendWriter(s);return o+=e.appendWriter(i),o}function Qe(e,t){let n=[],r=[],s=e.subReader(0);return t.forEach((t=>{let i=null;if(t.dynamic){let n=e.readIndex(),r=s.subReader(n);try{i=t.decode(r)}catch(e){if(c(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(c(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}if(null==i)throw new Error("investigate");n.push(i),r.push(t.localName||null)})),K.fromItems(n,r)}class Ye extends Q{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),o(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=We.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),f(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let e=0;e<n.length;e++)s.push(this.coder);return Je(e,s,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),d(t*z<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*z,length:e.dataLength}));let n=[];for(let e=0;e<t;e++)n.push(new Ke(this.coder));return Qe(e,n)}}class Ze extends Q{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=We.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Xe extends Q{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=v(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class et extends Xe{constructor(e){super("bytes",e)}decode(e){return k(super.decode(e))}}class tt extends Q{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),o(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=v(We.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return k(e.readBytes(this.size))}}const nt=new Uint8Array([]);class rt extends Q{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(nt)}decode(e){return e.readBytes(0),null}}const st=BigInt(0),it=BigInt(1),at=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ot extends Q{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),o(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=F(We.dereference(t,this.type)),r=N(at,256);if(this.signed){let e=N(r,8*this.size-1);(n>e||n<-(e+it))&&this._throwError("value out-of-bounds",t),n=D(n,256)}else(n<st||n>N(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=N(e.readValue(),8*this.size);return this.signed&&(t=M(t,8*this.size)),t}}function lt(e,t,n,r,s){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const ct=Object.freeze({error:function(e,t,n,r,s){p(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:lt,replace:function(e,t,n,r,s){return"OVERLONG"===e?(p("number"==typeof s,"invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),lt(e,t,n))}});function ht(e,t){null==t&&(t=ct.error);const n=b(e,"bytes"),r=[];let s=0;for(;s<n.length;){const e=n[s++];if(e>>7==0){r.push(e);continue}let i=null,a=null;if(192==(224&e))i=1,a=127;else if(224==(240&e))i=2,a=2047;else{if(240!=(248&e)){s+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",s-1,n,r);continue}i=3,a=65535}if(s-1+i>=n.length){s+=t("OVERRUN",s-1,n,r);continue}let o=e&(1<<8-i-1)-1;for(let e=0;e<i;e++){let e=n[s];if(128!=(192&e)){s+=t("MISSING_CONTINUE",s,n,r),o=null;break}o=o<<6|63&e,s++}null!==o&&(o>1114111?s+=t("OUT_OF_RANGE",s-1-i,n,r,o):o>=55296&&o<=57343?s+=t("UTF16_SURROGATE",s-1-i,n,r,o):o<=a?s+=t("OVERLONG",s-1-i,n,r,o):r.push(o))}return r}function ut(e,t){p("string"==typeof e,"invalid string value","str",e),null!=t&&(!function(e){d(m.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const s=e.charCodeAt(t);p(t<e.length&&56320==(64512&s),"invalid surrogate pair","str",e);const i=65536+((1023&r)<<10)+(1023&s);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return new Uint8Array(n)}function dt(e,t){return ht(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class pt extends Xe{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ut(We.dereference(t,"string")))}decode(e){return dt(super.decode(e))}}class ft extends Q{coders;constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),o(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let s=n.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[r]))})),Object.freeze(e)}encode(e,t){const n=We.dereference(t,"tuple");return Je(e,this.coders,n)}decode(e){return Qe(e,this.coders)}}function mt(e){return De(ut(e))}function gt(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const yt=gt("external public payable override".split(" ")),bt="constant external internal payable private public pure view override",vt=gt(bt.split(" ")),wt="constructor error event fallback function receive struct",Et=gt(wt.split(" ")),kt="calldata memory storage payable indexed",xt=gt(kt.split(" ")),At=gt([wt,kt,"tuple returns",bt].join(" ").split(" ")),_t={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Pt=new RegExp("^(\\s*)"),St=new RegExp("^([0-9]+)"),Ct=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Tt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),It=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Ot{#s;#u;get offset(){return this.#s}get length(){return this.#u.length-this.#s}constructor(e){this.#s=0,this.#u=e.slice()}clone(){return new Ot(this.#u)}reset(){this.#s=0}#d(e=0,t=0){return new Ot(this.#u.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#d(this.#s+1,e.match+1);return this.#s=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#s<e.match-1;){const e=this.peek().linkNext;t.push(this.#d(this.#s+1,e)),this.#s=e}return this.#s=e.match+1,t}peek(){if(this.#s>=this.#u.length)throw new Error("out-of-bounds");return this.#u[this.#s]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#s++,e}toString(){const e=[];for(let t=this.#s;t<this.#u.length;t++){const n=this.#u[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function Mt(e){const t=[],n=t=>{const n=i<e.length?JSON.stringify(e[i]):"$EOI";throw new Error(`invalid token ${n} at ${i}: ${t}`)};let r=[],s=[],i=0;for(;i<e.length;){let a=e.substring(i),o=a.match(Pt);o&&(i+=o[1].length,a=e.substring(i));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(l);let c=_t[a[0]]||"";if(c){if(l.type=c,l.text=a[0],i++,"OPEN_PAREN"===c)r.push(t.length-1),s.push(t.length-1);else if("CLOSE_PAREN"==c)0===r.length&&n("no matching open bracket"),l.match=r.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=s.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=s.pop(),t[l.linkBack].linkNext=t.length-1,s.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=j(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(o=a.match(Ct),o){if(l.text=o[1],i+=l.text.length,At.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(It)){l.type="TYPE";continue}l.type="ID"}else{if(o=a.match(St),!o)throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`);l.text=o[1],l.type="NUMBER",i+=l.text.length}}return new Ot(t.map((e=>Object.freeze(e))))}function Dt(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Nt(e,t){if(t.peekKeyword(Et)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function Ft(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Bt(e){let t=Ft(e,vt);return Dt(t,gt("constant payable nonpayable".split(" "))),Dt(t,gt("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Rt(e,t){return e.popParams().map((e=>Yt.from(e,t)))}function Lt(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return F(e.pop().text);throw new Error("invalid gas")}return null}function jt(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const Ut=new RegExp(/^(.*)\[([0-9]*)\]$/);function Gt(e){const t=e.match(It);if(p(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);p(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);p(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",e)}return e}const Vt={},zt=Symbol.for("_ethers_internal"),Ht="_ParamTypeInternal",$t="_ErrorInternal",Wt="_EventInternal",qt="_ConstructorInternal",Kt="_FallbackInternal",Jt="_FunctionInternal",Qt="_StructInternal";class Yt{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,s,i,a,l){if(g(e,Vt,"ParamType"),Object.defineProperty(this,zt,{value:Ht}),i&&(i=Object.freeze(i.slice())),"array"===r){if(null==a||null==l)throw new Error("")}else if(null!=a||null!=l)throw new Error("");if("tuple"===r){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");o(this,{name:t,type:n,baseType:r,indexed:s,components:i,arrayLength:a,arrayChildren:l})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}#p(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,i=t.slice();return i.forEach(((t,r)=>{s.#p(e,t,n,(e=>{i[r]=e}))})),void r(i)}if(this.isTuple()){const s=this.components;let i;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");i=s.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((t,r)=>{s[r].#p(e,t,n,(e=>{i[r]=e}))})),void r(i)}const s=n(this.type,t);s.then?e.push(async function(){r(await s)}()):r(s)}async walkAsync(e,t){const n=[],r=[e];return this.#p(n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Yt.isParamType(e))return e;if("string"==typeof e)try{return Yt.from(Mt(e),t)}catch(t){p(!1,"invalid param type","obj",e)}else if(e instanceof Ot){let n="",r="",s=null;Ft(e,gt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",s=e.popParams().map((e=>Yt.from(e))),n=`tuple(${s.map((e=>e.format())).join(",")})`):(n=Gt(e.popType("TYPE")),r=n);let i=null,a=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();i=new Yt(Vt,"",n,r,null,s,a,i),a=t.value,n+=t.text,r="array",s=null}let o=null;if(Ft(e,xt).has("indexed")){if(!t)throw new Error("");o=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Yt(Vt,l,n,r,o,s,a,i)}const n=e.name;p(!n||"string"==typeof n&&n.match(Tt),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(p(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let s=e.type,i=s.match(Ut);if(i){const t=parseInt(i[2]||"-1"),a=Yt.from({type:i[1],components:e.components});return new Yt(Vt,n||"",s,"array",r,null,t,a)}if("tuple"===s||s.startsWith("tuple(")||s.startsWith("(")){const t=null!=e.components?e.components.map((e=>Yt.from(e))):null;return new Yt(Vt,n||"",s,"tuple",r,t,null,null)}return s=Gt(e.type),new Yt(Vt,n||"",s,s,r,null,null,null)}static isParamType(e){return e&&e[zt]===Ht}}class Zt{type;inputs;constructor(e,t,n){g(e,Vt,"Fragment"),o(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"==typeof e){try{Zt.from(JSON.parse(e))}catch(e){}return Zt.from(Mt(e))}if(e instanceof Ot){switch(e.peekKeyword(Et)){case"constructor":return rn.from(e);case"error":return tn.from(e);case"event":return nn.from(e);case"fallback":case"receive":return sn.from(e);case"function":return an.from(e);case"struct":return on.from(e)}}else if("object"==typeof e){switch(e.type){case"constructor":return rn.from(e);case"error":return tn.from(e);case"event":return nn.from(e);case"fallback":case"receive":return sn.from(e);case"function":return an.from(e);case"struct":return on.from(e)}d(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}p(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return rn.isFragment(e)}static isError(e){return tn.isFragment(e)}static isEvent(e){return nn.isFragment(e)}static isFunction(e){return an.isFragment(e)}static isStruct(e){return on.isFragment(e)}}class Xt extends Zt{name;constructor(e,t,n,r){super(e,t,r),p("string"==typeof n&&n.match(Tt),"invalid identifier","name",n),r=Object.freeze(r.slice()),o(this,{name:n})}}function en(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class tn extends Xt{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,zt,{value:$t})}get selector(){return mt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+en(e,this.inputs)),t.join(" ")}static from(e){if(tn.isFragment(e))return e;if("string"==typeof e)return tn.from(Mt(e));if(e instanceof Ot){const t=Nt("error",e),n=Rt(e);return jt(e),new tn(Vt,t,n)}return new tn(Vt,e.name,e.inputs?e.inputs.map(Yt.from):[])}static isFragment(e){return e&&e[zt]===$t}}class nn extends Xt{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,zt,{value:Wt}),o(this,{anonymous:r})}get topicHash(){return mt(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+en(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>Yt.from(e)));return new nn(Vt,e,t,!1).topicHash}static from(e){if(nn.isFragment(e))return e;if("string"==typeof e)try{return nn.from(Mt(e))}catch(t){p(!1,"invalid event fragment","obj",e)}else if(e instanceof Ot){const t=Nt("event",e),n=Rt(e,!0),r=!!Ft(e,gt(["anonymous"])).has("anonymous");return jt(e),new nn(Vt,t,n,r)}return new nn(Vt,e.name,e.inputs?e.inputs.map((e=>Yt.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[zt]===Wt}}class rn extends Zt{payable;gas;constructor(e,t,n,r,s){super(e,t,n),Object.defineProperty(this,zt,{value:qt}),o(this,{payable:r,gas:s})}format(e){if(d(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${en(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(rn.isFragment(e))return e;if("string"==typeof e)try{return rn.from(Mt(e))}catch(t){p(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Ot){Ft(e,gt(["constructor"]));const t=Rt(e),n=!!Ft(e,yt).has("payable"),r=Lt(e);return jt(e),new rn(Vt,"constructor",t,n,r)}return new rn(Vt,"constructor",e.inputs?e.inputs.map(Yt.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[zt]===qt}}class sn extends Zt{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,zt,{value:Kt}),o(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(sn.isFragment(e))return e;if("string"==typeof e)try{return sn.from(Mt(e))}catch(t){p(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Ot){const t=e.toString();p(e.peekKeyword(gt(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(gt(["fallback","receive"]))){const t=Rt(e);return p(0===t.length,"receive cannot have arguments","obj.inputs",t),Ft(e,gt(["payable"])),jt(e),new sn(Vt,[],!0)}let n=Rt(e);n.length?p(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[Yt.from("bytes")];const r=Bt(e);if(p("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Ft(e,gt(["returns"])).has("returns")){const t=Rt(e);p(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return jt(e),new sn(Vt,n,"payable"===r)}if("receive"===e.type)return new sn(Vt,[],!0);if("fallback"===e.type){const t=[Yt.from("bytes")],n="payable"===e.stateMutability;return new sn(Vt,t,n)}p(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[zt]===Kt}}class an extends Xt{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,s,i){super(e,"function",t,r),Object.defineProperty(this,zt,{value:Jt});o(this,{constant:"view"===n||"pure"===n,gas:i,outputs:s=Object.freeze(s.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return mt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+en(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(en(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>Yt.from(e)));return new an(Vt,e,"view",t,[],null).selector}static from(e){if(an.isFragment(e))return e;if("string"==typeof e)try{return an.from(Mt(e))}catch(t){p(!1,"invalid function fragment","obj",e)}else if(e instanceof Ot){const t=Nt("function",e),n=Rt(e),r=Bt(e);let s=[];Ft(e,gt(["returns"])).has("returns")&&(s=Rt(e));const i=Lt(e);return jt(e),new an(Vt,t,r,n,s,i)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new an(Vt,e.name,t,e.inputs?e.inputs.map(Yt.from):[],e.outputs?e.outputs.map(Yt.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[zt]===Jt}}class on extends Xt{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,zt,{value:Qt})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return on.from(Mt(e))}catch(t){p(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ot){const t=Nt("struct",e),n=Rt(e);return jt(e),new on(Vt,t,n)}return new on(Vt,e.name,e.inputs?e.inputs.map(Yt.from):[])}static isFragment(e){return e&&e[zt]===Qt}}const ln=new Map;ln.set(0,"GENERIC_PANIC"),ln.set(1,"ASSERT_FALSE"),ln.set(17,"OVERFLOW"),ln.set(18,"DIVIDE_BY_ZERO"),ln.set(33,"ENUM_RANGE_ERROR"),ln.set(34,"BAD_STORAGE_DATA"),ln.set(49,"STACK_UNDERFLOW"),ln.set(50,"ARRAY_RANGE_ERROR"),ln.set(65,"OUT_OF_MEMORY"),ln.set(81,"UNINITIALIZED_FUNCTION_CALL");const cn=new RegExp(/^bytes([0-9]*)$/),hn=new RegExp(/^(u?int)([0-9]*)$/);let un=null,dn=1024;class pn{#f(e){if(e.isArray())return new Ye(this.#f(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ft(e.components.map((e=>this.#f(e))),e.name);switch(e.baseType){case"address":return new qe(e.name);case"bool":return new Ze(e.name);case"string":return new pt(e.name);case"bytes":return new et(e.name);case"":return new rt(e.name)}let t=e.type.match(hn);if(t){let n=parseInt(t[2]||"256");return p(0!==n&&n<=256&&n%8==0,"invalid "+t[1]+" bit length","param",e),new ot(n/8,"int"===t[1],e.name)}if(t=e.type.match(cn),t){let n=parseInt(t[1]);return p(0!==n&&n<=32,"invalid bytes length","param",e),new tt(n,e.name)}p(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#f(Yt.from(e))));return new ft(t,"_").defaultValue()}encode(e,t){f(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#f(Yt.from(e)))),r=new ft(n,"_"),s=new Y;return r.encode(s,t),s.data}decode(e,t,n){const r=e.map((e=>this.#f(Yt.from(e))));return new ft(r,"_").decode(new Z(t,n,dn))}static _setDefaultMaxInflation(e){p("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),dn=e}static defaultAbiCoder(){return null==un&&(un=new pn),un}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let s="missing revert data",i=null,a=null;if(n){s="execution reverted";const e=b(n);if(n=k(n),0===e.length)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(e.length%32!=4)s+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===k(e.slice(0,4)))try{i=r.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch(e){s+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===k(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},i=`Panic due to ${ln.get(t)||"UNKNOWN"}(${t})`,s+=`: ${i}`}catch(e){s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const o={to:t.to?Ge(t.to):null,data:t.data||"0x"};return t.from&&(o.from=Ge(t.from)),u(s,"CALL_EXCEPTION",{action:e,data:n,reason:i,transaction:o,invocation:null,revert:a})}(e,t,n,pn.defaultAbiCoder())}}function fn(e){return e&&"function"==typeof e.getAddress}async function mn(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(d("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),p(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Ge(n)}function gn(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Ge(e):(d(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),mn(e,t.resolveName(e))):fn(e)?mn(e,e.getAddress()):e&&"function"==typeof e.then?mn(e,e):void p(!1,"unsupported addressable value","target",e)}const yn=new Uint8Array(32);yn.fill(0);const bn=BigInt(-1),vn=BigInt(0),wn=BigInt(1),En=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const kn=U(wn,32),xn=U(vn,32),An={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_n=["name","version","chainId","verifyingContract","salt"];function Pn(e){return function(t){return p("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Sn={name:Pn("name"),version:Pn("version"),chainId:function(e){const t=F(e,"domain.chainId");return p(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):V(t)},verifyingContract:function(e){try{return Ge(e).toLowerCase()}catch(e){}p(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=b(e,"domain.salt");return p(32===t.length,'invalid domain value "salt"',"domain.salt",e),k(t)}};function Cn(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);p(r%8==0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const s=N(En,n?r-1:r),i=n?(s+wn)*bn:vn;return function(t){const r=F(t,"value");return p(r>=i&&r<=s,`value out-of-bounds for ${e}`,"value",r),U(n?D(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return p(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return p(b(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=b(e),n=t.length%32;return n?x([t,yn.slice(n)]):k(t)}(t)}}}switch(e){case"address":return function(e){return S(Ge(e),32)};case"bool":return function(e){return e?kn:xn};case"bytes":return function(e){return De(e)};case"string":return function(e){return mt(e)}}return null}function Tn(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}function In(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class On{primaryType;#m;get types(){return JSON.parse(this.#m)}#g;#y;constructor(e){this.#g=new Map,this.#y=new Map;const t=new Map,n=new Map,r=new Map,s={};Object.keys(e).forEach((i=>{s[i]=e[i].map((({name:t,type:n})=>{let{base:r,index:s}=In(n);return"int"!==r||e.int||(r="int256"),"uint"!==r||e.uint||(r="uint256"),{name:t,type:r+(s||"")}})),t.set(i,new Set),n.set(i,[]),r.set(i,new Set)})),this.#m=JSON.stringify(s);for(const r in s){const i=new Set;for(const a of s[r]){p(!i.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(r)}`,"types",e),i.add(a.name);const s=In(a.type).base;p(s!==r,`circular type reference to ${JSON.stringify(s)}`,"types",e);Cn(s)||(p(n.has(s),`unknown type ${JSON.stringify(s)}`,"types",e),n.get(s).push(r),t.get(r).add(s))}}const i=Array.from(n.keys()).filter((e=>0===n.get(e).length));p(0!==i.length,"missing primary type","types",e),p(1===i.length,`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),o(this,{primaryType:i[0]}),function s(i,a){p(!a.has(i),`circular type reference to ${JSON.stringify(i)}`,"types",e),a.add(i);for(const e of t.get(i))if(n.has(e)){s(e,a);for(const t of a)r.get(t).add(e)}a.delete(i)}(this.primaryType,new Set);for(const[e,t]of r){const n=Array.from(t);n.sort(),this.#g.set(e,Tn(e,s[e])+n.map((e=>Tn(e,s[e]))).join(""))}}getEncoder(e){let t=this.#y.get(e);return t||(t=this.#b(e),this.#y.set(e,t)),t}#b(e){{const t=Cn(e);if(t)return t}const t=In(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{p(-1===t.count||t.count===r.length,`array length mismatch; expected length ${t.count}`,"value",r);let s=r.map(n);return this.#g.has(e)&&(s=s.map(De)),De(x(s))}}const n=this.types[e];if(n){const t=mt(this.#g.get(e));return e=>{const r=n.map((({name:t,type:n})=>{const r=this.getEncoder(n)(e[t]);return this.#g.has(n)?De(r):r}));return r.unshift(t),x(r)}}p(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#g.get(e);return p(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return De(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Cn(e))return n(e,t);const r=In(e).array;if(r)return p(-1===r.count||r.count===t.length,`array length mismatch; expected length ${r.count}`,"value",t),t.map((e=>this._visit(r.prefix,e,n)));const s=this.types[e];if(s)return s.reduce(((e,{name:r,type:s})=>(e[r]=this._visit(s,t[r],n),e)),{});p(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new On(e)}static getPrimaryType(e){return On.from(e).primaryType}static hashStruct(e,t,n){return On.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=An[n];p(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>_n.indexOf(e.name)-_n.indexOf(t.name))),On.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return x(["0x1901",On.hashDomain(e),On.from(t).hash(n)])}static hash(e,t,n){return De(On.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const s={};e.verifyingContract&&!w(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const i=On.from(t);i.visit(n,((e,t)=>("address"!==e||w(t,20)||(s[t]="0x"),t)));for(const e in s)s[e]=await r(e);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),{domain:e,value:n=i.visit(n,((e,t)=>"address"===e&&s[t]?s[t]:t))}}static getPayload(e,t,n){On.hashDomain(e);const r={},s=[];_n.forEach((t=>{const n=e[t];null!=n&&(r[t]=Sn[t](n),s.push({name:t,type:An[t]}))}));const i=On.from(t);t=i.types;const a=Object.assign({},t);return p(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,i.encode(n),{types:a,domain:r,primaryType:i.primaryType,message:i.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return k(b(t));if(e.match(/^u?int/))return F(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return p("string"==typeof t,"invalid string","value",t),t}p(!1,"unsupported type","type",e)}))}}}function Mn(e,t){return{address:Ge(e),storageKeys:t.map(((e,t)=>(p(w(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function Dn(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(p(2===t.length,"invalid slot set",`value[${n}]`,t),Mn(t[0],t[1])):(p(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),Mn(t.address,t.storageKeys))));p(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Mn(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function Nn(e){return async function(e,t){const n=e.url.split(":")[0].toLowerCase();let r;if(d("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),d("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),t){const e=new AbortController;r=e.signal,t.addListener((()=>{e.abort()}))}const s={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:r},i=await fetch(e.url,s),a={};i.headers.forEach(((e,t)=>{a[t.toLowerCase()]=e}));const o=await i.arrayBuffer(),l=null==o?null:new Uint8Array(o);return{statusCode:i.status,statusMessage:i.statusText,headers:a,body:l}}}Nn();let Fn=Nn();const Bn=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Rn=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ln=!1;async function jn(e,t){try{const t=e.match(Bn);if(!t)throw new Error("invalid data");return new Wn(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return b(t)}(t[3]):ut(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new Wn(599,"BAD REQUEST (invalid data: URI)",{},null,new $n(e))}}function Un(e){return async function(t,n){try{const n=t.match(Rn);if(!n)throw new Error("invalid link");return new $n(`${e}${n[2]}`)}catch(e){return new Wn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new $n(t))}}}const Gn={data:jn,ipfs:Un("https://gateway.ipfs.io/ipfs/")},Vn=new WeakMap;class zn{#v;#w;constructor(e){this.#v=[],this.#w=!1,Vn.set(e,(()=>{if(!this.#w){this.#w=!0;for(const e of this.#v)setTimeout((()=>{e()}),0);this.#v=[]}}))}addListener(e){d(!this.#w,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#v.push(e)}get cancelled(){return this.#w}checkSignal(){d(!this.cancelled,"cancelled","CANCELLED",{})}}function Hn(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class $n{#E;#k;#x;#A;#_;#P;#S;#C;#T;#I;#O;#M;#D;#N;#F;get url(){return this.#P}set url(e){this.#P=String(e)}get body(){return null==this.#S?null:new Uint8Array(this.#S)}set body(e){if(null==e)this.#S=void 0,this.#C=void 0;else if("string"==typeof e)this.#S=ut(e),this.#C="text/plain";else if(e instanceof Uint8Array)this.#S=e,this.#C="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#S=ut(JSON.stringify(e)),this.#C="application/json"}}hasBody(){return null!=this.#S}get method(){return this.#A?this.#A:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#A=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#x);return this.#T&&(e.authorization=`Basic ${function(e){const t=b(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(ut(this.#T))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#C&&(e["content-type"]=this.#C),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#x[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#x={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#T||null}setCredentials(e,t){p(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#T=`${e}:${t}`}get allowGzip(){return this.#k}set allowGzip(e){this.#k=!!e}get allowInsecureAuthentication(){return!!this.#E}set allowInsecureAuthentication(e){this.#E=!!e}get timeout(){return this.#_}set timeout(e){p(e>=0,"timeout must be non-zero","timeout",e),this.#_=e}get preflightFunc(){return this.#I||null}set preflightFunc(e){this.#I=e}get processFunc(){return this.#O||null}set processFunc(e){this.#O=e}get retryFunc(){return this.#M||null}set retryFunc(e){this.#M=e}get getUrlFunc(){return this.#F||Fn}set getUrlFunc(e){this.#F=e}constructor(e){this.#P=String(e),this.#E=!1,this.#k=!0,this.#x={},this.#A="",this.#_=3e5,this.#N={slotInterval:250,maxAttempts:12},this.#F=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#S?k(this.#S):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#N.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#N.maxAttempts=e.maxAttempts)}async#B(e,t,n,r,s){if(e>=this.#N.maxAttempts)return s.makeServerError("exceeded maximum retry limit");d(qn()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in Gn){const e=await Gn[a](i.url,Hn(r.#D));if(e instanceof Wn){let t=e;if(this.processFunc){Hn(r.#D);try{t=await this.processFunc(i,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}i=e}this.preflightFunc&&(i=await this.preflightFunc(i));const o=await this.getUrlFunc(i,Hn(r.#D));let l=new Wn(o.statusCode,o.statusMessage,o.headers,o.body,r);if(301===l.statusCode||302===l.statusCode){try{const n=l.headers.location||"";return i.redirect(n).#B(e+1,t,0,r,l)}catch(e){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(i,l,e))){const n=l.headers["retry-after"];let s=this.#N.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof n&&n.match(/^[1-9][0-9]*$/)&&(s=parseInt(n)),i.clone().#B(e+1,t,s,r,l)}if(this.processFunc){Hn(r.#D);try{l=await this.processFunc(i,l)}catch(n){null!=n.throttle&&"number"==typeof n.stall||l.makeServerError("error in post-processing function",n).assertOk();let s=this.#N.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return n.stall>=0&&(s=n.stall),i.clone().#B(e+1,t,s,r,l)}}return l}send(){return d(null==this.#D,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#D=new zn(this),this.#B(0,qn()+this.timeout,0,this,new Wn(0,"",{},null,this))}cancel(){d(null!=this.#D,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Vn.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();d("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new $n(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#x=Object.assign({},this.#x),this.#S&&(r.#S=new Uint8Array(this.#S)),r.#C=this.#C,r}clone(){const e=new $n(this.url);return e.#A=this.#A,this.#S&&(e.#S=this.#S),e.#C=this.#C,e.#x=Object.assign({},this.#x),e.#T=this.#T,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#I=this.#I,e.#O=this.#O,e.#M=this.#M,e.#F=this.#F,e}static lockConfig(){Ln=!0}static getGateway(e){return Gn[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Ln)throw new Error("gateways locked");Gn[e]=t}static registerGetUrl(e){if(Ln)throw new Error("gateways locked");Fn=e}static createGetUrlFunc(e){return Nn()}static createDataGateway(){return jn}static createIpfsGatewayFunc(e){return Un(e)}}class Wn{#R;#L;#x;#S;#j;#U;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#S?k(this.#S):"null"}>`}get statusCode(){return this.#R}get statusMessage(){return this.#L}get headers(){return Object.assign({},this.#x)}get body(){return null==this.#S?null:new Uint8Array(this.#S)}get bodyText(){try{return null==this.#S?"":dt(this.#S)}catch(e){d(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){d(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,s){this.#R=e,this.#L=t,this.#x=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#S=null==r?null:new Uint8Array(r),this.#j=s||null,this.#U={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new Wn(599,n,this.headers,this.body,this.#j||void 0);return r.#U={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:p(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw o(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#S}get request(){return this.#j}ok(){return""===this.#U.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#U;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let r=null;try{this.#S&&(r=dt(this.#S))}catch(e){}d(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function qn(){return(new Date).getTime()}const Kn="0x0000000000000000000000000000000000000000";class Jn{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,s=e.format();o(this,{fragment:e,name:r,signature:s,topic:t,args:n})}}class Qn{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const s=e.name,i=e.format();o(this,{fragment:e,name:s,args:n,signature:i,selector:t,value:r})}}class Yn{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,s=e.format();o(this,{fragment:e,name:r,args:n,signature:s,selector:t})}}class Zn{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){o(this,{hash:e,_isIndexed:!0})}}const Xn={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},er={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Xn[e.toString()]&&(t=Xn[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class tr{fragments;deploy;fallback;receive;#G;#V;#z;#H;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#z=new Map,this.#G=new Map,this.#V=new Map;const n=[];for(const e of t)try{n.push(Zt.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}o(this,{fragments:Object.freeze(n)});let r=null,s=!1;this.#H=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void o(this,{deploy:e});case"fallback":return void(0===e.inputs.length?s=!0:(p(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,s=r.payable));case"function":n=this.#z;break;case"event":n=this.#V;break;case"error":n=this.#G;break;default:return}const i=e.format();n.has(i)||n.set(i,e)})),this.deploy||o(this,{deploy:rn.from("constructor()")}),o(this,{fallback:r,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return pn.defaultAbiCoder()}#$(e,t,n){if(w(e)){const t=e.toLowerCase();for(const e of this.#z.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#z)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,s=!0;We.isTyped(e)&&"overrides"===e.type&&(s=!1,n--);for(let e=r.length-1;e>=0;e--){const t=r[e].inputs.length;t===n||s&&t===n-1||r.splice(e,1)}for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(We.isTyped(t[s])){if(s>=n.length){if("overrides"===t[s].type)continue;r.splice(e,1);break}if(t[s].type!==n[s].baseType){r.splice(e,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){p(!1,`ambiguous function description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return r[0]}const r=this.#z.get(an.from(e).format());return r||null}getFunctionName(e){const t=this.#$(e,null,!1);return p(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#$(e,null,!1)}getFunction(e,t){return this.#$(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#z.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#z.get(r),n)}}#W(e,t,n){if(w(e)){const t=e.toLowerCase();for(const e of this.#V.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#V)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(We.isTyped(t[s])&&t[s].type!==n[s].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){p(!1,`ambiguous event description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return r[0]}const r=this.#V.get(nn.from(e).format());return r||null}getEventName(e){const t=this.#W(e,null,!1);return p(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#W(e,null,!1)}getEvent(e,t){return this.#W(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#V.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#V.get(r),n)}}getError(e,t){if(w(e)){const t=e.toLowerCase();if(er[t])return tn.from(er[t].signature);for(const e of this.#G.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#G)n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?tn.from("error Error(string)"):"Panic"===e?tn.from("error Panic(uint256)"):null;if(t.length>1){p(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e)}return t[0]}if("Error(string)"===(e=tn.from(e).format()))return tn.from("error Error(string)");if("Panic(uint256)"===e)return tn.from("error Panic(uint256)");const n=this.#G.get(e);return n||null}forEachError(e){const t=Array.from(this.#G.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#G.get(r),n)}}_decodeParams(e,t){return this.#H.decode(e,t)}_encodeParams(e,t){return this.#H.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);p(t,"unknown error","fragment",e),e=t}return p(_(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,_(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);p(t,"unknown error","fragment",e),e=t}return x([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);p(t,"unknown function","fragment",e),e=t}return p(_(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,_(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);p(t,"unknown function","fragment",e),e=t}return x([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);p(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=v(t);if(r.length%32==0)try{return this.#H.decode(e.outputs,r)}catch(e){n="could not decode result data"}d(!1,n,"BAD_DATA",{value:k(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=b(e,"data"),r=pn.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=k(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#H.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(e){r.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(r.invocation={method:s.name,signature:s.signature,args:s.args}),r}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);p(t,"unknown function","fragment",e),e=t}return k(this.#H.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);p(t,"unknown event","eventFragment",e),e=t}d(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?mt(t):"bytes"===e.type?De(k(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=U(t):e.type.match(/^bytes/)?t=C(t,32):"address"===e.type&&this.#H.encode(["address"],[t]),S(k(t),32));for(t.forEach(((t,s)=>{const i=e.inputs[s];i.indexed?null==t?n.push(null):"array"===i.baseType||"tuple"===i.baseType?p(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?n.push(t.map((e=>r(i,e)))):n.push(r(i,t)):p(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);p(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],s=[];return e.anonymous||n.push(e.topicHash),p(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const a=t[i];if(e.indexed)if("string"===e.type)n.push(mt(a));else if("bytes"===e.type)n.push(De(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#H.encode([e.type],[a]))}else r.push(e),s.push(a)})),{data:this.#H.encode(r,s),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e){const t=this.getEvent(e);p(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;p(w(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],s=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Yt.from({type:"bytes32",name:e.name})),i.push(!0)):(r.push(e),i.push(!1)):(s.push(e),i.push(!1))}));const a=null!=n?this.#H.decode(r,x(n)):null,o=this.#H.decode(s,t,!0),l=[],c=[];let h=0,u=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==a)n=new Zn(null);else if(i[t])n=new Zn(a[u++]);else try{n=a[u++]}catch(e){n=e}else try{n=o[h++]}catch(e){n=e}l.push(n),c.push(e.name||null)})),K.fromItems(l,c)}parseTransaction(e){const t=b(e.data,"tx.data"),n=F(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(k(t.slice(0,4)));if(!r)return null;const s=this.#H.decode(r.inputs,t.slice(4));return new Qn(r,r.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Jn(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=k(e),n=this.getError(_(t,0,4));if(!n)return null;const r=this.#H.decode(n.inputs,_(t,4));return new Yn(n,n.selector,r)}static from(e){return e instanceof tr?e:"string"==typeof e?new tr(JSON.parse(e)):"function"==typeof e.format?new tr(e.format("json")):new tr(e)}}const nr=BigInt(0);function rr(e){return null==e?null:e}function sr(e){return null==e?null:e.toString()}class ir{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){o(this,{gasPrice:rr(e),maxFeePerGas:rr(t),maxPriorityFeePerGas:rr(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:sr(e),maxFeePerGas:sr(t),maxPriorityFeePerGas:sr(n)}}}function ar(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=k(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of n)r in e&&null!=e[r]&&(t[r]=F(e[r],`request.${r}`));const r="type,nonce".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=j(e[n],`request.${n}`));return e.accessList&&(t.accessList=Dn(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}class or{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;extraData;baseFeePerGas;#q;constructor(e,t){this.#q=e.transactions.map((e=>"string"!=typeof e?new hr(e,t):e)),o(this,{provider:t,hash:rr(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,extraData:e.extraData,baseFeePerGas:rr(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#q.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#q.slice();return 0===e.length?[]:(d("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:s,hash:i,miner:a,nonce:o,number:l,parentHash:c,parentBeaconBlockRoot:h,stateRoot:u,receiptsRoot:d,timestamp:p,transactions:f}=this;return{_type:"Block",baseFeePerGas:sr(e),difficulty:sr(t),extraData:n,gasLimit:sr(r),gasUsed:sr(s),blobGasUsed:sr(this.blobGasUsed),excessBlobGas:sr(this.excessBlobGas),hash:i,miner:a,nonce:o,number:l,parentHash:c,timestamp:p,parentBeaconBlockRoot:h,stateRoot:u,receiptsRoot:d,transactions:f}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#q.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#q[e];else{const n=e.toLowerCase();for(const e of this.#q){if("string"==typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;p(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class lr{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());o(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return d(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return d(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return d(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class cr{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#K;constructor(e,t){this.#K=Object.freeze(e.logs.map((e=>new lr(e,t))));let n=nr;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),o(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#K}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:s,blockHash:i,blockNumber:a,logsBloom:o,logs:l,status:c,root:h}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:n,cumulativeGasUsed:sr(this.cumulativeGasUsed),from:t,gasPrice:sr(this.gasPrice),blobGasUsed:sr(this.blobGasUsed),blobGasPrice:sr(this.blobGasPrice),gasUsed:sr(this.gasUsed),hash:r,index:s,logs:l,logsBloom:o,root:h,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return dr(this)}reorderedEvent(e){return d(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ur(this,e)}}class hr{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#J;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#J=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:s,to:i,from:a,nonce:o,data:l,signature:c,accessList:h,blobVersionedHashes:u}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:t,blobVersionedHashes:u,chainId:sr(this.chainId),data:l,from:a,gasLimit:sr(this.gasLimit),gasPrice:sr(this.gasPrice),hash:r,maxFeePerGas:sr(this.maxFeePerGas),maxPriorityFeePerGas:sr(this.maxPriorityFeePerGas),maxFeePerBlobGas:sr(this.maxFeePerBlobGas),nonce:o,signature:c,to:i,index:n,type:s,value:sr(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await a({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let s=this.#J,i=-1,o=-1===s;const l=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await a({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(s=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===i&&(i=s-3,i<this.#J&&(i=this.#J));i<=e;){if(o)return null;const t=await this.provider.getBlock(i,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const i=await t.getTransaction(r);if(i.from===this.from&&i.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(i.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?r="repriced":"0x"===i.data&&i.from===i.to&&i.value===nr&&(r="cancelled"),d(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:i.replaceableTransaction(s),hash:i.hash,receipt:t})}}i++}},h=e=>{if(null==e||0!==e.status)return e;d(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},p=await this.provider.getTransactionReceipt(this.hash);if(0===n)return h(p);if(p){if(await p.confirmations()>=n)return h(p)}else if(await l(),0===n)return null;const f=new Promise(((e,t)=>{const i=[],a=()=>{i.forEach((e=>e()))};if(i.push((()=>{o=!0})),r>0){const e=setTimeout((()=>{a(),t(u("wait for transaction timeout","TIMEOUT"))}),r);i.push((()=>{clearTimeout(e)}))}const d=async r=>{if(await r.confirmations()>=n){a();try{e(h(r))}catch(e){t(e)}}};if(i.push((()=>{this.provider.off(this.hash,d)})),this.provider.on(this.hash,d),s>=0){const e=async()=>{try{await l()}catch(e){if(c(e,"TRANSACTION_REPLACED"))return a(),void t(e)}o||this.provider.once("block",e)};i.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await f}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return d(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),dr(this)}reorderedEvent(e){return d(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),d(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ur(this,e)}replaceableTransaction(e){p(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new hr(this,this.provider);return t.#J=e,t}}function ur(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function dr(e){return{orphan:"drop-transaction",tx:e}}class pr{filter;emitter;#Q;constructor(e,t,n){this.#Q=t,o(this,{emitter:e,filter:n})}async removeListener(){null!=this.#Q&&await this.emitter.off(this.filter,this.#Q)}}class fr extends lr{interface;fragment;args;constructor(e,t,n){super(e,e.provider);o(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class mr extends lr{error;constructor(e,t){super(e,e.provider),o(this,{error:t})}}class gr extends cr{#Y;constructor(e,t,n){super(n,t),this.#Y=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#Y.getEvent(e.topics[0]):null;if(t)try{return new fr(e,this.#Y,t)}catch(t){return new mr(e,t)}return e}))}}class yr extends hr{#Y;constructor(e,t,n){super(n,t),this.#Y=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new gr(this.#Y,this.provider,n)}}class br extends pr{log;constructor(e,t,n,r){super(e,t,n),o(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class vr extends br{constructor(e,t,n,r,s){super(e,t,n,new fr(s,e.interface,r));o(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const wr=BigInt(0);function Er(e){return e&&"function"==typeof e.call}function kr(e){return e&&"function"==typeof e.estimateGas}function xr(e){return e&&"function"==typeof e.resolveName}function Ar(e){return e&&"function"==typeof e.sendTransaction}function _r(e){if(null!=e){if(xr(e))return e;if(e.provider)return e.provider}}class Pr{#Z;fragment;constructor(e,t,n){if(o(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=Sr(e.runner,"resolveName"),s=xr(r)?r:null;this.#Z=async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>gn(e,s)))):gn(t,s):t)))));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#Z}}function Sr(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function Cr(e){return null==e?null:e.provider||null}async function Tr(e,t){const n=We.dereference(e,"overrides");p("object"==typeof n,"invalid overrides parameter","overrides",e);const r=ar(n);return p(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),p(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function Ir(e){const t=async function(t){const n=await Tr(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await gn(n.from,_r(e.runner)));const r=e.interface,s=F(n.value||wr,"overrides.value")===wr,i="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||i||s||p(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),p(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data);return p(r.receive||r.fallback&&r.fallback.payable||s,"cannot send value to non-payable fallback","overrides.value",n.value),p(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;d(Ar(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await t(n)),i=Cr(e.runner);return new yr(e.interface,i,s)},r=async e=>await n(e);return o(r,{_contract:e,estimateGas:async function(n){const r=Sr(e.runner,"estimateGas");return d(kr(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=Sr(e.runner,"call");d(Er(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await t(n);try{return await r.call(s)}catch(t){if(h(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}}}),r}function Or(e,t){const n=function(...n){const r=e.interface.getFunction(t,n);return d(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=async function(...t){const r=n(...t);let s={};if(r.inputs.length+1===t.length&&(s=await Tr(t.pop()),s.from&&(s.from=await gn(s.from,_r(e.runner)))),r.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await async function(e,t,n){const r=Sr(e,"resolveName"),s=xr(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=We.dereference(t,e),"address"===e?gn(t,s):t))))))}(e.runner,r.inputs,t);return Object.assign({},s,await a({to:e.getAddress(),data:e.interface.encodeFunctionData(r,i)}))},s=async function(...e){const t=await l(...e);return 1===t.length?t[0]:t},i=async function(...t){const n=e.runner;d(Ar(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await r(...t)),i=Cr(e.runner);return new yr(e.interface,i,s)},l=async function(...t){const s=Sr(e.runner,"call");d(Er(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...t);let a="0x";try{a=await s.call(i)}catch(t){if(h(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}const o=n(...t);return e.interface.decodeFunctionResult(o,a)},c=async(...e)=>n(...e).constant?await s(...e):await i(...e);return o(c,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(...t){const n=Sr(e.runner,"estimateGas");return d(kr(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await r(...t))},populateTransaction:r,send:i,staticCall:s,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return d(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),c}const Mr=Symbol.for("_ethersInternal_contract"),Dr=new WeakMap;function Nr(e){return Dr.get(e[Mr])}async function Fr(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(w(t,32))return t;const n=e.interface.getEvent(t);return p(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"==typeof t?w(t,32)?n=[t]:(r=e.interface.getEvent(t),p(r,"unknown fragment","event",t),n=[r.topicHash]):(s=t)&&"object"==typeof s&&"getTopicFilter"in s&&"function"==typeof s.getTopicFilter&&s.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):p(!1,"unknown event name","event",t);var s;n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:r,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function Br(e,t){const{subs:n}=Nr(e);return n.get((await Fr(e,t)).tag)||null}async function Rr(e,t,n){const r=Cr(e.runner);d(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:a}=await Fr(e,n),{addr:o,subs:l}=Nr(e);let c=l.get(i);if(!c){const t={address:o||e,topics:a},h=t=>{let r=s;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(e){}if(r){const i=r,a=s?e.interface.decodeEventLog(s,t.data,t.topics):[];jr(e,n,a,(r=>new vr(e,r,n,i,t)))}else jr(e,n,[],(r=>new br(e,r,n,t)))};let u=[];c={tag:i,listeners:[],start:()=>{u.length||u.push(r.on(t,h))},stop:async()=>{if(0==u.length)return;let e=u;u=[],await Promise.all(e),r.off(t,h)}},l.set(i,c)}return c}let Lr=Promise.resolve();async function jr(e,t,n,r){try{await Lr}catch(e){}const s=async function(e,t,n,r){await Lr;const s=await Br(e,t);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter((({listener:t,once:s})=>{const i=Array.from(n);r&&i.push(r(s?null:t));try{t.call(e,...i)}catch(e){}return!s})),0===s.listeners.length&&(s.stop(),Nr(e).subs.delete(s.tag)),i>0}(e,t,n,r);return Lr=s,await s}const Ur=["then"];class Gr{target;interface;runner;filters;[Mr];fallback;constructor(e,t,n,r){p("string"==typeof e||fn(e),"invalid value for Contract target","target",e),null==n&&(n=null);const s=tr.from(t);let i;o(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,Mr,{value:{}});let a=null,l=null;if(r){const e=Cr(n);l=new yr(this.interface,e,r)}let h=new Map;if("string"==typeof e)if(w(e))a=e,i=Promise.resolve(e);else{const t=Sr(n,"resolveName");if(!xr(t))throw u("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then((t=>{if(null==t)throw u("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Nr(this).addr=t,t}))}else i=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return Nr(this).addr=e,e}));!function(e,t){Dr.set(e[Mr],t)}(this,{addrPromise:i,addr:a,deployTx:l,subs:h});const d=new Proxy({},{get:(e,t,n)=>{if("symbol"==typeof t||Ur.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(e){if(!c(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>Ur.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return o(this,{filters:d}),o(this,{fallback:s.receive||s.fallback?Ir(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"==typeof t||t in e||Ur.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(e){if(!c(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||Ur.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new Gr(this.target,this.interface,e)}attach(e){return new Gr(e,this.interface,this.runner)}async getAddress(){return await Nr(this).addrPromise}async getDeployedCode(){const e=Cr(this.runner);d(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Cr(this.runner);return d(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(e){n(e)}};r()}))}deploymentTransaction(){return Nr(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());return Or(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const r=e.interface.getEvent(t,n);return d(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=function(...t){return new Pr(e,n(...t),t)};return o(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return d(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:s}=Nr(this),i=r||await s,{fragment:a,topics:o}=await Fr(this,e),l={address:i,topics:o,fromBlock:t,toBlock:n},c=Cr(this.runner);return d(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map((e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new fr(e,this.interface,t)}catch(t){return new mr(e,t)}return new lr(e,c)}))}async on(e,t){const n=await Rr(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Rr(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await jr(this,e,t,null)}async listenerCount(e){if(e){const t=await Br(this,e);return t?t.listeners.length:0}const{subs:t}=Nr(this);let n=0;for(const{listeners:e}of t.values())n+=e.length;return n}async listeners(e){if(e){const t=await Br(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=Nr(this);let n=[];for(const{listeners:e}of t.values())n=n.concat(e.map((({listener:e})=>e)));return n}async off(e,t){const n=await Br(this,e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),Nr(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Br(this,e);if(!t)return this;t.stop(),Nr(this).subs.delete(t.tag)}else{const{subs:e}=Nr(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends Gr{constructor(t,n=null){super(t,e,n)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class Vr extends(function(){return Gr}()){}var zr="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Hr=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),$r=4;function Wr(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),s=1,i=[0,1];for(let e=1;e<r;e++)i.push(s+=n());let a=n(),o=t;t+=a;let l=0,c=0;function h(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const u=2**31,d=u>>>1,p=u-1;let f=0;for(let e=0;e<31;e++)f=f<<1|h();let m=[],g=0,y=u;for(;;){let e=Math.floor(((f-g+1)*s-1)/y),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<i[r]?n=r:t=r}if(0==t)break;m.push(t);let a=g+Math.floor(y*i[t]/s),o=g+Math.floor(y*i[t+1]/s)-1;for(;0==((a^o)&d);)f=f<<1&p|h(),a=a<<1&p,o=o<<1&p|1;for(;a&~o&536870912;)f=f&d|f<<1&p>>>1|h(),a=a<<1^d,o=(o^d)<<1|d|1;g=a,y=1+o-a}let b=r-4;return m.map((t=>{switch(t-b){case 3:return b+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return b+256+(e[o++]<<8|e[o++]);case 1:return b+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,a=0,o=0;s<n;s++)o=o<<6|t[e.charCodeAt(s)],a+=6,a>=8&&(r[i++]=o>>(a-=8));return r}(e)))}function qr(e){return 1&e?~e>>1:e>>1}function Kr(e,t){let n=Array(e);for(let r=0,s=0;r<e;r++)n[r]=s+=qr(t());return n}function Jr(e,t=0){let n=[];for(;;){let r=e(),s=e();if(!s)break;t+=r;for(let e=0;e<s;e++)n.push(t+e);t+=s+1}return n}function Qr(e){return Zr((()=>{let t=Jr(e);if(t.length)return t}))}function Yr(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(es(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(ts(n,e))}return t.flat()}function Zr(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Xr(e,t,n){let r=Array(e).fill().map((()=>[]));for(let s=0;s<t;s++)Kr(e,n).forEach(((e,t)=>r[t].push(e)));return r}function es(e,t){let n=1+t(),r=t(),s=Zr(t);return Xr(s.length,1+e,t).flatMap(((e,t)=>{let[i,...a]=e;return Array(s[t]).fill().map(((e,t)=>{let s=t*r;return[i+t*n,a.map((e=>e+s))]}))}))}function ts(e,t){return Xr(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function ns(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function rs(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function ss(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function is(e,t){let n=e.length,r=n-t.length;for(let s=0;0==r&&s<n;s++)r=e[s]-t[s];return r}var as="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const os=44032,ls=4352,cs=4449,hs=4519,us=28,ds=21*us,ps=os+19*ds,fs=ls+19,ms=cs+21,gs=hs+us;function ys(e){return e>>24&255}function bs(e){return 16777215&e}let vs,ws,Es,ks;function xs(e){return e>=os&&e<ps}function As(e,t){if(e>=ls&&e<fs&&t>=cs&&t<ms)return os+(e-ls)*ds+(t-cs)*us;if(xs(e)&&t>hs&&t<gs&&(e-os)%us==0)return e+(t-hs);{let n=ks.get(e);return n&&(n=n.get(t),n)?n:-1}}function _s(e){vs||function(){let e=Wr(as);vs=new Map(Qr(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),ws=new Set(Jr(e)),Es=new Map,ks=new Map;for(let[t,n]of Yr(e)){if(!ws.has(t)&&2==n.length){let[e,r]=n,s=ks.get(e);s||(s=new Map,ks.set(e,s)),s.set(r,t)}Es.set(t,n.reverse())}}();let t=[],n=[],r=!1;function s(e){let n=vs.get(e);n&&(r=!0,e|=n),t.push(e)}for(let r of e)for(;;){if(r<128)t.push(r);else if(xs(r)){let e=r-os,t=e%ds/us|0,n=e%us;s(ls+(e/ds|0)),s(cs+t),n>0&&s(hs+n)}else{let e=Es.get(r);e?n.push(...e):s(r)}if(!n.length)break;r=n.pop()}if(r&&t.length>1){let e=ys(t[0]);for(let n=1;n<t.length;n++){let r=ys(t[n]);if(0==r||e<=r){e=r;continue}let s=n-1;for(;;){let n=t[s+1];if(t[s+1]=t[s],t[s]=n,!s)break;if(e=ys(t[--s]),e<=r)break}e=ys(t[n])}}return t}function Ps(e){return _s(e).map(bs)}function Ss(e){return function(e){let t=[],n=[],r=-1,s=0;for(let i of e){let e=ys(i),a=bs(i);if(-1==r)0==e?r=a:t.push(a);else if(s>0&&s>=e)0==e?(t.push(r,...n),n.length=0,r=a):n.push(a),s=e;else{let i=As(r,a);i>=0?r=i:0==s&&0==e?(t.push(r),r=a):(n.push(a),s=e)}}return r>=0&&t.push(r,...n),t}(_s(e))}const Cs=45,Ts=".",Is=65039,Os=1,Ms=e=>Array.from(e);function Ds(e,t){return e.P.has(t)||e.Q.has(t)}class Ns extends Array{get is_emoji(){return!0}}let Fs,Bs,Rs,Ls,js,Us,Gs,Vs,zs,Hs,$s,Ws;function qs(){if(Fs)return;let e=Wr(zr);const t=()=>Jr(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));Fs=new Map(Yr(e)),Bs=n(),Rs=t(),Ls=new Set(t().map((e=>Rs[e]))),Rs=new Set(Rs),js=n(),Us=n();let s=Qr(e),i=e();const a=()=>{let e=new Set;return t().forEach((t=>r(e,s[t]))),r(e,t()),e};Gs=Zr((t=>{let n=Zr(e).map((e=>e+96));if(n.length){let r=t>=i;return n[0]-=32,n=ss(n),r&&(n=`Restricted[${n}]`),{N:n,P:a(),Q:a(),M:!e(),R:r}}})),Vs=n(),zs=new Map;let o=t().concat(Ms(Vs)).sort(((e,t)=>e-t));o.forEach(((t,n)=>{let r=e(),s=o[n]=r?o[n-r]:{V:[],M:new Map};s.V.push(t),Vs.has(t)||zs.set(t,s)}));for(let{V:e,M:t}of new Set(zs.values())){let n=[];for(let t of e){let e=Gs.filter((e=>Ds(e,t))),s=n.find((({G:t})=>e.some((e=>t.has(e)))));s||(s={G:new Set,V:[]},n.push(s)),s.V.push(t),r(s.G,e)}let s=n.flatMap((e=>Ms(e.G)));for(let{G:e,V:r}of n){let n=new Set(s.filter((t=>!e.has(t))));for(let e of r)t.set(e,n)}}Hs=new Set;let l=new Set;const c=e=>Hs.has(e)?l.add(e):Hs.add(e);for(let e of Gs){for(let t of e.P)c(t);for(let t of e.Q)c(t)}for(let e of Hs)zs.has(e)||l.has(e)||zs.set(e,Os);r(Hs,Ps(Hs)),$s=function(e){let t=[],n=Jr(e);return function e({S:n,B:r},s,i){if(!(4&n&&i===s[s.length-1])){2&n&&(i=s[s.length-1]),1&n&&t.push(s);for(let t of r)for(let n of t.Q)e(t,[...s,n],i)}}(function t(r){return{S:e(),B:Zr((()=>{let r=Jr(e).map((e=>n[e]));if(r.length)return t(r)})),Q:r}}([]),[]),t}(e).map((e=>Ns.from(e))).sort(is),Ws=new Map;for(let e of $s){let t=[Ws];for(let n of e){let e=t.map((e=>{let t=e.get(n);return t||(t=new Map,e.set(n,t)),t}));n===Is?t.push(...e):t=e}for(let n of t)n.V=e}}function Ks(e){return(Ys(e)?"":`${Js(Qs([e]))} `)+ns(e)}function Js(e){return`"${e}"‎`}function Qs(e,t=1/0,n=ns){let r=[];var s;s=e[0],qs(),Rs.has(s)&&r.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,a=e.length;for(let t=0;t<a;t++){let s=e[t];Ys(s)&&(r.push(ss(e.slice(i,t))),r.push(n(s)),i=t+1)}return r.push(ss(e.slice(i,a))),r.join("")}function Ys(e){return qs(),js.has(e)}function Zs(e,t,n){if(!e)return[];qs();let r=0;return e.split(Ts).map((e=>{let s=rs(e),i={input:s,offset:r};r+=s.length+1;try{let e,r=i.tokens=ri(s,t,n),a=r.length;if(!a)throw new Error("empty label");let o=i.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(i.emoji=a>1||r[0].is_emoji)&&o.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==Cs&&e[3]==Cs)throw new Error(`invalid label extension: "${ss(e.slice(0,4))}"`)}(o),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Rs.has(o[0]))throw ni("leading combining mark");for(let e=1;e<a;e++){let t=r[e];if(!t.is_emoji&&Rs.has(t[0]))throw ni(`emoji + combining mark: "${ss(r[e-1])} + ${Qs([t[0]])}"`)}!function(e){let t=e[0],n=Hr.get(t);if(n)throw ni(`leading ${n}`);let r=e.length,s=-1;for(let i=1;i<r;i++){t=e[i];let r=Hr.get(t);if(r){if(s==i)throw ni(`${n} + ${r}`);s=i+1,n=r}}if(s==r)throw ni(`trailing ${n}`)}(o);let n=Ms(new Set(t)),[s]=function(e){let t=Gs;for(let n of e){let e=t.filter((e=>Ds(e,n)));if(!e.length)throw Gs.some((e=>Ds(e,n)))?ti(t[0],n):ei(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Ds(e,n))throw ti(e,n);if(e.M){let e=Ps(t);for(let t=1,n=e.length;t<n;t++)if(Ls.has(e[t])){let r=t+1;for(let s;r<n&&Ls.has(s=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==s)throw new Error(`duplicate non-spacing marks: ${Ks(s)}`);if(r-t>$r)throw new Error(`excessive non-spacing marks: ${Js(Qs(e.slice(t-1,r)))} (${r-t}/${$r})`);t=r}}}(s,t),function(e,t){let n,r=[];for(let e of t){let t=zs.get(e);if(t===Os)return;if(t){let r=t.M.get(e);if(n=n?n.filter((e=>r.has(e))):Ms(r),!n.length)return}else r.push(e)}if(n)for(let t of n)if(r.every((e=>Ds(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(s,n),e=s.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i}))}function Xs(e){return e.map((({input:t,error:n,output:r})=>{if(n){let r=n.message;throw new Error(1==e.length?r:`Invalid label ${Js(Qs(t,63))}: ${r}`)}return ss(r)})).join(Ts)}function ei(e){return new Error(`disallowed character: ${Ks(e)}`)}function ti(e,t){let n=Ks(t),r=Gs.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function ni(e){return new Error(`illegal placement: ${e}`)}function ri(e,t,n){let r=[],s=[];for(e=e.slice().reverse();e.length;){let i=ii(e);if(i)s.length&&(r.push(t(s)),s=[]),r.push(n(i));else{let t=e.pop();if(Hs.has(t))s.push(t);else{let e=Fs.get(t);if(e)s.push(...e);else if(!Bs.has(t))throw ei(t)}}}return s.length&&r.push(t(s)),r}function si(e){return e.filter((e=>e!=Is))}function ii(e,t){let n,r=Ws,s=e.length;for(;s&&(r=r.get(e[--s]),r);){let{V:i}=r;i&&(n=i,t&&t.push(...e.slice(s).reverse()),e.length=s)}return n}const ai=new Uint8Array(32);function oi(e){return p(0!==e.length,"invalid ENS name; empty component","comp",e),e}function li(e){const t=ut(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return Xs(Zs(e,Ss,si))}(e)}catch(t){p(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let e=0;e<t.length;e++){46===t[e]&&(n.push(oi(t.slice(r,e))),r=e+1)}return p(r<t.length,"invalid ENS name; empty component","name",e),n.push(oi(t.slice(r))),n}function ci(e){p("string"==typeof e,"invalid ENS name; not a string","name",e),p(e.length,"invalid ENS name (empty label)","name",e);let t=ai;const n=li(e);for(;n.length;)t=De(x([t,De(n.pop())]));return k(t)}function hi(e,t){const n=null!=t?t:63;return p(n<=255,"DNS encoded label cannot exceed 255","length",n),k(x(li(e).map((t=>{p(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}ai.fill(0);const ui="0x0000000000000000000000000000000000000000000000000000000000000000",di=BigInt(0),pi=BigInt(1),fi=BigInt(2),mi=BigInt(27),gi=BigInt(28),yi=BigInt(35),bi={};function vi(e){return S(G(e),32)}class wi{#X;#ee;#te;#ne;get r(){return this.#X}set r(e){p(32===A(e),"invalid r","value",e),this.#X=k(e)}get s(){return this.#ee}set s(e){p(32===A(e),"invalid s","value",e);const t=k(e);p(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#ee=t}get v(){return this.#te}set v(e){const t=j(e,"value");p(27===t||28===t,"invalid v","v",e),this.#te=t}get networkV(){return this.#ne}get legacyChainId(){const e=this.networkV;return null==e?null:wi.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=b(this.s);return this.yParity&&(e[0]|=128),k(e)}get compactSerialized(){return x([this.r,this.yParityAndS])}get serialized(){return x([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){g(e,bi,"Signature"),this.#X=t,this.#ee=n,this.#te=r,this.#ne=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new wi(bi,this.r,this.s,this.v);return this.networkV&&(e.#ne=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=F(e,"v");return t==mi||t==gi?di:(p(t>=yi,"invalid EIP-155 v","v",e),(t-yi)/fi)}static getChainIdV(e,t){return F(e)*fi+BigInt(35+t-27)}static getNormalizedV(e){const t=F(e);return t===di||t===mi?27:t===pi||t===gi?28:(p(t>=yi,"invalid v","v",e),t&pi?27:28)}static from(e){function t(t,n){p(t,n,"signature",e)}if(null==e)return new wi(bi,ui,ui,27);if("string"==typeof e){const n=b(e,"signature");if(64===n.length){const e=k(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new wi(bi,e,k(t),r)}if(65===n.length){const e=k(n.slice(0,32)),r=n.slice(32,64);t(0==(128&r[0]),"non-canonical s");const s=wi.getNormalizedV(n[64]);return new wi(bi,e,k(r),s)}t(!1,"invalid raw signature length")}if(e instanceof wi)return e.clone();const n=e.r;t(null!=n,"missing r");const r=vi(n),s=function(e,n){if(null!=e)return vi(e);if(null!=n){t(w(n,32),"invalid yParityAndS");const e=b(n);return e[0]&=127,k(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&b(s)[0]),"non-canonical s");const{networkV:i,v:a}=function(e,n,r){if(null!=e){const t=F(e);return{networkV:t>=yi?t:void 0,v:wi.getNormalizedV(t)}}if(null!=n)return t(w(n,32),"invalid yParityAndS"),{v:128&b(n)[0]?28:27};if(null!=r){switch(j(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new wi(bi,r,s,a);return i&&(o.#ne=i),t(null==e.yParity||j(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}function Ei(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ki(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function xi(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ei(e.outputLen),Ei(e.blockLen)}function Ai(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _i(e,t){ki(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Pi="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Si=e=>e instanceof Uint8Array,Ci=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ti=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Ii(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Si(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Oi{clone(){return this._cloneInto()}}function Mi(e){const t=t=>e().update(Ii(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Di(e=32){if(Pi&&"function"==typeof Pi.getRandomValues)return Pi.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Ni extends Oi{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ci(this.buffer)}update(e){Ai(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=Ii(e)).length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);if(a!==r)n.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Ci(e);for(;r<=s-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ai(this),_i(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,o,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const a=Ci(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=o/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,c[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:i,pos:a}=this;return e.length=r,e.pos=a,e.finished=s,e.destroyed=i,r%t&&e.buffer.set(n),e}}const Fi=(e,t,n)=>e&t^~e&n,Bi=(e,t,n)=>e&t^e&n^t&n,Ri=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Li=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ji=new Uint32Array(64);class Ui extends Ni{constructor(){super(64,32,8,!1),this.A=0|Li[0],this.B=0|Li[1],this.C=0|Li[2],this.D=0|Li[3],this.E=0|Li[4],this.F=0|Li[5],this.G=0|Li[6],this.H=0|Li[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:i,G:a,H:o}=this;return[e,t,n,r,s,i,a,o]}set(e,t,n,r,s,i,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)ji[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=ji[e-15],n=ji[e-2],r=Ti(t,7)^Ti(t,18)^t>>>3,s=Ti(n,17)^Ti(n,19)^n>>>10;ji[e]=s+ji[e-7]+r+ji[e-16]|0}let{A:n,B:r,C:s,D:i,E:a,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){const t=c+(Ti(a,6)^Ti(a,11)^Ti(a,25))+Fi(a,o,l)+Ri[e]+ji[e]|0,h=(Ti(n,2)^Ti(n,13)^Ti(n,22))+Bi(n,r,s)|0;c=l,l=o,o=a,a=i+t|0,i=s,s=r,r=n,n=t+h|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,s,i,a,o,l,c)}roundClean(){ji.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Gi=Mi((()=>new Ui)),Vi=(BigInt(0),BigInt(1)),zi=BigInt(2),Hi=e=>e instanceof Uint8Array,$i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Wi(e){if(!Hi(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=$i[e[n]];return t}function qi(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Ki(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[t]=i}return n}function Ji(e){return qi(Wi(e))}function Qi(e){if(!Hi(e))throw new Error("Uint8Array expected");return qi(Wi(Uint8Array.from(e).reverse()))}function Yi(e,t){return Ki(e.toString(16).padStart(2*t,"0"))}function Zi(e,t){return Yi(e,t).reverse()}function Xi(e,t,n){let r;if("string"==typeof t)try{r=Ki(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Hi(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function ea(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Hi(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}function ta(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const na=e=>(zi<<BigInt(e-1))-Vi,ra=e=>new Uint8Array(e),sa=e=>Uint8Array.from(e);function ia(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=ra(e),s=ra(e),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=(...e)=>n(s,r,...e),l=(e=ra())=>{s=o(sa([0]),e),r=o(),0!==e.length&&(s=o(sa([1]),e),r=o())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return ea(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const aa={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function oa(e,t,n={}){const r=(t,n,r)=>{const s=aa[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if(!(r&&void 0===i||s(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const la=BigInt(0),ca=BigInt(1),ha=BigInt(2),ua=BigInt(3),da=BigInt(4),pa=BigInt(5),fa=BigInt(8);BigInt(9),BigInt(16);function ma(e,t){const n=e%t;return n>=la?n:t+n}function ga(e,t,n){if(n<=la||t<la)throw new Error("Expected power/modulo > 0");if(n===ca)return la;let r=ca;for(;t>la;)t&ca&&(r=r*e%n),e=e*e%n,t>>=ca;return r}function ya(e,t,n){let r=e;for(;t-- >la;)r*=r,r%=n;return r}function ba(e,t){if(e===la||t<=la)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ma(e,t),r=t,s=la,i=ca,a=ca,o=la;for(;n!==la;){const e=r/n,t=r%n,l=s-a*e,c=i-o*e;r=n,n=t,s=a,i=o,a=l,o=c}if(r!==ca)throw new Error("invert: does not exist");return ma(s,t)}function va(e){if(e%da===ua){const t=(e+ca)/da;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%fa===pa){const t=(e-pa)/fa;return function(e,n){const r=e.mul(n,ha),s=e.pow(r,t),i=e.mul(n,s),a=e.mul(e.mul(i,ha),s),o=e.mul(i,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-ca)/ha;let n,r,s;for(n=e-ca,r=0;n%ha===la;n/=ha,r++);for(s=ha;s<e&&ga(s,t,e)!==e-ca;s++);if(1===r){const t=(e+ca)/da;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+ca)/ha;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,s),n),c=e.pow(a,i),h=e.pow(a,n);for(;!e.eql(h,e.ONE);){if(e.eql(h,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(h);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(l,ca<<BigInt(o-t-1));l=e.sqr(n),c=e.mul(c,n),h=e.mul(h,l),o=t}return c}}(e)}const wa=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ea(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ka(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function xa(e){const t=ka(e);return t+Math.ceil(t/2)}class Aa extends Oi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,xi(e);const n=Ii(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ai(this),this.iHash.update(e),this}digestInto(e){Ai(this),ki(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:i,outputLen:a}=this;return e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _a=(e,t,n)=>new Aa(e,t).update(n).digest();_a.create=(e,t)=>new Aa(e,t);const Pa=BigInt(0),Sa=BigInt(1);function Ca(e){return oa(e.Fp,wa.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),oa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ea(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:Ta,hexToBytes:Ia}=r,Oa={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Oa;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Ta(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Oa,n="string"==typeof e?Ia(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=Oa._parseInt(n.subarray(2)),{d:a,l:o}=Oa._parseInt(i);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),s=t(n(e.r)),i=r.length/2,a=s.length/2,o=n(i),l=n(a);return`30${n(a+i+4)}02${l}${s}02${o}${r}`}},Ma=BigInt(0),Da=BigInt(1),Na=(BigInt(2),BigInt(3));BigInt(4);function Fa(e){const t=function(e){const t=Ca(e);oa(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const s=t.toAffine();return ea(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:s}=t,i=n.sqr(e),a=n.mul(i,e);return n.add(n.add(a,n.mul(e,r)),s)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&Ma<e&&e<t.n}function o(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:i}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Wi(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"==typeof e?e:Ji(Xi("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return s&&(a=ma(a,i)),o(a),a}const c=new Map;function h(e){if(!(e instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof u)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?u.ZERO:new u(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}static fromHex(e){const t=u.fromAffine(s(Xi("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return u.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const s=n.sqr(r),a=i(e);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){h(e);const{px:t,py:r,pz:s}=this,{px:i,py:a,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(i,s)),c=n.eql(n.mul(r,o),n.mul(a,s));return l&&c}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,Na),{px:i,py:a,pz:o}=this;let l=n.ZERO,c=n.ZERO,h=n.ZERO,d=n.mul(i,i),p=n.mul(a,a),f=n.mul(o,o),m=n.mul(i,a);return m=n.add(m,m),h=n.mul(i,o),h=n.add(h,h),l=n.mul(e,h),c=n.mul(s,f),c=n.add(l,c),l=n.sub(p,c),c=n.add(p,c),c=n.mul(l,c),l=n.mul(m,l),h=n.mul(s,h),f=n.mul(e,f),m=n.sub(d,f),m=n.mul(e,m),m=n.add(m,h),h=n.add(d,d),d=n.add(h,d),d=n.add(d,f),d=n.mul(d,m),c=n.add(c,d),f=n.mul(a,o),f=n.add(f,f),d=n.mul(f,m),l=n.sub(l,d),h=n.mul(f,p),h=n.add(h,h),h=n.add(h,h),new u(l,c,h)}add(e){h(e);const{px:r,py:s,pz:i}=this,{px:a,py:o,pz:l}=e;let c=n.ZERO,d=n.ZERO,p=n.ZERO;const f=t.a,m=n.mul(t.b,Na);let g=n.mul(r,a),y=n.mul(s,o),b=n.mul(i,l),v=n.add(r,s),w=n.add(a,o);v=n.mul(v,w),w=n.add(g,y),v=n.sub(v,w),w=n.add(r,i);let E=n.add(a,l);return w=n.mul(w,E),E=n.add(g,b),w=n.sub(w,E),E=n.add(s,i),c=n.add(o,l),E=n.mul(E,c),c=n.add(y,b),E=n.sub(E,c),p=n.mul(f,w),c=n.mul(m,b),p=n.add(c,p),c=n.sub(y,p),p=n.add(y,p),d=n.mul(c,p),y=n.add(g,g),y=n.add(y,g),b=n.mul(f,b),w=n.mul(m,w),y=n.add(y,b),b=n.sub(g,b),b=n.mul(f,b),w=n.add(w,b),g=n.mul(y,w),d=n.add(d,g),g=n.mul(E,w),c=n.mul(v,c),c=n.sub(c,g),g=n.mul(v,y),p=n.mul(E,p),p=n.add(p,g),new u(c,d,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(u.ZERO)}wNAF(e){return p.wNAFCached(this,c,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}))}multiplyUnsafe(e){const r=u.ZERO;if(e===Ma)return r;if(o(e),e===Da)return this;const{endo:s}=t;if(!s)return p.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:l,k2:c}=s.splitScalar(e),h=r,d=r,f=this;for(;a>Ma||c>Ma;)a&Da&&(h=h.add(f)),c&Da&&(d=d.add(f)),f=f.double(),a>>=Da,c>>=Da;return i&&(h=h.negate()),l&&(d=d.negate()),d=new u(n.mul(d.px,s.beta),d.py,d.pz),h.add(d)}multiply(e){o(e);let r,s,i=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:l}=a.splitScalar(i);let{p:c,f:h}=this.wNAF(t),{p:d,f}=this.wNAF(l);c=p.constTimeNegate(e,c),d=p.constTimeNegate(o,d),d=new u(n.mul(d.px,a.beta),d.py,d.pz),r=c.add(d),s=h.add(f)}else{const{p:e,f:t}=this.wNAF(i);r=e,s=t}return u.normalizeZ([r,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=u.BASE,s=(e,t)=>t!==Ma&&t!==Da&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=s(this,t).add(s(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:s}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(s));const a=n.mul(t,e),o=n.mul(r,e),l=n.mul(s,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Da)return!0;if(n)return n(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Da?this:n?n(u,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(u,this,e)}toHex(e=!0){return Wi(this.toRawBytes(e))}}u.BASE=new u(t.Gx,t.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,s=t;for(;n>Pa;)n&Sa&&(r=r.add(s)),s=s.double(),n>>=Sa;return r},precomputeWindow(e,t){const{windows:n,windowSize:s}=r(t),i=[];let a=e,o=a;for(let e=0;e<n;e++){o=a,i.push(o);for(let e=1;e<s;e++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(t,s,i){const{windows:a,windowSize:o}=r(t);let l=e.ZERO,c=e.BASE;const h=BigInt(2**t-1),u=2**t,d=BigInt(t);for(let e=0;e<a;e++){const t=e*o;let r=Number(i&h);i>>=d,r>o&&(r-=u,i+=Sa);const a=t,p=t+Math.abs(r)-1,f=e%2!=0,m=r<0;0===r?c=c.add(n(f,s[a])):l=l.add(n(m,s[p]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const s=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,s),1!==s&&t.set(e,r(i))),this.wNAF(s,i,n)}}}(u,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function Ba(e){const t=function(e){const t=Ca(e);return oa(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function a(e){return ma(e,r)}function o(e){return ba(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:h,isWithinCurveOrder:u}=Fa({...t,toBytes(e,t,r){const s=t.toAffine(),i=n.toBytes(s.x),a=ea;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{const e=Ji(a);if(!(Ma<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=h(e);let s=n.sqrt(t);return 1==(1&r)!==((s&Da)===Da)&&(s=n.neg(s)),{x:e,y:s}}var o}}),d=e=>Wi(Yi(e,t.nByteLength));function p(e){return e>r>>Da}const f=(e,t,n)=>Ji(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Xi("compactSignature",e,2*n),new m(f(e,0,n),f(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Oa.toSig(Xi("DER",e));return new m(t,n)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r,s,recovery:i}=this,c=v(Xi("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const h=2===i||3===i?r+t.n:r;if(h>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&i)?"02":"03",p=l.fromHex(u+d(h)),f=o(h),m=a(-c*f),g=a(s*f),y=l.BASE.multiplyAndAddUnsafe(p,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ki(this.toDERHex())}toDERHex(){return Oa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ki(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=xa(t.n);return function(e,t,n=!1){const r=e.length,s=ka(t),i=xa(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=ma(n?Ji(e):Qi(e),t-ca)+ca;return n?Zi(a,s):Yi(a,s)}(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function y(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===s||r===i:n?r===2*s||r===2*i:e instanceof l}const b=t.bits2int||function(e){const n=Ji(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},v=t.bits2int_modN||function(e){return a(b(e))},w=na(t.nBitLength);function E(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Ma<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Yi(e,t.nByteLength)}function k(e,r,s=x){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:h}=t;let{lowS:d,prehash:f,extraEntropy:g}=s;null==d&&(d=!0),e=Xi("msgHash",e),f&&(e=Xi("prehashed msgHash",i(e)));const y=v(e),w=c(r),k=[E(w),E(y)];if(null!=g){const e=!0===g?h(n.BYTES):g;k.push(Xi("extraEntropy",e))}const A=ea(...k),_=y;return{seed:A,k2sig:function(e){const t=b(e);if(!u(t))return;const n=o(t),r=l.BASE.multiply(t).toAffine(),s=a(r.x);if(s===Ma)return;const i=a(n*a(_+s*w));if(i===Ma)return;let c=(r.x===s?0:2)|Number(r.y&Da),h=i;return d&&p(i)&&(h=function(e){return p(e)?a(-e):e}(i),c^=1),new m(s,h,c)}}}const x={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n,r=x){const{seed:s,k2sig:i}=k(e,n,r),a=t;return ia(a.hash.outputLen,a.nByteLength,a.hmac)(s,i)},verify:function(e,n,r,s=A){const i=e;if(n=Xi("msgHash",n),r=Xi("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:h}=s;let u,d;try{if("string"==typeof i||i instanceof Uint8Array)try{u=m.fromDER(i)}catch(e){if(!(e instanceof Oa.Err))throw e;u=m.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;u=new m(e,t)}}d=l.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&u.hasHighS())return!1;h&&(n=t.hash(n));const{r:p,s:f}=u,g=v(n),y=o(f),b=a(g*y),w=a(p*y),E=l.BASE.multiplyAndAddUnsafe(d,b,w)?.toAffine();return!!E&&a(E.x)===p},ProjectivePoint:l,Signature:m,utils:g}}function Ra(e){return{hash:e,hmac:(t,...n)=>_a(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Si(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}(...n)),randomBytes:Di}}const La=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ja=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ua=BigInt(1),Ga=BigInt(2),Va=(e,t)=>(e+t/Ga)/t;function za(e){const t=La,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),c=e*e*e%t,h=c*c*e%t,u=ya(h,n,t)*h%t,d=ya(u,n,t)*h%t,p=ya(d,Ga,t)*c%t,f=ya(p,s,t)*p%t,m=ya(f,i,t)*f%t,g=ya(m,o,t)*m%t,y=ya(g,l,t)*g%t,b=ya(y,o,t)*m%t,v=ya(b,n,t)*h%t,w=ya(v,a,t)*f%t,E=ya(w,r,t)*c%t,k=ya(E,Ga,t);if(!Ha.eql(Ha.sqr(k),e))throw new Error("Cannot find square root");return k}const Ha=function(e,t,n=!1,r={}){if(e<=la)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:i}=Ea(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=va(e),o=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:na(s),ZERO:la,ONE:ca,create:t=>ma(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return la<=t&&t<e},is0:e=>e===la,isOdd:e=>(e&ca)===ca,neg:t=>ma(-t,e),eql:(e,t)=>e===t,sqr:t=>ma(t*t,e),add:(t,n)=>ma(t+n,e),sub:(t,n)=>ma(t-n,e),mul:(t,n)=>ma(t*n,e),pow:(e,t)=>function(e,t,n){if(n<la)throw new Error("Expected power > 0");if(n===la)return e.ONE;if(n===ca)return t;let r=e.ONE,s=t;for(;n>la;)n&ca&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ca;return r}(o,e,t),div:(t,n)=>ma(t*ba(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ba(t,e),sqrt:r.sqrt||(e=>a(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,s)=>e.is0(r)?t:(n[s]=t,e.mul(t,r))),e.ONE),s=e.inv(r);return t.reduceRight(((t,r,s)=>e.is0(r)?t:(n[s]=e.mul(t,n[s]),e.mul(t,r))),s),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Zi(e,i):Yi(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?Qi(e):Ji(e)}});return Object.freeze(o)}(La,void 0,void 0,{sqrt:za}),$a=function(e,t){const n=t=>Ba({...e,...Ra(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Ha,n:ja,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ja,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ua*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=Va(i*e,t),l=Va(-r*e,t);let c=ma(e-o*n-l*s,t),h=ma(-o*r-l*i,t);const u=c>a,d=h>a;if(u&&(c=t-c),d&&(h=t-h),c>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:d,k2:h}}}},Gi);BigInt(0);$a.ProjectivePoint;class Wa{#re;constructor(e){p(32===A(e),"invalid private key","privateKey","[REDACTED]"),this.#re=k(e)}get privateKey(){return this.#re}get publicKey(){return Wa.computePublicKey(this.#re)}get compressedPublicKey(){return Wa.computePublicKey(this.#re,!0)}sign(e){p(32===A(e),"invalid digest length","digest",e);const t=$a.sign(v(e),v(this.#re),{lowS:!0});return wi.from({r:U(t.r,32),s:U(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Wa.computePublicKey(e);return k($a.getSharedSecret(v(this.#re),b(t),!1))}static computePublicKey(e,t){let n=b(e,"key");if(32===n.length){return k($a.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return k($a.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){p(32===A(e),"invalid digest length","digest",e);const n=wi.from(t);let r=$a.Signature.fromCompact(v(x([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const s=r.recoverPublicKey(v(e));return p(null!=s,"invalid signautre for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,n){const r=$a.ProjectivePoint.fromHex(Wa.computePublicKey(e).substring(2)),s=$a.ProjectivePoint.fromHex(Wa.computePublicKey(t).substring(2));return"0x"+r.add(s).toHex(!!n)}}function qa(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Ka(e,t,n){let r=0;for(let s=0;s<n;s++)r=256*r+e[t+s];return r}function Ja(e,t,n,r){const s=[];for(;n<t+1+r;){const i=Qa(e,n);s.push(i.result),d((n+=i.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:s}}function Qa(e,t){d(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{d(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const s=Ka(e,t+1,r);return n(t+1+r+s),Ja(e,t,t+1+r,r+s)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),Ja(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const s=Ka(e,t+1,r);n(t+1+r+s);return{consumed:1+r+s,result:k(e.slice(t+1+r,t+1+r+s))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:k(e.slice(t+1,t+1+r))}}return{consumed:1,result:qa(e[t])}}function Ya(e){const t=b(e,"data"),n=Qa(t,0);return p(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function Za(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Xa(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Xa(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=Za(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(b(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=Za(t.length);return n.unshift(183+n.length),n.concat(t)}const eo="0123456789abcdef";function to(e){let t="0x";for(const n of Xa(e))t+=eo[n>>4],t+=eo[15&n];return t}function no(e,t){return function(e){let t;return t="string"==typeof e?Wa.computePublicKey(e,!1):e.publicKey,Ge(De("0x"+t.substring(4)).substring(26))}(Wa.recoverPublicKey(e,t))}const ro=BigInt(0),so=BigInt(2),io=BigInt(27),ao=BigInt(28),oo=BigInt(35),lo=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function co(e){return"0x"===e?null:Ge(e)}function ho(e,t){try{return Dn(e)}catch(n){p(!1,n.message,t,e)}}function uo(e,t){return"0x"===e?0:j(e,t)}function po(e,t){if("0x"===e)return ro;const n=F(e,t);return p(n<=lo,"value exceeds uint size",t,n),n}function fo(e,t){const n=F(e,"value"),r=G(n);return p(r.length<=32,"value too large",`tx.${t}`,n),r}function mo(e){return Dn(e).map((e=>[e.address,e.storageKeys]))}function go(e,t){p(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)p(w(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}function yo(e,t){const n=[fo(e.nonce,"nonce"),fo(e.gasPrice||0,"gasPrice"),fo(e.gasLimit,"gasLimit"),e.to||"0x",fo(e.value,"value"),e.data];let r=ro;if(e.chainId!=ro)r=F(e.chainId,"tx.chainId"),p(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==ro&&(n.push(G(r)),n.push("0x"),n.push("0x")),to(n);let s=BigInt(27+t.yParity);return r!==ro?s=wi.getChainIdV(r,t.v):BigInt(t.v)!==s&&p(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(G(s)),n.push(G(t.r)),n.push(G(t.s)),to(n)}function bo(e,t){let n;try{if(n=uo(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(e){p(!1,"invalid yParity","yParity",t[0])}const r=S(t[1],32),s=S(t[2],32),i=wi.from({r,s,yParity:n});e.signature=i}function vo(e,t){const n=[fo(e.chainId,"chainId"),fo(e.nonce,"nonce"),fo(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fo(e.maxFeePerGas||0,"maxFeePerGas"),fo(e.gasLimit,"gasLimit"),e.to||"0x",fo(e.value,"value"),e.data,mo(e.accessList||[])];return t&&(n.push(fo(t.yParity,"yParity")),n.push(G(t.r)),n.push(G(t.s))),x(["0x02",to(n)])}function wo(e,t){const n=[fo(e.chainId,"chainId"),fo(e.nonce,"nonce"),fo(e.gasPrice||0,"gasPrice"),fo(e.gasLimit,"gasLimit"),e.to||"0x",fo(e.value,"value"),e.data,mo(e.accessList||[])];return t&&(n.push(fo(t.yParity,"recoveryParam")),n.push(G(t.r)),n.push(G(t.s))),x(["0x01",to(n)])}function Eo(e,t){const n=[fo(e.chainId,"chainId"),fo(e.nonce,"nonce"),fo(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fo(e.maxFeePerGas||0,"maxFeePerGas"),fo(e.gasLimit,"gasLimit"),e.to||Kn,fo(e.value,"value"),e.data,mo(e.accessList||[]),fo(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),go(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push(fo(t.yParity,"yParity")),n.push(G(t.r)),n.push(G(t.s))),x(["0x03",to(n)])}class ko{#se;#ie;#t;#ae;#oe;#le;#ce;#he;#ue;#de;#pe;#fe;#me;#ge;get type(){return this.#se}set type(e){switch(e){case null:this.#se=null;break;case 0:case"legacy":this.#se=0;break;case 1:case"berlin":case"eip-2930":this.#se=1;break;case 2:case"london":case"eip-1559":this.#se=2;break;case 3:case"cancun":case"eip-4844":this.#se=3;break;default:p(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#ie;return null==e&&3===this.type?Kn:e}set to(e){this.#ie=null==e?null:Ge(e)}get nonce(){return this.#ae}set nonce(e){this.#ae=j(e,"value")}get gasLimit(){return this.#oe}set gasLimit(e){this.#oe=F(e)}get gasPrice(){const e=this.#le;return null!=e||0!==this.type&&1!==this.type?e:ro}set gasPrice(e){this.#le=null==e?null:F(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#ce;return null==e?2===this.type||3===this.type?ro:null:e}set maxPriorityFeePerGas(e){this.#ce=null==e?null:F(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#he;return null==e?2===this.type||3===this.type?ro:null:e}set maxFeePerGas(e){this.#he=null==e?null:F(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=k(e)}get value(){return this.#ue}set value(e){this.#ue=F(e,"value")}get chainId(){return this.#de}set chainId(e){this.#de=F(e)}get signature(){return this.#pe||null}set signature(e){this.#pe=null==e?null:wi.from(e)}get accessList(){const e=this.#fe||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#fe=null==e?null:Dn(e)}get maxFeePerBlobGas(){const e=this.#me;return null==e&&3===this.type?ro:e}set maxFeePerBlobGas(e){this.#me=null==e?null:F(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ge;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){p(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)p(w(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ge=e}constructor(){this.#se=null,this.#ie=null,this.#ae=0,this.#oe=ro,this.#le=null,this.#ce=null,this.#he=null,this.#t="0x",this.#ue=ro,this.#de=ro,this.#pe=null,this.#fe=null,this.#me=null,this.#ge=null}get hash(){return null==this.signature?null:De(this.serialized)}get unsignedHash(){return De(this.unsignedSerialized)}get from(){return null==this.signature?null:no(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Wa.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(d(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return yo(this,this.signature);case 1:return wo(this,this.signature);case 2:return vo(this,this.signature);case 3:return Eo(this,this.signature)}d(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return yo(this);case 1:return wo(this);case 2:return vo(this);case 3:return Eo(this)}d(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=this.#me||this.#ge;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&d(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),d(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),d(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return null!=this.type?s.push(this.type):t?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(r&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return ko.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new ko;if("string"==typeof e){const t=b(e);if(t[0]>=127)return ko.from(function(e){const t=Ya(e);p(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:uo(t[0],"nonce"),gasPrice:po(t[1],"gasPrice"),gasLimit:po(t[2],"gasLimit"),to:co(t[3]),value:po(t[4],"value"),data:k(t[5]),chainId:ro};if(6===t.length)return n;const r=po(t[6],"v"),s=po(t[7],"r"),i=po(t[8],"s");if(s===ro&&i===ro)n.chainId=r;else{let s=(r-oo)/so;s<ro&&(s=ro),n.chainId=s,p(s!==ro||r===io||r===ao,"non-canonical legacy v","v",t[6]),n.signature=wi.from({r:S(t[7],32),s:S(t[8],32),v:r}),n.hash=De(e)}return n}(t));switch(t[0]){case 1:return ko.from(function(e){const t=Ya(b(e).slice(1));p(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",k(e));const n={type:1,chainId:po(t[0],"chainId"),nonce:uo(t[1],"nonce"),gasPrice:po(t[2],"gasPrice"),gasLimit:po(t[3],"gasLimit"),to:co(t[4]),value:po(t[5],"value"),data:k(t[6]),accessList:ho(t[7],"accessList")};return 8===t.length||(n.hash=De(e),bo(n,t.slice(8))),n}(t));case 2:return ko.from(function(e){const t=Ya(b(e).slice(1));p(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",k(e));const n={type:2,chainId:po(t[0],"chainId"),nonce:uo(t[1],"nonce"),maxPriorityFeePerGas:po(t[2],"maxPriorityFeePerGas"),maxFeePerGas:po(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:po(t[4],"gasLimit"),to:co(t[5]),value:po(t[6],"value"),data:k(t[7]),accessList:ho(t[8],"accessList")};return 9===t.length||(n.hash=De(e),bo(n,t.slice(9))),n}(t));case 3:return ko.from(function(e){const t=Ya(b(e).slice(1));p(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: 3","data",k(e));const n={type:3,chainId:po(t[0],"chainId"),nonce:uo(t[1],"nonce"),maxPriorityFeePerGas:po(t[2],"maxPriorityFeePerGas"),maxFeePerGas:po(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:po(t[4],"gasLimit"),to:co(t[5]),value:po(t[6],"value"),data:k(t[7]),accessList:ho(t[8],"accessList"),maxFeePerBlobGas:po(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};p(null!=n.to,"invalid address for transaction type: 3","data",e),p(Array.isArray(n.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<n.blobVersionedHashes.length;t++)p(w(n.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||(n.hash=De(e),bo(n,t.slice(11))),n}(t))}d(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new ko;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=wi.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.hash&&(p(t.isSigned(),"unsigned transaction cannot define hash","tx",e),p(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(p(t.isSigned(),"unsigned transaction cannot define from","tx",e),p(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const xo="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Ao=BigInt(58);function _o(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):p(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class Po{name;constructor(e){o(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const So=new RegExp("^(ipfs)://(.*)$","i"),Co=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),So,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class To{provider;address;name;#ye;#be;constructor(e,t,n){o(this,{provider:e,address:t,name:n}),this.#ye=null,this.#be=new Vr(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ye&&(this.#ye=(async()=>{try{return await this.#be.supportsInterface("0x9061b923")}catch(e){if(c(e,"CALL_EXCEPTION"))return!1;throw this.#ye=null,e}})()),await this.#ye}async#ve(e,t){t=(t||[]).slice();const n=this.#be.interface;t.unshift(ci(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),d(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[hi(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await this.#be[e](...t);return r?n.decodeFunctionResult(r,s)[0]:s}catch(e){if(!c(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#ve("addr(bytes32)");return null==e||e===Kn?null:e}catch(e){if(c(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#ve("addr(bytes32,uint)",[t]);if(w(n,20))return Ge(n)}let t=null;for(const n of this.provider.plugins)if(n instanceof Po&&n.supportsCoinType(e)){t=n;break}if(null==t)return null;const n=await this.#ve("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;d(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#ve("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#ve("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){const t=b(e);let n=L(t),r="";for(;n;)r=xo[Number(n%Ao)]+r,n/=Ao;for(let e=0;e<t.length&&!t[e];e++)r=xo[0]+r;return r}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;d(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<Co.length;n++){const r=t.match(Co[n]);if(null==r)continue;const s=r[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const n=_o(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:n}),{linkage:e,url:n}}case"erc721":case"erc1155":{const n="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const i=await this.getAddress();if(null==i)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(r[2]||"").split("/");if(2!==a.length)return e.push({type:`!${s}caip`,value:r[2]||""}),{url:null,linkage:e};const o=a[1],l=new Vr(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await l.ownerOf(o);if(i!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await l.balanceOf(i,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let c=await l[n](o);if(null==c||"0x"===c)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:c}),"erc1155"===s&&(c=c.replace("{id}",U(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=_o(c)),e.push({type:"metadata-url",value:c});let h={};const u=await new $n(c).send();u.assertOk();try{h=u.bodyJson}catch(t){try{e.push({type:"!metadata",value:u.bodyText})}catch(t){const n=u.body;return n&&e.push({type:"!metadata",value:k(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let d=h.image;if("string"!=typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(So))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=_o(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return d(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#we(e,t){const n=await To.getEnsAddress(e);try{const r=new Vr(n,["function resolver(bytes32) view returns (address)"],e),s=await r.resolver(ci(t),{enableCcipRead:!0});return s===Kn?null:s}catch(e){throw e}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await To.#we(e,n);if(null!=r){const s=new To(e,r,t);return n===t||await s.supportsWildcard()?s:null}n=n.split(".").slice(1).join(".")}}}const Io=BigInt(0);function Oo(e,t){return function(n){return null==n?t:e(n)}}function Mo(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function Do(e,t){return n=>{const r={};for(const s in e){let i=s;if(t&&s in t&&!(i in n))for(const e of t[s])if(e in n){i=e;break}try{const t=e[s](n[i]);void 0!==t&&(r[s]=t)}catch(e){d(!1,`invalid value for value.${s} (${e instanceof Error?e.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function No(e){return p(w(e,!0),"invalid data","value",e),e}function Fo(e){return p(w(e,32),"invalid hash","value",e),e}const Bo=Do({address:Ge,blockHash:Fo,blockNumber:j,data:No,index:j,removed:Oo((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}p(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:Mo(Fo),transactionHash:Fo,transactionIndex:j},{index:["logIndex"]});const Ro=Do({hash:Oo(Fo),parentHash:Fo,parentBeaconBlockRoot:Oo(Fo,null),number:j,timestamp:j,nonce:Oo(No),difficulty:F,gasLimit:F,gasUsed:F,stateRoot:Oo(Fo,null),receiptsRoot:Oo(Fo,null),blobGasUsed:Oo(F,null),excessBlobGas:Oo(F,null),miner:Oo(Ge),extraData:No,baseFeePerGas:Oo(F)});const Lo=Do({transactionIndex:j,blockNumber:j,transactionHash:Fo,address:Ge,topics:Mo(Fo),data:No,index:j,blockHash:Fo},{index:["logIndex"]});const jo=Do({to:Oo(Ge,null),from:Oo(Ge,null),contractAddress:Oo(Ge,null),index:j,root:Oo(k),gasUsed:F,blobGasUsed:Oo(F,null),logsBloom:Oo(No),blockHash:Fo,hash:Fo,logs:Mo((function(e){return Lo(e)})),blockNumber:j,cumulativeGasUsed:F,effectiveGasPrice:Oo(F),blobGasPrice:Oo(F,null),status:Oo(j),type:Oo(j,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Uo(e){e.to&&F(e.to)===Io&&(e.to="0x0000000000000000000000000000000000000000");const t=Do({hash:Fo,index:Oo(j,void 0),type:e=>"0x"===e||null==e?0:j(e),accessList:Oo(Dn,null),blobVersionedHashes:Oo(Mo(Fo,!0),null),blockHash:Oo(Fo,null),blockNumber:Oo(j,null),transactionIndex:Oo(j,null),from:Ge,gasPrice:Oo(F),maxPriorityFeePerGas:Oo(F),maxFeePerGas:Oo(F),maxFeePerBlobGas:Oo(F,null),gasLimit:F,to:Oo(Ge,null),value:F,nonce:j,data:No,creates:Oo(Ge,null),chainId:Oo(F,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=Ge(e.from);let n=F(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,Ge(_(De(to([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=wi.from(e.signature):t.signature=wi.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&F(t.blockHash)===Io&&(t.blockHash=null),t}class Go{name;constructor(e){o(this,{name:e})}clone(){return new Go(this.name)}}class Vo extends Go{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let s=(t||{})[e];null==s&&(s=r),p("number"==typeof s,`invalud value for ${e}`,"costs",t),n[e]=s}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),o(this,n)}clone(){return new Vo(this.effectiveBlock,this)}}class zo extends Go{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),o(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new zo(this.address,this.targetNetwork)}}class Ho extends Go{#P;#Ee;get url(){return this.#P}get processFunc(){return this.#Ee}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#P=e,this.#Ee=t}clone(){return this}}const $o=new Map;class Wo{#ke;#de;#xe;constructor(e,t){this.#ke=e,this.#de=F(t),this.#xe=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#ke}set name(e){this.#ke=e}get chainId(){return this.#de}set chainId(e){this.#de=F(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===F(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===F(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===F(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#xe.values())}attachPlugin(e){if(this.#xe.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#xe.set(e.name,e.clone()),this}getPlugin(e){return this.#xe.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Wo(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Vo;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=Dn(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(Jo)return;function e(e,t,n){const r=function(){const r=new Wo(e,t);return null!=n.ensNetwork&&r.attachPlugin(new zo(null,n.ensNetwork)),r.attachPlugin(new Vo),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};Wo.register(e,r),Wo.register(t,r),n.altNames&&n.altNames.forEach((e=>{Wo.register(e,r)}))}Jo=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("matic",137,{ensNetwork:1,plugins:[Ko("https://gasstation.polygon.technology/v2")]}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Ko("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Wo.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=$o.get(e);if(t)return t();if("bigint"==typeof e)return new Wo("unknown",e);p(!1,"unknown network","network",e)}if("function"==typeof e.clone){return e.clone()}if("object"==typeof e){p("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Wo(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new zo(e.ensAddress,e.ensNetwork)),t}p(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const n=$o.get(e);n&&p(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),$o.set(e,t)}}function qo(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function Ko(e){return new Ho(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,s]=await Promise.all([n.send(),e()]);r=t;const i=r.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:qo(i.maxFee,9),maxPriorityFeePerGas:qo(i.maxPriorityFee,9)}}catch(e){d(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:e})}}))}let Jo=!1;function Qo(e){return JSON.parse(JSON.stringify(e))}class Yo{#Ae;#_e;#Pe;#Se;constructor(e){this.#Ae=e,this.#_e=null,this.#Pe=4e3,this.#Se=-2}get pollingInterval(){return this.#Pe}set pollingInterval(e){this.#Pe=e}async#Ce(){try{const e=await this.#Ae.getBlockNumber();if(-2===this.#Se)return void(this.#Se=e);if(e!==this.#Se){for(let t=this.#Se+1;t<=e;t++){if(null==this.#_e)return;await this.#Ae.emit("block",t)}this.#Se=e}}catch(e){}null!=this.#_e&&(this.#_e=this.#Ae._setTimeout(this.#Ce.bind(this),this.#Pe))}start(){this.#_e||(this.#_e=this.#Ae._setTimeout(this.#Ce.bind(this),this.#Pe),this.#Ce())}stop(){this.#_e&&(this.#Ae._clearTimeout(this.#_e),this.#_e=null)}pause(e){this.stop(),e&&(this.#Se=-2)}resume(){this.start()}}class Zo{#Ae;#Ce;#Te;constructor(e){this.#Ae=e,this.#Te=!1,this.#Ce=e=>{this._poll(e,this.#Ae)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Te||(this.#Te=!0,this.#Ce(-2),this.#Ae.on("block",this.#Ce))}stop(){this.#Te&&(this.#Te=!1,this.#Ae.off("block",this.#Ce))}pause(e){this.stop()}resume(){this.start()}}class Xo extends Zo{#Ie;#Oe;constructor(e,t){super(e),this.#Ie=t,this.#Oe=-2}pause(e){e&&(this.#Oe=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Ie);null!=n&&(-2===this.#Oe?this.#Oe=n.number:n.number>this.#Oe&&(t.emit(this.#Ie,n.number),this.#Oe=n.number))}}class el extends Zo{#Z;constructor(e,t){super(e),this.#Z=Qo(t)}async _poll(e,t){throw new Error("@TODO")}}class tl extends Zo{#Me;constructor(e,t){super(e),this.#Me=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Me);n&&t.emit(this.#Me,n)}}class nl{#Ae;#Z;#_e;#Te;#Se;constructor(e,t){this.#Ae=e,this.#Z=Qo(t),this.#_e=this.#Ce.bind(this),this.#Te=!1,this.#Se=-2}async#Ce(e){if(-2===this.#Se)return;const t=Qo(this.#Z);t.fromBlock=this.#Se+1,t.toBlock=e;const n=await this.#Ae.getLogs(t);if(0!==n.length)for(const e of n)this.#Ae.emit(this.#Z,e),this.#Se=e.blockNumber;else this.#Se<e-60&&(this.#Se=e-60)}start(){this.#Te||(this.#Te=!0,-2===this.#Se&&this.#Ae.getBlockNumber().then((e=>{this.#Se=e})),this.#Ae.on("block",this.#_e))}stop(){this.#Te&&(this.#Te=!1,this.#Ae.off("block",this.#_e))}pause(e){this.stop(),e&&(this.#Se=-2)}resume(){this.start()}}const rl=BigInt(2);function sl(e){return e&&"function"==typeof e.then}function il(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class al{name;constructor(e){o(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function ol(e){return(e=Array.from(new Set(e).values())).sort(),e}async function ll(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(w(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:il("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:il("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?ol(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],s=[],i=n=>{w(n)?e.push(n):s.push((async()=>{e.push(await gn(n,t))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),s.length&&await Promise.all(s),r.address=ol(e.map((e=>e.toLowerCase())))}return{filter:r,tag:il("event",r),type:"event"}}p(!1,"unknown ProviderEvent","event",e)}function cl(){return(new Date).getTime()}const hl={cacheTimeout:250,pollingInterval:4e3};class ul{#De;#xe;#Ne;#Fe;#Be;#Re;#Le;#je;#Ue;#Ge;#Ve;#h;constructor(e,t){if(this.#h=Object.assign({},hl,t||{}),"any"===e)this.#Re=!0,this.#Be=null;else if(e){const t=Wo.from(e);this.#Re=!1,this.#Be=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Re=!1,this.#Be=null;this.#je=-1,this.#Le=new Map,this.#De=new Map,this.#xe=new Map,this.#Ne=null,this.#Fe=!1,this.#Ue=1,this.#Ge=new Map,this.#Ve=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#xe.values())}attachPlugin(e){if(this.#xe.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#xe.set(e.name,e.connect(this)),this}getPlugin(e){return this.#xe.get(e)||null}get disableCcipRead(){return this.#Ve}set disableCcipRead(e){this.#Ve=!!e}async#ze(e){const t=this.#h.cacheTimeout;if(t<0)return await this._perform(e);const n=il(e.method,e);let r=this.#Le.get(n);return r||(r=this._perform(e),this.#Le.set(n,r),setTimeout((()=>{this.#Le.get(n)===r&&this.#Le.delete(n)}),t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),s=t.toLowerCase(),i=[];for(let t=0;t<n.length;t++){const a=n[t],o=a.replace("{sender}",r).replace("{data}",s),l=new $n(o);-1===a.indexOf("{data}")&&(l.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:n});let c="unknown error";const h=await l.send();try{const e=h.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(c=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}d(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:a,errorMessage:c}}),i.push(c)}d(!1,`error encountered during CCIP fetch: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:i}})}_wrapBlock(e,t){return new or(function(e){const t=Ro(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:Uo(e))),t}(e),this)}_wrapLog(e,t){return new lr(function(e){return Bo(e)}(e),this)}_wrapTransactionReceipt(e,t){return new cr(function(e){return jo(e)}(e),this)}_wrapTransactionResponse(e,t){return new hr(Uo(e),this)}_detectNetwork(){d(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){d(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=j(await this.#ze({method:"getBlockNumber"}),"%response");return this.#je>=0&&(this.#je=e),e}_getAddress(e){return gn(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return w(e)?w(e,32)?e:V(e):("bigint"==typeof e&&(e=j(e,"blockTag")),"number"==typeof e?e>=0?V(e):this.#je>=0?V(this.#je+e):this.getBlockNumber().then((t=>V(t+e))):void p(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?ol(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,s)=>{let i;switch(e.length){case 0:break;case 1:i=e[0];break;default:e.sort(),i=e}if(n&&(null!=r||null!=s))throw new Error("invalid filter");const a={};return i&&(a.address=i),t.length&&(a.topics=t),r&&(a.fromBlock=r),s&&(a.toBlock=s),n&&(a.blockHash=n),a};let s,i,a=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)a.push(this._getAddress(t));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(i=this._getBlockTag(e.toBlock)),a.filter((e=>"string"!=typeof e)).length||null!=s&&"string"!=typeof s||null!=i&&"string"!=typeof i?Promise.all([Promise.all(a),s,i]).then((e=>r(e[0],e[1],e[2]))):r(a,s,i)}_getTransactionRequest(e){const t=ar(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=gn(t[e],this);sl(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);sl(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#Be){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#Be===e&&(this.#Be=null),t}})();return this.#Be=e,(await e).clone()}const e=this.#Be,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#Re?(this.emit("network",n,t),this.#Be===e&&(this.#Be=Promise.resolve(n))):d(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await a({_block:this.#He("latest",!1),gasPrice:(async()=>{try{return F(await this.#ze({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return F(await this.#ze({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let s=null,i=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(i=null!=r?r:BigInt("1000000000"),s=o.baseFeePerGas*rl+i),new ir(n,s,i)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new $n(n.url),r=await n.processFunc(t,this,e);return new ir(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return sl(t)&&(t=await t),F(await this.#ze({method:"estimateGas",transaction:t}),"%response")}async#$e(e,t,n){d(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=ar(e);try{return k(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(e){if(!this.disableCcipRead&&h(e)&&e.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===_(e.data,0,4)){const s=e.data,i=await gn(r.to,this);let a;try{a=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};d(A(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=_(e,0,32);d(_(n,0,12)===_(bl,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=_(n,12);try{const n=[],r=j(_(e,32,64)),s=j(_(e,r,r+32)),i=_(e,r+32);for(let e=0;e<s;e++){const t=dl(i,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(e){d(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=pl(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(e){d(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}d(_(e,100,128)===_(bl,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=_(e,96,100);try{const n=pl(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(e){d(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(_(e.data,4))}catch(e){d(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:s}})}d(a.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const o=await this.ccipReadFetch(r,a.calldata,a.urls);d(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:e.data,errorArgs:a.errorArgs}});const l={to:i,data:x([a.selector,yl([o,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await this.#$e(l,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e}),e}}throw e}}async#We(e){const{value:t}=await a({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await a({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#We(this.#$e(t,n,e.enableCcipRead?0:-1))}async#qe(e,t,n){let r=this._getAddress(t),s=this._getBlockTag(n);return"string"==typeof r&&"string"==typeof s||([r,s]=await Promise.all([r,s])),await this.#We(this.#ze(Object.assign(e,{address:r,blockTag:s})))}async getBalance(e,t){return F(await this.#qe({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return j(await this.#qe({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return k(await this.#qe({method:"getCode"},e,t))}async getStorage(e,t,n){const r=F(t,"position");return k(await this.#qe({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await a({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=ko.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(t)}async#He(e,t){if(w(e,32))return await this.#ze({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!=typeof n&&(n=await n),await this.#ze({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await a({network:this.getNetwork(),params:this.#He(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await a({network:this.getNetwork(),params:this.#ze({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await a({network:this.getNetwork(),params:this.#ze({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#ze({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await a({network:this.getNetwork(),result:this.#ze({method:"getTransactionResult",hash:e})});return null==t?null:k(t)}async getLogs(e){let t=this._getFilter(e);sl(t)&&(t=await t);const{network:n,params:r}=await a({network:this.getNetwork(),params:this.#ze({method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){d(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await To.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=ci((e=Ge(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await To.getEnsAddress(this),r=new Vr(n,["function resolver(bytes32) view returns (address)"],this),s=await r.resolver(t);if(null==s||s===Kn)return null;const i=new Vr(s,["function name(bytes32) view returns (string)"],this),a=await i.name(t);return await this.resolveName(a)!==e?null:a}catch(e){if(c(e,"BAD_DATA")&&"0x"===e.value)return null;if(c(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,s)=>{let i=null;const a=async n=>{try{const s=await this.getTransactionReceipt(e);if(null!=s&&n-s.blockNumber+1>=r)return t(s),void(i&&(clearTimeout(i),i=null))}catch(e){console.log("EEE",e)}this.once("block",a)};null!=n&&(i=setTimeout((()=>{null!=i&&(i=null,this.off("block",a),s(u("timeout","TIMEOUT",{reason:"timeout"})))}),n)),a(await this.getBlockNumber())}))}async waitForBlock(e){d(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ge.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ge.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#Ue++,r=()=>{this.#Ge.delete(n),e()};if(this.paused)this.#Ge.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#Ge.set(n,{timer:e,func:r,time:cl()})}return n}_forEachSubscriber(e){for(const t of this.#De.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new al(e.type);case"block":{const e=new Yo(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Xo(this,e.type);case"event":return new nl(this,e.filter);case"transaction":return new tl(this,e.hash);case"orphan":return new el(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#De.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#Ne&&t.pause(this.#Ne);break}}async#Ke(e,t){let n=await ll(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await ll({orphan:"drop-log",log:t[0]},this)),this.#De.get(n.tag)||null}async#Je(e){const t=await ll(e,this),n=t.tag;let r=this.#De.get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#De.set(n,r)}return r}async on(e,t){const n=await this.#Je(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Ne&&n.subscriber.pause(this.#Ne)),this}async once(e,t){const n=await this.#Je(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Ne&&n.subscriber.pause(this.#Ne)),this}async emit(e,...t){const n=await this.#Ke(e,t);if(!n||0===n.listeners.length)return!1;const r=n.listeners.length;return n.listeners=n.listeners.filter((({listener:n,once:r})=>{const s=new pr(this,r?null:n,e);try{n.call(this,...t,s)}catch(e){}return!r})),0===n.listeners.length&&(n.started&&n.subscriber.stop(),this.#De.delete(n.tag)),r>0}async listenerCount(e){if(e){const t=await this.#Ke(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#De.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#Ke(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#De.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const n=await this.#Ke(e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#De.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#Je(e);n&&r.stop(),this.#De.delete(t)}else for(const[e,{started:t,subscriber:n}]of this.#De)t&&n.stop(),this.#De.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Fe}destroy(){this.removeAllListeners();for(const e of this.#Ge.keys())this._clearTimeout(e);this.#Fe=!0}get paused(){return null!=this.#Ne}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#je=-1,null!=this.#Ne){if(this.#Ne==!!e)return;d(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#Ne=!!e;for(const e of this.#Ge.values())e.timer&&clearTimeout(e.timer),e.time=cl()-e.time}resume(){if(null!=this.#Ne){this._forEachSubscriber((e=>e.resume())),this.#Ne=null;for(const e of this.#Ge.values()){let t=e.time;t<0&&(t=0),e.time=cl(),setTimeout(e.func,t)}}}}function dl(e,t){try{const n=pl(e,t);if(n)return dt(n)}catch(e){}return null}function pl(e,t){if("0x"===e)return null;try{const n=j(_(e,t,t+32)),r=j(_(e,n,n+32));return _(e,n+32,n+32+r)}catch(e){}return null}function fl(e){const t=G(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function ml(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const gl=new Uint8Array([]);function yl(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(gl),n+=32;for(let r=0;r<e.length;r++){const s=b(e[r]);t[r]=fl(n),t.push(fl(s.length)),t.push(ml(s)),n+=32+32*Math.ceil(s.length/32)}return x(t)}const bl="0x0000000000000000000000000000000000000000000000000000000000000000";function vl(e,t){if(e.provider)return e.provider;d(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function wl(e,t){let n=ar(t);if(null!=n.to&&(n.to=gn(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),gn(t,e)]).then((([e,t])=>(p(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else n.from=e.getAddress();return await a(n)}class El{provider;constructor(e){o(this,{provider:e||null})}async getNonce(e){return vl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await wl(this,e)}async populateTransaction(e){const t=vl(this,"populateTransaction"),n=await wl(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){p(F(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const s=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!s?0!==n.type&&1!==n.type||!s||p(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):p(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();d(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(d(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):d(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===n.type&&(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await a(n)}async estimateGas(e){return vl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return vl(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=vl(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=vl(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=ko.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}class kl{#Ae;#Qe;#_e;#Te;#Ye;#Ze;constructor(e){this.#Ae=e,this.#Qe=null,this.#_e=this.#Ce.bind(this),this.#Te=!1,this.#Ye=null,this.#Ze=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Ce(e){try{null==this.#Qe&&(this.#Qe=this._subscribe(this.#Ae));let e=null;try{e=await this.#Qe}catch(e){if(!c(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#Qe=null,void this.#Ae._recoverSubscriber(this,this._recover(this.#Ae));const t=await this.#Ae.getNetwork();if(this.#Ye||(this.#Ye=t),this.#Ye.chainId!==t.chainId)throw new Error("chaid changed");if(this.#Ze)return;const n=await this.#Ae.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Ae,n)}catch(e){console.log("@TODO",e)}this.#Ae.once("block",this.#_e)}#Xe(){const e=this.#Qe;e&&(this.#Qe=null,e.then((e=>{this.#Ae.send("eth_uninstallFilter",[e])})))}start(){this.#Te||(this.#Te=!0,this.#Ce(-2))}stop(){this.#Te&&(this.#Te=!1,this.#Ze=!0,this.#Xe(),this.#Ae.off("block",this.#_e))}pause(e){e&&this.#Xe(),this.#Ae.off("block",this.#_e)}resume(){this.start()}}class xl extends kl{#et;constructor(e,t){var n;super(e),this.#et=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new nl(e,this.#et)}async _subscribe(e){return await e.send("eth_newFilter",[this.#et])}async _emitResults(e,t){for(const n of t)e.emit(this.#et,e._wrapLog(n,e._network))}}class Al extends kl{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const _l="bigint,boolean,function,number,string,symbol".split(/,/g);function Pl(e){if(null==e||_l.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Pl);if("object"==typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Sl(e){return new Promise((t=>{setTimeout(t,e)}))}function Cl(e){return e?e.toLowerCase():e}function Tl(e){return e&&"number"==typeof e.pollingInterval}const Il={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Ol extends El{address;constructor(e,t){super(e),o(this,{address:t=Ge(t)})}connect(e){d(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Pl(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await gn(r,this.provider);p(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await gn(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const s=[1e3,100];let i=0;const a=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(e){if(c(e,"CANCELLED")||c(e,"BAD_DATA")||c(e,"NETWORK_ERROR"))return null==e.info&&(e.info={}),e.info.sendTransactionHash=n,void r(e);if(c(e,"INVALID_ARGUMENT")&&(i++,null==e.info&&(e.info={}),e.info.sendTransactionHash=n,i>10))return void r(e);this.provider.emit("error",u("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout((()=>{a()}),s.pop()||4e3)};a()}))}async signTransaction(e){const t=Pl(e);if(t.from){const n=await gn(t.from,this.provider);p(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"==typeof e?ut(e):e;return await this.provider.send("personal_sign",[k(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=Pl(n),s=await On.resolveNames(e,t,r,(async e=>{const t=await gn(e);return p(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(On.getPayload(s.domain,t,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?ut(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),k(t)])}}class Ml extends ul{#h;#tt;#nt;#rt;#st;#Ye;#it;#at(){if(this.#rt)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#rt=setTimeout((()=>{this.#rt=null;const e=this.#nt;for(this.#nt=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#h.batchMaxCount;){t.push(e.shift());if(JSON.stringify(t.map((e=>e.payload))).length>this.#h.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:s}of t){if(this.destroyed){r(u("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}const t=n.filter((e=>e.id===s.id))[0];if(null!=t)"error"in t?r(this.getRpcError(s,t)):e(t.result);else{const e=u("missing response for request","BAD_DATA",{value:n,info:{payload:s}});this.emit("error",e),r(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:n}of t)n(e)}})()}}),e)}constructor(e,t){super(e,t),this.#tt=1,this.#h=Object.assign({},Il,t||{}),this.#nt=[],this.#rt=null,this.#Ye=null,this.#it=null;{let e=null;const t=new Promise((t=>{e=t}));this.#st={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"==typeof n?(p(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#Ye=Wo.from(e))):n&&(p(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#Ye=n)}_getOption(e){return this.#h[e]}get _network(){return d(this.#Ye,"network is not available yet","NETWORK_ERROR"),this.#Ye}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&F(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#Ye)return this.#Ye}return this.#it?await this.#it:this.ready?(this.#it=(async()=>{try{const e=Wo.from(F(await this.send("eth_chainId",[])));return this.#it=null,e}catch(e){throw this.#it=null,e}})(),await this.#it):(this.#it=(async()=>{const e={id:this.#tt++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#it=null}catch(e){throw this.#it=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return Wo.from(F(t.result));throw this.getRpcError(e,t)})(),await this.#it)}_start(){null!=this.#st&&null!=this.#st.resolve&&(this.#st.resolve(),this.#st=null,(async()=>{for(;null==this.#Ye&&!this.destroyed;)try{this.#Ye=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",u("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Sl(1e3)}this.#at()})())}async _waitUntilReady(){if(null!=this.#st)return await this.#st.promise}_getSubscriber(e){return"pending"===e.type?new Al(this):"event"===e.type?this._getOption("polling")?new nl(this,e.filter):new xl(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new al("orphan"):super._getSubscriber(e)}get ready(){return null==this.#st}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=V(F(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=k(e[n]))})),e.accessList&&(t.accessList=Dn(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Cl(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Cl(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Cl(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Cl(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Cl):e.filter.address=Cl(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return u("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Fl(r),s=pn.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return s.info={error:r,payload:e},s}const s=JSON.stringify(function(e){const t=[];return Bl(e,t),t}(r));if("string"==typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return u("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return u("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return u("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return u("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(s.match(/only replay-protected/i))return u("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let i=!!s.match(/the method .* does not exist/i);return i||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(i=!0),i?u("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):u("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(u("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#tt++,r=new Promise(((r,s)=>{this.#nt.push({resolve:r,reject:s,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#at(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Ol(this,n[e])}const{accounts:n}=await a({network:this.getNetwork(),accounts:t});e=Ge(e);for(const t of n)if(Ge(t)===e)return new Ol(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Ol(this,e)))}destroy(){this.#rt&&(clearTimeout(this.#rt),this.#rt=null);for(const{payload:e,reject:t}of this.#nt)t(u("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#nt=[],super.destroy()}}class Dl extends Ml{#ot;constructor(e,t){super(e,t),this.#ot=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return Tl(t)&&(t.pollingInterval=this.#ot),t}get pollingInterval(){return this.#ot}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#ot=e,this._forEachSubscriber((e=>{Tl(e)&&(e.pollingInterval=this.#ot)}))}}class Nl extends Dl{#lt;constructor(e,t,n){null==e&&(e="http://localhost:8545"),super(t,n),this.#lt="string"==typeof e?new $n(e):e.clone()}_getConnection(){return this.#lt.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let r=n.bodyJson;return Array.isArray(r)||(r=[r]),r}}function Fl(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&w(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const n=Fl(e[t]);if(n)return n}return null}if("string"==typeof e)try{return Fl(JSON.parse(e))}catch(e){}return null}function Bl(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const n in e)Bl(e[n],t);if("string"==typeof e)try{return Bl(JSON.parse(e),t)}catch(e){}}}const Rl=new class{dev;serviceName;overviewUrl;socialUrls;messageForWalletLinking;chains;defaultChain;contractAddresses;hashtagOptions;init(e){this.dev=e.dev,this.serviceName=e.serviceName,this.overviewUrl=e.overviewUrl,this.socialUrls=e.socialUrls,this.messageForWalletLinking=e.messageForWalletLinking,this.chains=e.chains,this.defaultChain=e.defaultChain,this.contractAddresses=e.contractAddresses,this.hashtagOptions=e.hashtagOptions}};const Ll=new class{info={};async init(){await Promise.all(Object.values(Rl.chains).map((async e=>{const t=new Nl(e.rpc),n=await t.getBlock("latest");this.info[e.chainId]={blockNumber:n.number,initBlockTime:1e3*n.timestamp}})))}blockToTime(e,t){const n=Object.values(Rl.chains).find((t=>t.name===e)).chainId;if(!this.info[n])throw new Error("Unknown chain");const r=Rl.chains[n].blockTime;return this.info[n].initBlockTime+(t-this.info[n].blockNumber)*r*1e3}};var jl=n(8673);const Ul=BigInt(-1),Gl=BigInt(0),Vl=BigInt(1),zl=BigInt(5),Hl={};let $l="0000";for(;$l.length<80;)$l+=$l;function Wl(e){let t=$l;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function ql(e,t,n){const r=BigInt(t.width);if(t.signed){const t=Vl<<r-Vl;d(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>Gl?M(N(e,r),r):-M(N(-e,r),r)}else{const t=Vl<<r;d(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-Vl}return e}function Kl(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);p(s,"invalid fixed format","format",e),t="u"!==s[1],n=parseInt(s[2]),r=parseInt(s[3])}else if(e){const s=e,i=(e,t,n)=>null==s[e]?n:(p(typeof s[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,s[e]),s[e]);t=i("signed","boolean",t),n=i("width","number",n),r=i("decimals","number",r)}p(n%8==0,"invalid FixedNumber width (not byte aligned)","format.width",n),p(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}class Jl{format;#ct;#ht;#ut;_value;constructor(e,t,n){g(e,Hl,"FixedNumber"),this.#ht=t,this.#ct=n;const r=function(e,t){let n="";e<Gl&&(n="-",e*=Ul);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=$l+r;const s=r.length-t;for(r=r.substring(0,s)+"."+r.substring(s);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);o(this,{format:n.name,_value:r}),this.#ut=Wl(n.decimals)}get signed(){return this.#ct.signed}get width(){return this.#ct.width}get decimals(){return this.#ct.decimals}get value(){return this.#ht}#dt(e){p(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#pt(e,t){return e=ql(e,this.#ct,t),new Jl(Hl,e,this.#ct)}#ft(e,t){return this.#dt(e),this.#pt(this.#ht+e.#ht,t)}addUnsafe(e){return this.#ft(e)}add(e){return this.#ft(e,"add")}#mt(e,t){return this.#dt(e),this.#pt(this.#ht-e.#ht,t)}subUnsafe(e){return this.#mt(e)}sub(e){return this.#mt(e,"sub")}#gt(e,t){return this.#dt(e),this.#pt(this.#ht*e.#ht/this.#ut,t)}mulUnsafe(e){return this.#gt(e)}mul(e){return this.#gt(e,"mul")}mulSignal(e){this.#dt(e);const t=this.#ht*e.#ht;return d(t%this.#ut===Gl,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#pt(t/this.#ut,"mulSignal")}#yt(e,t){return d(e.#ht!==Gl,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#dt(e),this.#pt(this.#ht*this.#ut/e.#ht,t)}divUnsafe(e){return this.#yt(e)}div(e){return this.#yt(e,"div")}divSignal(e){d(e.#ht!==Gl,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#dt(e);const t=this.#ht*this.#ut;return d(t%e.#ht===Gl,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#pt(t/e.#ht,"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=Wl(r):r<0&&(t*=Wl(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#ht;return this.#ht<Gl&&(e-=this.#ut-Vl),e=this.#ht/this.#ut*this.#ut,this.#pt(e,"floor")}ceiling(){let e=this.#ht;return this.#ht>Gl&&(e+=this.#ut-Vl),e=this.#ht/this.#ut*this.#ut,this.#pt(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=zl*Wl(t-1);let r=this.value+n;const s=Wl(t);return r=r/s*s,ql(r,this.#ct,"round"),new Jl(Hl,r,this.#ct)}isZero(){return this.#ht===Gl}isNegative(){return this.#ht<Gl}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Jl.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:j(t),s=Kl(n);let i=F(e,"value");const a=r-s.decimals;if(a>0){const t=Wl(a);d(i%t===Gl,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),i/=t}else a<0&&(i*=Wl(-a));return ql(i,s,"fromValue"),new Jl(Hl,i,s)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);p(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=Kl(t);let s=n[2]||"0",i=n[3]||"";for(;i.length<r.decimals;)i+=$l;d(i.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),i=i.substring(0,r.decimals);const a=BigInt(n[1]+s+i);return ql(a,r,"fromString"),new Jl(Hl,a,r)}static fromBytes(e,t){let n=L(b(e,"value"));const r=Kl(t);return r.signed&&(n=M(n,r.width)),ql(n,r,"fromBytes"),new Jl(Hl,n,r)}}const Ql=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Yl(e){return function(e,t){let n=18;if("string"==typeof t){const e=Ql.indexOf(t);p(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=j(t,"unit"));return Jl.fromValue(e,n,{decimals:n,width:512}).toString()}(e,18)}function Zl(e){return function(e,t){p("string"==typeof e,"value must be a string","value",e);let n=18;if("string"==typeof t){const e=Ql.indexOf(t);p(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=j(t,"unit"));return Jl.fromString(e,{decimals:n,width:512}).value}(e,18)}class Xl extends jl.TZ{constructor(){super("contract_events","*",50)}enhanceActivityData(e){const t=jl.JA.safeResult(e);for(const e of t)e.user=e.user_id?{user_id:e.user_id,wallet_address:e.user_wallet_address,display_name:e.user_display_name,avatar:e.user_avatar,avatar_thumb:e.user_avatar_thumb,stored_avatar:e.user_stored_avatar,stored_avatar_thumb:e.user_stored_avatar_thumb,x_username:e.user_x_username}:void 0;return t}async fetchRecently(e){let{data:t,error:n}=await jl.JA.client.rpc("get_contract_events_recently",{last_created_at:e,max_count:this.fetchLimit});if(n)throw n;return this.enhanceActivityData(t??[])}async fetchEvent(e,t,n,r){let{data:s,error:i}=await jl.JA.client.rpc("get_contract_event",{p_chain:e,p_contract_type:t,p_block_number:n,p_log_index:r});if(i)throw i;return this.enhanceActivityData(s??[])[0]}async fetchAssetEvents(e,t,n,r){let{data:s,error:i}=await jl.JA.client.rpc("get_asset_contract_events",{p_chain:e,p_contract_type:t,p_asset_id:n,last_created_at:r,max_count:this.fetchLimit});if(i)throw i;return this.enhanceActivityData(s??[])}}const ec=new Xl,tc=["TicketCreated","TicketDeleted","Trade"];class nc extends jl._j{chain;contractType;assetId;lastCreatedAt;constructor(e,t,n){super(".asset-activity-list"),this.chain=e,this.contractType=t,this.assetId=n,this.domElement.setAttribute("data-empty-message","No activities yet")}async load(){this.append(new jl.td);const e=await ec.fetchAssetEvents(this.chain,this.contractType,this.assetId,this.lastCreatedAt);if(!this.deleted){this.empty();for(const t of e)tc.includes(t.event_name)&&new Kf(t,!1).appendTo(this);this.lastCreatedAt=e[e.length-1]?.created_at}}}function rc(e){const t=ut(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return C(t,32)}var sc;!function(e){e[e.CreatorTrade=0]="CreatorTrade",e[e.Tickets=1]="Tickets",e[e.HashtagTrade=2]="HashtagTrade"}(sc||(sc={}));const ic=sc;var ac=n(924);class oc extends jl.GI{resolve;reject;walletAddressDisplay;constructor(e,t){super(".link-wallet-confirm-popup",{barrierDismissible:!0}),this.header.append((0,jl.el)("h1",new jl.OL("add_link"),"Link Wallet")),this.main.append((0,jl.el)("p","Link your wallet using the address below. Please confirm your wallet address."),this.walletAddressDisplay=(0,jl.el)(".wallet-address",jl.yO.isPhoneSize?jl.m7.shortenEthereumAddress(e):e),(0,jl.el)("p","Would you like to continue?")),this.footer.append(new jl.zx({tag:".cancel",title:(0,jl.WI)("cancel-button"),click:()=>this.delete()}),new jl.zx({tag:".continue",title:"Continue",click:()=>{this.resolve?.(),this.reject=void 0,this.delete()}})),this.on("delete",(()=>this.reject?.("Canceled by user"))),this.onDelegate(t,"accountChanged",(async()=>{const e=await t.getAddress();e&&(this.walletAddressDisplay.text=jl.yO.isPhoneSize?jl.m7.shortenEthereumAddress(e):e)}))}async wait(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}var lc=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured for connector "${t}".`),this.name="ChainNotConfiguredForConnectorError"}},cc=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function hc(e){return"string"==typeof e?Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10):"bigint"==typeof e?Number(e):e}var uc=n(8290);function dc(e,t={}){const{fees:n=e.fees,formatters:r=e.formatters,serializers:s=e.serializers}=t;return{...e,fees:n,formatters:r,serializers:s}}const pc=dc({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),fc=dc({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0});var mc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},gc=(e,t,n)=>(mc(e,t,"read from private field"),n?n.call(e):t.get(e)),yc=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},bc=(e,t,n,r)=>(mc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vc=(e,t,n)=>(mc(e,t,"access private method"),n),wc=class extends uc{constructor({chains:e=[pc,fc],options:t}){super(),this.chains=e,this.options=t}getBlockExplorerUrls(e){const{default:t,...n}=e.blockExplorers??{};if(t)return[t.url,...Object.values(n).map((e=>e.url))]}isChainUnsupported(e){return!this.chains.some((t=>t.id===e))}setStorage(e){this.storage=e}},Ec=n(6731),kc=n(2671),xc=n(3731);class Ac extends kc.G{constructor(e,{code:t,docsPath:n,metaMessages:r,shortMessage:s}){super(s,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof xc.bs?e.code:t??-1}}class _c extends Ac{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Pc extends Ac{constructor(e){super(e,{code:Pc.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Pc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Sc extends Ac{constructor(e){super(e,{code:Sc.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Sc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Cc extends Ac{constructor(e){super(e,{code:Cc.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Cc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Tc extends Ac{constructor(e){super(e,{code:Tc.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Tc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ic extends Ac{constructor(e){super(e,{code:Ic.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Ic,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Oc extends Ac{constructor(e){super(e,{code:Oc.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Oc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Mc extends Ac{constructor(e){super(e,{code:Mc.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Mc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Dc extends Ac{constructor(e){super(e,{code:Dc.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Dc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Nc extends Ac{constructor(e){super(e,{code:Nc.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Nc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Fc extends Ac{constructor(e){super(e,{code:Fc.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Fc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Bc extends Ac{constructor(e){super(e,{code:Bc.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Bc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Rc extends Ac{constructor(e){super(e,{code:Rc.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Rc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Lc extends _c{constructor(e){super(e,{code:Lc.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Lc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class jc extends _c{constructor(e){super(e,{code:jc.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(jc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Uc extends _c{constructor(e){super(e,{code:Uc.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Uc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Gc extends _c{constructor(e){super(e,{code:Gc.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vc extends _c{constructor(e){super(e,{code:Vc.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Vc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class zc extends _c{constructor(e){super(e,{code:zc.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(zc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Hc extends Ac{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}var $c=n(589);const Wc=256;let qc,Kc=Wc;function Jc(e=11){if(!qc||Kc+e>2*Wc){qc="",Kc=0;for(let e=0;e<Wc;e++)qc+=(256+256*Math.random()|0).toString(16).substring(1)}return qc.substring(Kc,Kc+++e)}function Qc(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:i=4e3,type:a="base"}=e,o=e.chain,l=e.account?(0,$c.T)(e.account):void 0,{config:c,request:h,value:u}=e.transport({chain:o,pollingInterval:i}),d={account:l,batch:t,cacheTime:n,chain:o,key:r,name:s,pollingInterval:i,request:h,transport:{...c,...u},type:a,uid:Jc()};return Object.assign(d,{extend:function e(t){return n=>{const r=n(t);for(const e in d)delete r[e];const s={...t,...r};return Object.assign(s,{extend:e(s)})}}(d)})}var Yc=n(4702);async function Zc(e){const t=await e.request({method:"eth_chainId"});return(0,Yc.ly)(t)}var Xc=n(8138);var eh=n(1417),th=n(1466),nh=n(1778);const rh="/docs/contract/encodeDeployData";function sh({abi:e,args:t,bytecode:n}){if(!t||0===t.length)return n;const r=e.find((e=>"type"in e&&"constructor"===e.type));if(!r)throw new eh.fM({docsPath:rh});if(!("inputs"in r))throw new eh.cO({docsPath:rh});if(!r.inputs||0===r.inputs.length)throw new eh.cO({docsPath:rh});const s=(0,nh.E)(r.inputs,t);return(0,th.SM)([n,s])}class ih extends kc.G{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}var ah=n(7033);function oh({chain:e,currentChainId:t}){if(!e)throw new ah.Bk;if(t!==e.id)throw new ah.Yl({chain:e,currentChainId:t})}var lh=n(2675),ch=n(9955),hh=n(9966);var uh=n(2090),dh=n(6011);function ph(e,t,n){return r=>e[t.name||n]?.(r)??t(e,r)}var fh=n(9362),mh=n(9589);class gh extends kc.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class yh extends kc.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class bh extends kc.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,mh.o)(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class vh extends kc.G{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const wh={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Eh(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,Yc.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,Yc.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?wh[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function kh(e){const t=e.transactions?.map((e=>"string"==typeof e?e:Eh(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function xh(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){const i=r??"latest",a=s??!1,o=void 0!==n?(0,Xc.eC)(n):void 0;let l=null;if(l=t?await e.request({method:"eth_getBlockByHash",params:[t,a]}):await e.request({method:"eth_getBlockByNumber",params:[o||i,a]}),!l)throw new vh({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||kh)(l)}async function Ah(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function _h(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};if("function"==typeof r?.fees?.defaultPriorityFee){const t=n||await ph(e,xh,"getBlock")({});return r.fees.defaultPriorityFee({block:t,client:e,request:s})}if(void 0!==r?.fees?.defaultPriorityFee)return r?.fees?.defaultPriorityFee;try{const t=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,Yc.y_)(t)}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):ph(e,xh,"getBlock")({}),ph(e,Ah,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new yh;const s=r-t.baseFeePerGas;return s<0n?0n:s}}async function Ph(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},a=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new gh;const o=10**(a.toString().split(".")[1]?.length??0),l=e=>e*BigInt(Math.ceil(a*o))/BigInt(o),c=n||await ph(e,xh,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas)return r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:s,type:i});if("eip1559"===i){if("bigint"!=typeof c.baseFeePerGas)throw new yh;const t=s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await _h(e,{block:c,chain:r,request:s}),n=l(c.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:s?.gasPrice??l(await ph(e,Ah,"getGasPrice")({}))}}var Sh=n(7631);class Ch extends kc.G{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:i,gasPrice:a,maxFeePerGas:o,maxPriorityFeePerGas:l,nonce:c,to:h,value:u}){const d=(0,ch.xr)({from:t?.address,to:h,value:void 0!==u&&`${(0,Sh.d)(u)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:i,gasPrice:void 0!==a&&`${(0,mh.o)(a)} gwei`,maxFeePerGas:void 0!==o&&`${(0,mh.o)(o)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,mh.o)(l)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}async function Th(e,t){const n=t.account??e.account;if(!n)throw new ih({docsPath:"/docs/actions/public/estimateGas"});const r=(0,$c.T)(n);try{const{accessList:n,blockNumber:s,blockTag:i,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p,...f}="local"===r.type?await Oh(e,t):t,m=(s?(0,Xc.eC)(s):void 0)||i;(0,fh.F)(t);const g=e.chain?.formatters?.transactionRequest?.format,y=(g||dh.tG)({...(0,uh.K)(f,{format:g}),from:r.address,accessList:n,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p}),b=await e.request({method:"eth_estimateGas",params:m?[y,m]:[y]});return BigInt(b)}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,hh.k)(e,n);return t instanceof lh.cj?e:t})();return new Ch(r,{docsPath:t,...n})}(n,{...t,account:r,chain:e.chain})}}async function Ih(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?(0,Xc.eC)(r):n]});return(0,Yc.ly)(s)}async function Oh(e,t){const{account:n=e.account,chain:r,gas:s,nonce:i,type:a}=t;if(!n)throw new ih;const o=(0,$c.T)(n),l=await ph(e,xh,"getBlock")({blockTag:"latest"}),c={...t,from:o.address};if(void 0===i&&(c.nonce=await ph(e,Ih,"getTransactionCount")({address:o.address,blockTag:"pending"})),void 0===a)try{c.type=function(e){if(e.type)return e.type;if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new ch.j3({transaction:e})}(c)}catch{c.type="bigint"==typeof l.baseFeePerGas?"eip1559":"legacy"}if("eip1559"===c.type){const{maxFeePerGas:n,maxPriorityFeePerGas:s}=await Ph(e,{block:l,chain:r,request:c});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<s)throw new bh({maxPriorityFeePerGas:s});c.maxPriorityFeePerGas=s,c.maxFeePerGas=n}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new yh;const{gasPrice:n}=await Ph(e,{block:l,chain:r,request:c,type:"legacy"});c.gasPrice=n}return void 0===s&&(c.gas=await ph(e,Th,"estimateGas")({...c,account:{address:o.address,type:"json-rpc"}})),(0,fh.F)(c),c}async function Mh(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function Dh(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p}=t;if(!n)throw new ih({docsPath:"/docs/actions/wallet/sendTransaction"});const f=(0,$c.T)(n);try{let n;if((0,fh.F)(t),null!==r&&(n=await ph(e,Zc,"getChainId")({}),oh({currentChainId:n,chain:r})),"local"===f.type){const t=await ph(e,Oh,"prepareTransactionRequest")({account:f,accessList:s,chain:r,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p});n||(n=await ph(e,Zc,"getChainId")({}));const m=r?.serializers?.transaction,g=await f.signTransaction({...t,chainId:n},{serializer:m});return await ph(e,Mh,"sendRawTransaction")({serializedTransaction:g})}const m=e.chain?.formatters?.transactionRequest?.format,g=(m||dh.tG)({...(0,uh.K)(p,{format:m}),accessList:s,data:i,from:f.address,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d});return await e.request({method:"eth_sendTransaction",params:[g]})}catch(e){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,hh.k)(e,n);return t instanceof lh.cj?e:t})();return new ch.mk(r,{docsPath:t,...n})}(e,{...t,account:f,chain:t.chain||void 0})}}var Nh=n(8426),Fh=n(305),Bh=n(31),Rh=n(151),Lh=n(9402);const jh=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Uh=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Gh({domain:e,message:t,primaryType:n,types:r}){const s=r,i=(e,t)=>{for(const n of e){const{name:e,type:r}=n,a=r,o=t[e],l=a.match(Uh);if(l&&("number"==typeof o||"bigint"==typeof o)){const[e,t,n]=l;(0,Xc.eC)(o,{signed:"int"===t,size:parseInt(n)/8})}if("address"===a&&"string"==typeof o&&!(0,Rh.U)(o))throw new Bh.b({address:o});const c=a.match(jh);if(c){const[e,t]=c;if(t&&(0,Lh.d)(o)!==parseInt(t))throw new eh.KY({expectedSize:parseInt(t),givenSize:(0,Lh.d)(o)})}const h=s[a];h&&i(h,o)}};if(s.EIP712Domain&&e&&i(s.EIP712Domain,e),"EIP712Domain"!==n){const e=s[n];i(e,t)}}function Vh({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}var zh=n(1106);function Hh(e){return{addChain:t=>async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:a}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,Xc.eC)(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:a?Object.values(a).map((({url:e})=>e)):void 0}]})}(e,t),deployContract:t=>function(e,{abi:t,args:n,bytecode:r,...s}){return Dh(e,{...s,data:sh({abi:t,args:n,bytecode:r})})}(e,t),getAddresses:()=>async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"})).map((e=>(0,Ec.x)(e)))}(e),getChainId:()=>Zc(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"})}(e),prepareTransactionRequest:t=>Oh(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"})).map((e=>(0,Ec.K)(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}(e,t),sendRawTransaction:t=>Mh(e,t),sendTransaction:t=>Dh(e,t),signMessage:t=>async function(e,{account:t=e.account,message:n}){if(!t)throw new ih({docsPath:"/docs/actions/wallet/signMessage"});const r=(0,$c.T)(t);if("local"===r.type)return r.signMessage({message:n});const s="string"==typeof n?(0,Xc.$G)(n):n.raw instanceof Uint8Array?(0,Xc.NC)(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]})}(e,t),signTransaction:t=>async function(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ih({docsPath:"/docs/actions/wallet/signTransaction"});const i=(0,$c.T)(n);(0,fh.F)({account:i,...t});const a=await ph(e,Zc,"getChainId")({});null!==r&&oh({currentChainId:a,chain:r});const o=r?.formatters||e.chain?.formatters,l=o?.transactionRequest?.format||dh.tG;return"local"===i.type?i.signTransaction({...s,chainId:a},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(s),chainId:(0,Xc.eC)(a),from:i.address}]})}(e,t),signTypedData:t=>async function(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:i}){if(!t)throw new ih({docsPath:"/docs/actions/wallet/signTypedData"});const a=(0,$c.T)(t),o={EIP712Domain:Vh({domain:n}),...i};if(Gh({domain:n,message:r,primaryType:s,types:o}),"local"===a.type)return a.signTypedData({domain:n,primaryType:s,types:o,message:r});const l=(0,Fh.P)({domain:n??{},primaryType:s,types:o,message:r},((e,t)=>(0,Nh.v)(t)?t.toLowerCase():t));return e.request({method:"eth_signTypedData_v4",params:[a.address,l]})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,Xc.eC)(t)}]})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t})}(e,t),writeContract:t=>async function(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...a}){const o=(0,zh.R)({abi:t,args:r,functionName:i});return await ph(e,Dh,"sendTransaction")({data:`${o}${s?s.replace("0x",""):""}`,to:n,...a})}(e,t)}}function $h(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Qc({...e,key:t,name:n,transport:e=>r({...e,retryCount:0}),type:"walletClient"}).extend(Hh)}async function Wh(e){return new Promise((t=>setTimeout(t,e)))}function qh(e,{delay:t=100,retryCount:n=2,shouldRetry:r=(()=>!0)}={}){return new Promise(((s,i)=>{const a=async({count:o=0}={})=>{try{const t=await e();s(t)}catch(e){if(o<n&&await r({count:o,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:o,error:e}):t;n&&await Wh(n),a({count:o+1})})({error:e});i(e)}};a()}))}const Kh=e=>"code"in e?-1!==e.code&&-32004!==e.code&&-32005!==e.code&&-32042!==e.code&&-32603!==e.code:!!(e instanceof xc.Gg&&e.status)&&(403!==e.status&&408!==e.status&&413!==e.status&&429!==e.status&&500!==e.status&&502!==e.status&&503!==e.status&&504!==e.status);function Jh(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>qh((async()=>{try{return await e(r)}catch(e){const t=e;switch(t.code){case Pc.code:throw new Pc(t);case Sc.code:throw new Sc(t);case Cc.code:throw new Cc(t);case Tc.code:throw new Tc(t);case Ic.code:throw new Ic(t);case Oc.code:throw new Oc(t);case Mc.code:throw new Mc(t);case Dc.code:throw new Dc(t);case Nc.code:throw new Nc(t);case Fc.code:throw new Fc(t);case Bc.code:throw new Bc(t);case Rc.code:throw new Rc(t);case Lc.code:throw new Lc(t);case jc.code:throw new jc(t);case Uc.code:throw new Uc(t);case Gc.code:throw new Gc(t);case Vc.code:throw new Vc(t);case zc.code:throw new zc(t);case 5e3:throw new Lc(t);default:if(e instanceof kc.G)throw e;throw new Hc(t)}}}),{delay:({count:e,error:n})=>{if(n&&n instanceof xc.Gg){const e=n?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*parseInt(e)}return~~(1<<e)*t},retryCount:n,shouldRetry:({error:e})=>!Kh(e)})}function Qh({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:a},o){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:i,type:a},request:Jh(n,{retryCount:r,retryDelay:s}),value:o}}function Yh(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:i})=>Qh({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:s,type:"custom"})}var Zh,Xh=class extends wc{constructor({chains:e,options:t}={}){const n={shimDisconnect:!0,getProvider(){if("undefined"==typeof window)return;const e=window.ethereum;return e?.providers&&e.providers.length>0?e.providers[0]:e},...t};super({chains:e,options:n}),this.id="injected",yc(this,Zh,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,Ec.K)(e[0])})},this.onChainChanged=e=>{const t=hc(e),n=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:n}})},this.onDisconnect=async e=>{if(1013===e.code){if(await this.getProvider()){if(await this.getAccount())return}}this.emit("disconnect"),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey)};const r=n.getProvider();if("string"==typeof n.name)this.name=n.name;else if(r){const e=function(e){if(!e)return"Injected";const t=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOktoWallet?"Okto Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOneKey?"OneKey Wallet":e.isOpera?"Opera":e.isPhantom?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isSafePal?"SafePal Wallet":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0;if(e.providers?.length){const n=new Set;let r=1;for(const s of e.providers){let e=t(s);e||(e=`Unknown Wallet #${r}`,r+=1),n.add(e)}const s=[...n];return s.length?s:s[0]??"Injected"}return t(e)??"Injected"}(r);n.name?this.name=n.name(e):this.name="string"==typeof e?e:e[0]}else this.name="Injected";this.ready=!!r}async connect({chainId:e}={}){try{const t=await this.getProvider();if(!t)throw new cc;t.on&&(t.on("accountsChanged",this.onAccountsChanged),t.on("chainChanged",this.onChainChanged),t.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const n=await t.request({method:"eth_requestAccounts"}),r=(0,Ec.K)(n[0]);let s=await this.getChainId(),i=this.isChainUnsupported(s);if(e&&s!==e){s=(await this.switchChain(e)).id,i=this.isChainUnsupported(s)}return this.options.shimDisconnect&&this.storage?.setItem(this.shimDisconnectKey,!0),{account:r,chain:{id:s,unsupported:i}}}catch(e){if(this.isUserRejectedRequestError(e))throw new Lc(e);if(-32002===e.code)throw new Dc(e);throw e}}async disconnect(){const e=await this.getProvider();e?.removeListener&&(e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey))}async getAccount(){const e=await this.getProvider();if(!e)throw new cc;const t=await e.request({method:"eth_accounts"});return(0,Ec.K)(t[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new cc;return e.request({method:"eth_chainId"}).then(hc)}async getProvider(){const e=this.options.getProvider();return e&&bc(this,Zh,e),gc(this,Zh)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider(),this.getAccount()]),r=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return $h({account:n,chain:r,transport:Yh(t)})}async isAuthorized(){try{if(this.options.shimDisconnect&&!this.storage?.getItem(this.shimDisconnectKey))return!1;if(!await this.getProvider())throw new cc;return!!await this.getAccount()}catch{return!1}}async switchChain(e){const t=await this.getProvider();if(!t)throw new cc;const n=(0,Xc.eC)(e);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),new Promise((t=>this.on("change",(({chain:n})=>{n?.id===e&&t()}))))]),this.chains.find((t=>t.id===e))??{id:e,name:`Chain ${n}`,network:`${n}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(r){const s=this.chains.find((t=>t.id===e));if(!s)throw new lc({chainId:e,connectorId:this.id});if(4902===r.code||4902===r?.data?.originalError?.code)try{await t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:s.name,nativeCurrency:s.nativeCurrency,rpcUrls:[s.rpcUrls.public?.http[0]??""],blockExplorerUrls:this.getBlockExplorerUrls(s)}]});if(await this.getChainId()!==e)throw new Lc(new Error("User rejected switch after adding network."));return s}catch(e){throw new Lc(e)}if(this.isUserRejectedRequestError(r))throw new Lc(r);throw new zc(r)}}async watchAsset({address:e,decimals:t=18,image:n,symbol:r}){const s=await this.getProvider();if(!s)throw new cc;return s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,decimals:t,image:n,symbol:r}}})}isUserRejectedRequestError(e){return 4001===e.code}};Zh=new WeakMap;var eu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},tu=(e,t,n)=>(eu(e,t,"read from private field"),n?n.call(e):t.get(e)),nu=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ru=(e,t,n,r)=>(eu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),su=n(6597),iu=n(1982),au=n(6137),ou=n(2050),lu=n(1151),cu=n(935);function hu(e,t){if(!(e instanceof kc.G))return!1;const n=e.walk((e=>e instanceof cu.Lu));return n instanceof cu.Lu&&("ResolverNotFound"===n.data?.errorName||("ResolverWildcardNotSupported"===n.data?.errorName||(!!n.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&n.reason===lu.$[50])))}var uu=n(860),du=n(5031);function pu(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return(0,Nh.v)(t)?t:null}function fu(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,Xc.ci)(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=pu(n[e]),s=r?(0,uu.O0)(r):(0,du.w)((0,uu.qX)(n[e]),"bytes");t=(0,du.w)((0,th.zo)([t,s]),"bytes")}return(0,Xc.ci)(t)}function mu(e){return`[${e.slice(2)}]`}function gu(e){const t=new Uint8Array(32).fill(0);return e?pu(e)||(0,du.w)((0,uu.qX)(e)):(0,Xc.ci)(t)}function yu(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array((0,uu.qX)(t).byteLength+2);let r=0;const s=t.split(".");for(let e=0;e<s.length;e++){let t=(0,uu.qX)(s[e]);t.byteLength>255&&(t=(0,uu.qX)(mu(gu(s[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const bu=3;function vu(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:a}){const{code:o,data:l,message:c,shortMessage:h}=e instanceof cu.VQ?e:e instanceof kc.G?e.walk((e=>"data"in e))||e.walk():{},u=e instanceof eh.wb?new cu.Dk({functionName:i}):[bu,Ic.code].includes(o)&&(l||c||h)?new cu.Lu({abi:t,data:"object"==typeof l?l.data:l,functionName:i,message:h??c}):e;return new cu.uq(u,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:a})}var wu=n(8411);async function Eu(e,{abi:t,address:n,args:r,functionName:s,...i}){const a=(0,zh.R)({abi:t,args:r,functionName:s});try{const{data:o}=await ph(e,wu.R,"call")({data:a,to:n,...i});return(0,iu.k)({abi:t,args:r,functionName:s,data:o||"0x"})}catch(e){throw vu(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}class ku extends kc.G{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class xu extends kc.G{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Au extends kc.G{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class _u extends kc.G{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Pu=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Su=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Cu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Tu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Iu(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ou({uri:e,gatewayUrls:t}){const n=Cu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Iu(t?.ipfs,"https://ipfs.io"),s=Iu(t?.arweave,"https://arweave.net"),i=e.match(Pu),{protocol:a,subpath:o,target:l,subtarget:c=""}=i?.groups||{},h="ipns:/"===a||"ipns/"===o,u="ipfs:/"===a||"ipfs/"===o||Su.test(e);if(e.startsWith("http")&&!h&&!u){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((h||u)&&l)return{uri:`${r}/${h?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===a&&l)return{uri:`${s}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(Tu,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Au({uri:e})}function Mu(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ku({data:e});return e.image||e.image_url||e.image_data}async function Du({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ou({uri:t,gatewayUrls:e});if(r)return n;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e}))}}(n);if(s)return n;throw new Au({uri:t})}async function Nu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,a]=n.split(":"),[o,l]=r.split(":");if(!i||"eip155"!==i.toLowerCase())throw new xu({reason:"Only EIP-155 supported"});if(!a)throw new xu({reason:"Chain ID not found"});if(!l)throw new xu({reason:"Contract address not found"});if(!s)throw new xu({reason:"Token ID not found"});if(!o)throw new xu({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:o.toLowerCase(),contractAddress:l,tokenID:s}}(n),s=await async function(e,{nft:t}){if("erc721"===t.namespace)return Eu(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return Eu(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new _u({namespace:t.namespace})}(e,{nft:r}),{uri:i,isOnChain:a,isEncoded:o}=Ou({uri:s,gatewayUrls:t});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const e=o?atob(i.replace("data:application/json;base64,","")):i;return Du({uri:Mu(JSON.parse(e)),gatewayUrls:t})}let l=r.tokenID;"erc1155"===r.namespace&&(l=l.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then((e=>e.json()));return await Du({gatewayUrls:e,uri:Mu(n)})}catch{throw new Au({uri:t})}}({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,l)})}(e,{gatewayUrls:t,record:n}):Du({uri:n,gatewayUrls:t})}async function Fu(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,au.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await ph(e,Eu,"readContract")({address:a,abi:su.k3,functionName:"resolve",args:[(0,Xc.NC)(yu(r)),(0,zh.R)({abi:su.nZ,functionName:"text",args:[fu(r),s]})],blockNumber:t,blockTag:n});if("0x"===i[0])return null;const o=(0,iu.k)({abi:su.nZ,functionName:"text",data:i[0]});return""===o?null:o}catch(e){if(hu(e,"resolve"))return null;throw e}}function Bu(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:r,status:s,transport:i})=>{"success"===s&&t===e&&(n[r]=i.request)})),t=>n[t]||e.request}class Ru extends kc.G{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var Lu=n(4664),ju=n(1909),Uu=n(3058);function Gu({abi:e,eventName:t,args:n}){let r=e[0];if(t&&(r=(0,Uu.mE)({abi:e,args:n,name:t}),!r))throw new eh.mv(t,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==r.type)throw new eh.mv(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=(0,ju.t)(r),i=(0,Lu.e)(s);let a=[];if(n&&"inputs"in r){const e=r.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map((e=>n[e.name]))??[]:[];t.length>0&&(a=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,s)=>Vu({param:e,value:t[n][s]}))):t[n]?Vu({param:e,value:t[n]}):null))??[])}return[i,...a]}function Vu({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,du.w)((0,uu.O0)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ru(e.type);return(0,nh.E)([e],[t])}async function zu(e,{address:t,abi:n,args:r,eventName:s,fromBlock:i,strict:a,toBlock:o}){const l=Bu(e,{method:"eth_newFilter"}),c=s?Gu({abi:n,args:r,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,Xc.eC)(i):i,toBlock:"bigint"==typeof o?(0,Xc.eC)(o):o,topics:c}]});return{abi:n,args:r,eventName:s,id:h,request:l(h),strict:a,type:"event"}}async function Hu(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:a,toBlock:o}={}){const l=s??(r?[r]:void 0),c=Bu(e,{method:"eth_newFilter"});let h=[];l&&(h=[l.flatMap((e=>Gu({abi:[e],eventName:e.name,args:n})))],r&&(h=h[0]));const u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,Xc.eC)(i):i,toBlock:"bigint"==typeof o?(0,Xc.eC)(o):o,...h.length?{topics:h}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:i,id:u,request:c(u),strict:a,toBlock:o,type:"event"}}async function $u(e){const t=Bu(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}const Wu=new Map,qu=new Map;async function Ku(e,{cacheKey:t,cacheTime:n=1/0}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,Wu),r=t(e,qu);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),s=r.response.get();if(s&&n>0){if((new Date).getTime()-s.created.getTime()<n)return s.data}let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const e=await i;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}const Ju=e=>`blockNumber.${e}`;async function Qu(e,{cacheTime:t=e.cacheTime,maxAge:n}={}){const r=await Ku((()=>e.request({method:"eth_blockNumber"})),{cacheKey:Ju(e.uid),cacheTime:n??t});return BigInt(r)}var Yu=n(2549);const Zu="/docs/contract/decodeEventLog";function Xu({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[i,...a]=r;if(!i)throw new eh.FM({docsPath:Zu});const o=e.find((e=>"event"===e.type&&i===(0,Lu.e)((0,ju.t)(e))));if(!o||!("name"in o)||"event"!==o.type)throw new eh.lC(i,{docsPath:Zu});const{name:l,inputs:c}=o,h=c?.some((e=>!("name"in e&&e.name)));let u=h?[]:{};const d=c.filter((e=>"indexed"in e&&e.indexed));for(let e=0;e<d.length;e++){const t=d[e],n=a[e];if(!n)throw new eh.Gy({abiItem:o,param:t});u[t.name||e]=ed({param:t,value:n})}const p=c.filter((e=>!("indexed"in e&&e.indexed)));if(p.length>0)if(t&&"0x"!==t)try{const e=(0,Yu.r)(p,t);if(e)if(h)u=[...u,...e];else for(let t=0;t<p.length;t++)u[p[t].name]=e[t]}catch(e){if(s){if(e instanceof eh.xB)throw new eh.SM({abiItem:o,data:e.data,params:e.params,size:e.size});throw e}}else if(s)throw new eh.SM({abiItem:o,data:"0x",params:p,size:0});return{eventName:l,args:Object.values(u).length>0?u:void 0}}function ed({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return((0,Yu.r)([e],t)||[])[0]}function td(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function nd(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:a,args:o,strict:l}={}){const c=l??!1,h=a??(i?[i]:void 0);let u,d=[];return h&&(d=[h.flatMap((e=>Gu({abi:[e],eventName:e.name,args:o})))],i&&(d=d[0])),u=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:"bigint"==typeof r?(0,Xc.eC)(r):r,toBlock:"bigint"==typeof s?(0,Xc.eC)(s):s}]}),u.map((e=>{try{const{eventName:t,args:n}=h?Xu({abi:h,data:e.data,topics:e.topics,strict:c}):{eventName:void 0,args:void 0};return td(e,{args:n,eventName:t})}catch(t){let n,r;if(t instanceof eh.SM||t instanceof eh.Gy){if(c)return;n=t.abiItem.name,r=t.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return td(e,{args:r?[]:{},eventName:n})}})).filter(Boolean)}async function rd(e,{abi:t,address:n,args:r,blockHash:s,eventName:i,fromBlock:a,toBlock:o,strict:l}){const c=i?(0,Uu.mE)({abi:t,name:i}):void 0,h=c?void 0:t.filter((e=>"event"===e.type));return ph(e,nd,"getLogs")({address:n,args:r,blockHash:s,event:c,events:h,fromBlock:a,toBlock:o,strict:l})}async function sd(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?(0,Xc.eC)(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[(0,Xc.eC)(t),i||r,s]}))}async function id(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map((e=>{if("string"==typeof e)return e;try{const{eventName:r,args:s}="abi"in t&&t.abi?Xu({abi:t.abi,data:e.data,topics:e.topics,strict:n}):{eventName:void 0,args:void 0};return td(e,{args:s,eventName:r})}catch(n){let r,s;if(n instanceof eh.SM||n instanceof eh.Gy){if("strict"in t&&t.strict)return;r=n.abiItem.name,s=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return td(e,{args:s?[]:{},eventName:r})}})).filter(Boolean)}async function ad(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",a=void 0!==n?(0,Xc.eC)(n):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?(0,Yc.ly)(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map((e=>({...e,value:BigInt(e.value)})))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,s,a||i]}))}async function od(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){const a=r||"latest",o=void 0!==n?(0,Xc.eC)(n):void 0;let l=null;if(s?l=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,Xc.eC)(i)]}):(o||a)&&(l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||a,(0,Xc.eC)(i)]})),!l)throw new ch.Bh({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||Eh)(l)}const ld={"0x0":"reverted","0x1":"success"};function cd(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>td(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,Yc.ly)(e.transactionIndex):null,status:e.status?ld[e.status]:null,type:e.type?wh[e.type]||e.type:null}}async function hd(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new ch.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||cd)(n)}async function ud(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const dd="Ethereum Signed Message:\n";const pd="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";async function fd(e,{address:t,hash:n,signature:r,...s}){const i=(0,Nh.v)(r)?r:(0,Xc.NC)(r);try{const{data:r}=await ph(e,wu.R,"call")({data:sh({abi:su.$o,args:[t,n,i],bytecode:pd}),...s});return a=r??"0x0",o="0x1",ta((0,Nh.v)(a)?(0,uu.O0)(a):a,(0,Nh.v)(o)?(0,uu.O0)(o):o)}catch(e){if(e instanceof cu.cg)return!1;throw e}var a,o}async function md(e,{address:t,message:n,signature:r,...s}){const i=function(e,t){const n="string"==typeof e?(0,uu.qX)(e):e.raw instanceof Uint8Array?e.raw:(0,uu.O0)(e.raw),r=(0,uu.qX)(`${dd}${n.length}`);return(0,du.w)((0,th.zo)([r,n]),t)}(n);return fd(e,{address:t,hash:i,signature:r,...s})}function gd({domain:e,message:t,primaryType:n,types:r}){const s=void 0===e?{}:e,i={EIP712Domain:Vh({domain:s}),...r};Gh({domain:s,message:t,primaryType:n,types:i});const a=["0x1901"];return s&&a.push(function({domain:e,types:t}){return yd({data:e,primaryType:"EIP712Domain",types:t})}({domain:s,types:i})),"EIP712Domain"!==n&&a.push(yd({data:t,primaryType:n,types:i})),(0,du.w)((0,th.zo)(a))}function yd({data:e,primaryType:t,types:n}){const r=bd({data:e,primaryType:t,types:n});return(0,du.w)(r)}function bd({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[vd({primaryType:t,types:n})];for(const i of n[t]){const[t,a]=Ed({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(t),s.push(a)}return(0,nh.E)(r,s)}function vd({primaryType:e,types:t}){const n=(0,Xc.NC)(function({primaryType:e,types:t}){let n="";const r=wd({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s)n+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return n}({primaryType:e,types:t}));return(0,du.w)(n)}function wd({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===t[s])return n;n.add(s);for(const e of t[s])wd({primaryType:e.type,types:t},n);return n}function Ed({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},(0,du.w)(bd({data:r,primaryType:n,types:e}))];if("bytes"===n){return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},(0,du.w)(r)]}if("string"===n)return[{type:"bytes32"},(0,du.w)((0,Xc.NC)(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map((n=>Ed({name:t,type:s,types:e,value:n})));return[{type:"bytes32"},(0,du.w)((0,nh.E)(i.map((([e])=>e)),i.map((([,e])=>e))))]}return[{type:n},r]}const kd=new Map,xd=new Map;let Ad=0;function _d(e,t,n){const r=++Ad,s=()=>kd.get(e)||[],i=()=>{const t=xd.get(e);1===s().length&&t&&t(),(()=>{const t=s();kd.set(e,t.filter((e=>e.id!==r)))})()},a=s();if(kd.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const o={};for(const e in t)o[e]=(...t)=>{const n=s();if(0!==n.length)for(const r of n)r.fns[e]?.(...t)};const l=n(o);return"function"==typeof l&&xd.set(e,l),i}function Pd(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const o=await(n?.(a))??r;await Wh(o);const l=async()=>{s&&(await e({unpoll:i}),await Wh(r),l())};l()})(),i}function Sd(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:a=e.pollingInterval}){let o;return(void 0!==i?i:"webSocket"!==e.transport.type)?_d((0,Fh.P)(["watchBlockNumber",e.uid,t,n,a]),{onBlockNumber:r,onError:s},(r=>Pd((async()=>{try{const t=await ph(e,Qu,"getBlockNumber")({cacheTime:0});if(o){if(t===o)return;if(t-o>1&&n)for(let e=o+1n;e<t;e++)r.onBlockNumber(e,o),o=e}(!o||t>o)&&(r.onBlockNumber(t,o),o=t)}catch(e){r.onError?.(e)}}),{emitOnBegin:t,interval:a}))):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newHeads"],onData(e){if(!t)return;const n=(0,Yc.y_)(e.result?.number);r(n,o),o=n},onError(e){s?.(e)}});n=i,t||n()}catch(e){s?.(e)}})(),n})()}function Cd(e){return{call:t=>(0,wu.R)(e,t),createBlockFilter:()=>async function(e){const t=Bu(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>zu(e,t),createEventFilter:t=>Hu(e,t),createPendingTransactionFilter:()=>$u(e),estimateContractGas:t=>async function(e,{abi:t,address:n,args:r,functionName:s,...i}){const a=(0,zh.R)({abi:t,args:r,functionName:s});try{return await ph(e,Th,"estimateGas")({data:a,to:n,...i})}catch(e){const a=i.account?(0,$c.T)(i.account):void 0;throw vu(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:a?.address})}}(e,t),estimateGas:t=>Th(e,t),getBalance:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?(0,Xc.eC)(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}(e,t),getBlock:t=>xh(e,t),getBlockNumber:t=>Qu(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?(0,Xc.eC)(n):void 0;let i;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),(0,Yc.ly)(i)}(e,t),getBytecode:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?(0,Xc.eC)(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]});if("0x"!==i)return i}(e,t),getChainId:()=>Zc(e),getContractEvents:t=>rd(e,t),getEnsAddress:t=>async function(e,{blockNumber:t,blockTag:n,coinType:r,name:s,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,au.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=(0,zh.R)({abi:su.X$,functionName:"addr",...null!=r?{args:[fu(s),BigInt(r)]}:{args:[fu(s)]}}),o=await ph(e,Eu,"readContract")({address:a,abi:su.k3,functionName:"resolve",args:[(0,Xc.NC)(yu(s)),i],blockNumber:t,blockTag:n});if("0x"===o[0])return null;const l=(0,iu.k)({abi:su.X$,args:null!=r?[fu(s),BigInt(r)]:void 0,functionName:"addr",data:o[0]});return"0x"===l||"0x00"===(0,ou.f)(l)?null:l}catch(e){if(hu(e,"resolve"))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:i}){const a=await ph(e,Fu,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i});if(!a)return null;try{return await Nu(e,{record:a,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,au.L)({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const a=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const[s,o]=await ph(e,Eu,"readContract")({address:i,abi:su.du,functionName:"reverse",args:[(0,Xc.NC)(yu(a))],blockNumber:n,blockTag:r});return t.toLowerCase()!==o.toLowerCase()?null:s}catch(e){if(hu(e,"reverse"))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,au.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await ph(e,Eu,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,Xc.NC)(yu(r))],blockNumber:t,blockTag:n});return a}(e,t),getEnsText:t=>Fu(e,t),getFeeHistory:t=>sd(e,t),estimateFeesPerGas:t=>async function(e,t){return Ph(e,t)}(e,t),getFilterChanges:e=>id(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>{try{const{eventName:r,args:s}="abi"in t&&t.abi?Xu({abi:t.abi,data:e.data,topics:e.topics,strict:n}):{eventName:void 0,args:void 0};return td(e,{args:s,eventName:r})}catch(n){let r,s;if(n instanceof eh.SM||n instanceof eh.Gy){if("strict"in t&&t.strict)return;r=n.abiItem.name,s=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return td(e,{args:s?[]:{},eventName:r})}})).filter(Boolean)}(0,e),getGasPrice:()=>Ah(e),getLogs:t=>nd(e,t),getProof:t=>ad(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return _h(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=void 0!==n?(0,Xc.eC)(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}(e,t),getTransaction:t=>od(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([ph(e,Qu,"getBlockNumber")({}),t?ph(e,od,"getBlockNumber")({hash:t}):void 0]),i=n?.blockNumber||s?.blockNumber;return i?r-i+1n:0n}(e,t),getTransactionCount:t=>Ih(e,t),getTransactionReceipt:t=>hd(e,t),multicall:t=>async function(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,contracts:a,multicallAddress:o}=t,l=r??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");c=(0,au.L)({blockNumber:s,chain:e.chain,contract:"multicall3"})}const h=[[]];let u=0,d=0;for(let e=0;e<a.length;e++){const{abi:t,address:r,args:s,functionName:i}=a[e];try{const e=(0,zh.R)({abi:t,args:s,functionName:i});d+=(e.length-2)/2,l>0&&d>l&&h[u].length>0&&(u++,d=(e.length-2)/2,h[u]=[]),h[u]=[...h[u],{allowFailure:!0,callData:e,target:r}]}catch(e){const a=vu(e,{abi:t,address:r,args:s,docsPath:"/docs/contract/multicall",functionName:i});if(!n)throw a;h[u]=[...h[u],{allowFailure:!0,callData:"0x",target:r}]}}const p=await Promise.allSettled(h.map((t=>ph(e,Eu,"readContract")({abi:su.F8,address:c,args:[t],blockNumber:s,blockTag:i,functionName:"aggregate3"})))),f=[];for(let e=0;e<p.length;e++){const t=p[e];if("rejected"===t.status){if(!n)throw t.reason;for(let n=0;n<h[e].length;n++)f.push({status:"failure",error:t.reason,result:void 0});continue}const r=t.value;for(let t=0;t<r.length;t++){const{returnData:s,success:i}=r[t],{callData:o}=h[e][t],{abi:l,address:c,functionName:u,args:d}=a[f.length];try{if("0x"===o)throw new eh.wb;if(!i)throw new cu.VQ({data:s});const e=(0,iu.k)({abi:l,args:d,data:s,functionName:u});f.push(n?{result:e,status:"success"}:e)}catch(e){const t=vu(e,{abi:l,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:u});if(!n)throw t;f.push({error:t,result:void 0,status:"failure"})}}}if(f.length!==a.length)throw new kc.G("multicall results mismatch");return f}(e,t),prepareTransactionRequest:t=>Oh(e,t),readContract:t=>Eu(e,t),sendRawTransaction:t=>Mh(e,t),simulateContract:t=>async function(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...a}){const o=a.account?(0,$c.T)(a.account):void 0,l=(0,zh.R)({abi:t,args:r,functionName:i});try{const{data:o}=await ph(e,wu.R,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:n,...a});return{result:(0,iu.k)({abi:t,args:r,functionName:i,data:o||"0x"}),request:{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...a}}}catch(e){throw vu(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:o?.address})}}(e,t),verifyMessage:t=>md(e,t),verifyTypedData:t=>async function(e,{address:t,signature:n,message:r,primaryType:s,types:i,domain:a,...o}){return fd(e,{address:t,hash:gd({message:r,primaryType:s,types:i,domain:a}),signature:n,...o})}(e,t),uninstallFilter:e=>ud(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:i}){const a=(0,Fh.P)(["waitForTransactionReceipt",e.uid,n]);let o,l,c,h=!1;return new Promise(((u,d)=>{i&&setTimeout((()=>d(new ch.mc({hash:n}))),i);const p=_d(a,{onReplaced:r,resolve:u,reject:d},(r=>{const i=ph(e,Sd,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(s){if(h)return;let a=s;const u=e=>{i(),e(),p()};try{if(c){if(t>1&&(!c.blockNumber||a-c.blockNumber+1n<t))return;return void u((()=>r.resolve(c)))}if(o||(h=!0,await qh((async()=>{o=await ph(e,od,"getTransaction")({hash:n}),o.blockNumber&&(a=o.blockNumber)}),{delay:({count:e})=>200*~~(1<<e),retryCount:6}),h=!1),c=await ph(e,hd,"getTransactionReceipt")({hash:n}),t>1&&(!c.blockNumber||a-c.blockNumber+1n<t))return;u((()=>r.resolve(c)))}catch(n){if(o&&(n instanceof ch.Bh||n instanceof ch.Yb))try{l=o,h=!0;const n=await qh((()=>ph(e,xh,"getBlock")({blockNumber:a,includeTransactions:!0})),{delay:({count:e})=>200*~~(1<<e),retryCount:6,shouldRetry:({error:e})=>e instanceof vh});h=!1;const s=n.transactions.find((({from:e,nonce:t})=>e===l.from&&t===l.nonce));if(!s)return;if(c=await ph(e,hd,"getTransactionReceipt")({hash:s.hash}),t>1&&(!c.blockNumber||a-c.blockNumber+1n<t))return;let i="replaced";s.to===l.to&&s.value===l.value?i="repriced":s.from===s.to&&0n===s.value&&(i="cancelled"),u((()=>{r.onReplaced?.({reason:i,replacedTransaction:l,transaction:s,transactionReceipt:c}),r.resolve(c)}))}catch(e){u((()=>r.reject(e)))}else u((()=>r.reject(n)))}}})}))}))}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:a,poll:o,pollingInterval:l=e.pollingInterval}){const c=void 0!==o?o:"webSocket"!==e.transport.type,h=a??!1;let u;return c?_d((0,Fh.P)(["watchBlocks",e.uid,n,r,h,l]),{onBlock:s,onError:i},(s=>Pd((async()=>{try{const r=await ph(e,xh,"getBlock")({blockTag:t,includeTransactions:h});if(r.number&&u?.number){if(r.number===u.number)return;if(r.number-u.number>1&&n)for(let t=u?.number+1n;t<r.number;t++){const n=await ph(e,xh,"getBlock")({blockNumber:t,includeTransactions:h});s.onBlock(n,u),u=n}}(!u?.number||"pending"===t&&!r?.number||r.number&&r.number>u.number)&&(s.onBlock(r,u),u=r)}catch(e){s.onError?.(e)}}),{emitOnBegin:r,interval:l}))):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:r}=await e.transport.subscribe({params:["newHeads"],onData(n){if(!t)return;const r=(e.chain?.formatters?.block?.format||kh)(n.result);s(r,u),u=r},onError(e){i?.(e)}});n=r,t||n()}catch(e){i?.(e)}})(),n})()}(e,t),watchBlockNumber:t=>Sd(e,t),watchContractEvent:t=>function(e,{abi:t,address:n,args:r,batch:s=!0,eventName:i,onError:a,onLogs:o,poll:l,pollingInterval:c=e.pollingInterval,strict:h}){return(void 0!==l?l:"webSocket"!==e.transport.type)?(()=>{const l=(0,Fh.P)(["watchContractEvent",n,r,s,e.uid,i,c]),u=h??!1;return _d(l,{onLogs:o,onError:a},(a=>{let o,l,h=!1;const d=Pd((async()=>{if(h)try{let c;if(l)c=await ph(e,id,"getFilterChanges")({filter:l});else{const s=await ph(e,Qu,"getBlockNumber")({});c=o&&o!==s?await ph(e,rd,"getContractEvents")({abi:t,address:n,args:r,eventName:i,fromBlock:o+1n,toBlock:s,strict:u}):[],o=s}if(0===c.length)return;if(s)a.onLogs(c);else for(const e of c)a.onLogs([e])}catch(e){l&&e instanceof Oc&&(h=!1),a.onError?.(e)}else{try{l=await ph(e,zu,"createContractEventFilter")({abi:t,address:n,args:r,eventName:i,strict:u})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await ph(e,ud,"uninstallFilter")({filter:l}),d()}}))})():(()=>{let s=!0,l=()=>s=!1;return(async()=>{try{const c=i?Gu({abi:t,eventName:i,args:r}):[],{unsubscribe:u}=await e.transport.subscribe({params:["logs",{address:n,topics:c}],onData(e){if(!s)return;const n=e.result;try{const{eventName:e,args:r}=Xu({abi:t,data:n.data,topics:n.topics,strict:h}),s=td(n,{args:r,eventName:e});o([s])}catch(e){let t,r;if(e instanceof eh.SM||e instanceof eh.Gy){if(h)return;t=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=td(n,{args:r?[]:{},eventName:t});o([s])}},onError(e){a?.(e)}});l=u,s||l()}catch(e){a?.(e)}})(),l})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:s,events:i,onError:a,onLogs:o,poll:l,pollingInterval:c=e.pollingInterval,strict:h}){const u=void 0!==l?l:"webSocket"!==e.transport.type,d=h??!1;return u?_d((0,Fh.P)(["watchEvent",t,n,r,e.uid,s,c]),{onLogs:o,onError:a},(a=>{let o,l,h=!1;const u=Pd((async()=>{if(h)try{let c;if(l)c=await ph(e,id,"getFilterChanges")({filter:l});else{const r=await ph(e,Qu,"getBlockNumber")({});c=o&&o!==r?await ph(e,nd,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:o+1n,toBlock:r}):[],o=r}if(0===c.length)return;if(r)a.onLogs(c);else for(const e of c)a.onLogs([e])}catch(e){l&&e instanceof Oc&&(h=!1),a.onError?.(e)}else{try{l=await ph(e,Hu,"createEventFilter")({address:t,args:n,event:s,events:i,strict:d})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await ph(e,ud,"uninstallFilter")({filter:l}),u()}})):(()=>{let r=!0,l=()=>r=!1;return(async()=>{try{const c=i??(s?[s]:void 0);let u=[];c&&(u=[c.flatMap((e=>Gu({abi:[e],eventName:e.name,args:n})))],s&&(u=u[0]));const{unsubscribe:p}=await e.transport.subscribe({params:["logs",{address:t,topics:u}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=Xu({abi:c,data:t.data,topics:t.topics,strict:d}),r=td(t,{args:n,eventName:e});o([r])}catch(e){let n,r;if(e instanceof eh.SM||e instanceof eh.Gy){if(h)return;n=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=td(t,{args:r?[]:{},eventName:n});o([s])}},onError(e){a?.(e)}});l=p,r||l()}catch(e){a?.(e)}})(),l})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(void 0!==s?s:"webSocket"!==e.transport.type)?_d((0,Fh.P)(["watchPendingTransactions",e.uid,t,i]),{onTransactions:r,onError:n},(n=>{let r;const s=Pd((async()=>{try{if(!r)try{return void(r=await ph(e,$u,"createPendingTransactionFilter")({}))}catch(e){throw s(),e}const i=await ph(e,id,"getFilterChanges")({filter:r});if(0===i.length)return;if(t)n.onTransactions(i);else for(const e of i)n.onTransactions([e])}catch(e){n.onError?.(e)}}),{emitOnBegin:!0,interval:i});return async()=>{r&&await ph(e,ud,"uninstallFilter")({filter:r}),s()}})):(()=>{let t=!0,s=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});s=i,t||s()}catch(e){n?.(e)}})(),s})()}(e,t)}}function Td(e){const{key:t="public",name:n="Public Client"}=e;return Qc({...e,key:t,name:n,type:"publicClient"}).extend(Cd)}function Id(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:i,retryDelay:a}=t;return({chain:t,pollingInterval:o=4e3,timeout:l})=>{let c=e,h=()=>{};const u=Qh({key:n,name:r,async request({method:e,params:n}){const r=async(s=0)=>{const i=c[s]({chain:t,retryCount:0,timeout:l});try{const t=await i.request({method:e,params:n});return h({method:e,params:n,response:t,transport:i,status:"success"}),t}catch(t){if(h({error:t,method:e,params:n,transport:i,status:"error"}),Kh(t))throw t;if(s===c.length-1)throw t;return r(s+1)}};return r()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:e=>h=e,transports:c.map((e=>e({chain:t,retryCount:0})))});if(s){const e="object"==typeof s?s:{};!function({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:i,weights:a={}}){const{stability:o=.7,latency:l=.3}=a,c=[],h=async()=>{const a=await Promise.all(i.map((async t=>{const n=t({chain:e,retryCount:0,timeout:s}),r=Date.now();let i,a;try{await n.request({method:"net_listening"}),a=1}catch{a=0}finally{i=Date.now()}return{latency:i-r,success:a}})));c.push(a),c.length>r&&c.shift();const u=Math.max(...c.map((e=>Math.max(...e.map((({latency:e})=>e)))))),d=i.map(((e,t)=>{const n=c.map((e=>e[t].latency)),r=1-n.reduce(((e,t)=>e+t),0)/n.length/u,s=c.map((e=>e[t].success)),i=s.reduce(((e,t)=>e+t),0)/s.length;return 0===i?[0,t]:[l*r+o*i,t]})).sort(((e,t)=>t[0]-e[0]));n(d.map((([,e])=>i[e]))),await Wh(t),h()};h()}({chain:t,interval:e.interval??o,onTransports:e=>c=e,sampleCount:e.sampleCount,timeout:e.timeout,transports:c,weights:e.weights})}return u}}class Od extends kc.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var Md=n(4426);const Dd=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();function Nd(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise(((s,i)=>{(async()=>{let a;try{const o=new AbortController;n>0&&(a=setTimeout((()=>{r?o.abort():i(t)}),n)),s(await e({signal:o?.signal}))}catch(e){"AbortError"===e.name&&i(t),i(e)}finally{clearTimeout(a)}})()}))}let Fd=0;const Bd=new Map;async function Rd(e){let t=Bd.get(e);if(t)return t;const{schedule:n}=(0,Md.S)({id:e,fn:async()=>{const n=new Dd(e),r=new Map,s=new Map,i=({data:e})=>{const t=JSON.parse(e),n="eth_subscription"===t.method,i=n?t.params.subscription:t.id,a=n?s:r,o=a.get(i);o&&o({data:e}),n||a.delete(i)},a=()=>{Bd.delete(e),n.removeEventListener("close",a),n.removeEventListener("message",i)};return n.addEventListener("close",a),n.addEventListener("message",i),n.readyState===Dd.CONNECTING&&await new Promise(((e,t)=>{n&&(n.onopen=e,n.onerror=t)})),t=Object.assign(n,{requests:r,subscriptions:s}),Bd.set(e,t),[t]}}),[r,[s]]=await n();return s}const Ld={http:async function(e,{body:t,fetchOptions:n={},timeout:r=1e4}){const{headers:s,method:i,signal:a}=n;try{const o=await Nd((async({signal:o})=>await fetch(e,{...n,body:Array.isArray(t)?(0,Fh.P)(t.map((e=>({jsonrpc:"2.0",id:e.id??Fd++,...e})))):(0,Fh.P)({jsonrpc:"2.0",id:t.id??Fd++,...t}),headers:{...s,"Content-Type":"application/json"},method:i||"POST",signal:a||(r>0?o:void 0)})),{errorInstance:new xc.W5({body:t,url:e}),timeout:r,signal:!0});let l;if(l=o.headers.get("Content-Type")?.startsWith("application/json")?await o.json():await o.text(),!o.ok)throw new xc.Gg({body:t,details:(0,Fh.P)(l.error)||o.statusText,headers:o.headers,status:o.status,url:e});return l}catch(n){if(n instanceof xc.Gg)throw n;if(n instanceof xc.W5)throw n;throw new xc.Gg({body:t,details:n.message,url:e})}},webSocket:function(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new xc.c9({body:t,url:e.url,details:"Socket is closed."});const r=Fd++,s=({data:i})=>{const a=JSON.parse(i);"number"==typeof a.id&&r!==a.id||(n?.(a),"eth_subscribe"===t.method&&"string"==typeof a.result&&e.subscriptions.set(a.result,s),"eth_unsubscribe"===t.method&&e.subscriptions.delete(t.params?.[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e},webSocketAsync:async function(e,{body:t,timeout:n=1e4}){return Nd((()=>new Promise((n=>Ld.webSocket(e,{body:t,onResponse:n})))),{errorInstance:new xc.W5({body:t,url:e.url}),timeout:n})}};var jd=n(3339);const Ud=e=>(t,n,r)=>{const s=r.subscribe;r.subscribe=(e,t,n)=>{let i=e;if(t){const s=(null==n?void 0:n.equalityFn)||Object.is;let a=e(r.getState());i=n=>{const r=e(n);if(!s(a,r)){const e=a;t(a=r,e)}},(null==n?void 0:n.fireImmediately)&&t(a,a)}return s(i)};return e(t,n,r)};function Gd(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var r;const s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(s):s(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const Vd=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Vd(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>Vd(t)(e)}}},zd=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch(e){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)}),r,s);const h=Vd(i.serialize),u=()=>{const e=i.partialize({...r()});let t;const n=h({state:e,version:i.version}).then((e=>c.setItem(i.name,e))).catch((e=>{t=e}));if(t)throw t;return n},d=s.setState;s.setState=(e,t)=>{d(e,t),u()};const p=e(((...e)=>{n(...e),u()}),r,s);let f;const m=()=>{var e;if(!c)return;a=!1,o.forEach((e=>e(r())));const t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,r()))||void 0;return Vd(c.getItem.bind(c))(i.name).then((e=>{if(e)return i.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return f=i.merge(e,null!=(t=r())?t:p),n(f,!0),u()})).then((()=>{null==t||t(f,void 0),a=!0,l.forEach((e=>e(f)))})).catch((e=>{null==t||t(void 0,e)}))};return s.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),f||p})(e,t)):((e,t)=>(n,r,s)=>{let i={storage:Gd((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)}),r,s);const h=()=>{const e=i.partialize({...r()});return c.setItem(i.name,{state:e,version:i.version})},u=s.setState;s.setState=(e,t)=>{u(e,t),h()};const d=e(((...e)=>{n(...e),h()}),r,s);let p;s.getInitialState=()=>d;const f=()=>{var e,t;if(!c)return;a=!1,o.forEach((e=>{var t;return e(null!=(t=r())?t:d)}));const s=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:d))||void 0;return Vd(c.getItem.bind(c))(i.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=i.merge(e,null!=(t=r())?t:d),n(p,!0),h()})).then((()=>{null==s||s(p,void 0),p=r(),a=!0,l.forEach((e=>e(p)))})).catch((e=>{null==s||s(void 0,e)}))};return s.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>a,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||f(),p||d})(e,t),Hd=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,i={setState:r,getState:s,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,s,i);return i},$d=e=>e?Hd(e):Hd;var Wd=n(6613);function qd(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function Kd(e,t,{batch:n={multicall:{wait:32}},pollingInterval:r=4e3,rank:s,retryCount:i,retryDelay:a,stallTimeout:o}={}){if(!e.length)throw new Error("must have at least one chain");let l=[];const c={},h={};for(const n of e){let e=!1;for(const r of t){const t=r(n);t&&(e=!0,l.some((({id:e})=>e===n.id))||(l=[...l,t.chain]),c[n.id]=[...c[n.id]||[],...t.rpcUrls.http],t.rpcUrls.webSocket&&(h[n.id]=[...h[n.id]||[],...t.rpcUrls.webSocket]))}if(!e)throw new Error([`Could not find valid provider configuration for chain "${n.name}".\n`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join("\n"))}return{chains:l,publicClient:({chainId:t})=>{const h=l.find((e=>e.id===t))??e[0],u=c[h.id];if(!u||!u[0])throw new Error(`No providers configured for chain "${h.id}"`);const d=Td({batch:n,chain:h,transport:Id(u.map((e=>function(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",retryDelay:a}=t;return({chain:o,retryCount:l,timeout:c})=>{const{batchSize:h=1e3,wait:u=0}="object"==typeof n?n:{},d=t.retryCount??l,p=c??t.timeout??1e4,f=e||o?.rpcUrls.default.http[0];if(!f)throw new Od;return Qh({key:s,name:i,async request({method:t,params:s}){const i={method:t,params:s},{schedule:a}=(0,Md.S)({id:`${e}`,wait:u,shouldSplitBatch:e=>e.length>h,fn:e=>Ld.http(f,{body:e,fetchOptions:r,timeout:p}),sort:(e,t)=>e.id-t.id}),[{error:o,result:l}]=await(async e=>n?a(e):[await Ld.http(f,{body:e,fetchOptions:r,timeout:p})])(i);if(o)throw new xc.bs({body:i,error:o,url:f});return l},retryCount:d,retryDelay:a,timeout:p,type:"http"},{fetchOptions:r,url:e})}}(e,{timeout:o}))),{rank:s,retryCount:i,retryDelay:a}),pollingInterval:r});return Object.assign(d,{chains:l})},webSocketPublicClient:({chainId:t})=>{const c=l.find((e=>e.id===t))??e[0],u=h[c.id];if(!u||!u[0])return;const d=Td({batch:n,chain:c,transport:Id(u.map((e=>function(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",retryDelay:s}=t;return({chain:i,retryCount:a,timeout:o})=>{const l=t.retryCount??a,c=o??t.timeout??1e4,h=e||i?.rpcUrls.default.webSocket?.[0];if(!h)throw new Od;return Qh({key:n,name:r,async request({method:e,params:t}){const n={method:e,params:t},r=await Rd(h),{error:s,result:i}=await Ld.webSocketAsync(r,{body:n,timeout:c});if(s)throw new xc.bs({body:n,error:s,url:h});return i},retryCount:l,retryDelay:s,timeout:c,type:"webSocket"},{getSocket:()=>Rd(h),async subscribe({params:e,onData:t,onError:n}){const r=await Rd(h),{result:s}=await new Promise(((s,i)=>Ld.webSocket(r,{body:{method:"eth_subscribe",params:e},onResponse(e){if(e.error)return i(e.error),void n?.(e.error);"number"!=typeof e.id?"eth_subscription"===e.method&&t(e.params):s(e)}})));return{subscriptionId:s,unsubscribe:async()=>new Promise((e=>Ld.webSocket(r,{body:{method:"eth_unsubscribe",params:[s]},onResponse:e})))}}})}}(e,{timeout:o}))),{rank:s,retryCount:i,retryDelay:a}),pollingInterval:r});return Object.assign(d,{chains:l})}}}Error;var Jd=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured${t?` for connector "${t}"`:""}.`),this.name="ChainNotConfigured"}},Qd=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Yd=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},Zd=class extends Error{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};var Xd=(e,{find:t,replace:n})=>e&&t(e)?n(e):"object"!=typeof e?e:Array.isArray(e)?e.map((e=>Xd(e,{find:t,replace:n}))):e instanceof Object?Object.entries(e).reduce(((e,[r,s])=>({...e,[r]:Xd(s,{find:t,replace:n})})),{}):e;function ep(e){const t=JSON.parse(e);return Xd(t,{find:e=>"string"==typeof e&&e.startsWith("#bigint."),replace:e=>BigInt(e.replace("#bigint.",""))})}function tp(e){return"number"==typeof e?e:"wei"===e?0:Math.abs(jd.Bd[e])}function np(e,t){return e.slice(0,t).join(".")||"."}function rp(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function sp(e,t,n,r){return JSON.stringify(e,function(e,t){const n="function"==typeof e,r="function"==typeof t,s=[],i=[];return function(a,o){if("object"==typeof o)if(s.length){const e=rp(s,this);0===e?s[s.length]=this:(s.splice(e),i.splice(e)),i[i.length]=a;const n=rp(s,o);if(0!==n)return r?t.call(this,a,o,np(i,n)):`[ref=${np(i,n)}]`}else s[0]=o,i[0]=a;return n?e.call(this,a,o):o}}(((e,n)=>{const r="bigint"==typeof n?`#bigint.${n.toString()}`:n;return t?.(e,r)||r}),r),n??void 0)}var ip={getItem:e=>"",setItem:(e,t)=>null,removeItem:e=>null};function ap({deserialize:e=ep,key:t="wagmi",serialize:n=sp,storage:r}){return{...r,getItem:(n,s=null)=>{const i=r.getItem(`${t}.${n}`);try{return i?e(i):s}catch(e){return console.warn(e),s}},setItem:(e,s)=>{if(null===s)r.removeItem(`${t}.${e}`);else try{r.setItem(`${t}.${e}`,n(s))}catch(e){console.error(e)}},removeItem:e=>r.removeItem(`${t}.${e}`)}}var op,lp,cp,hp,up,dp="store",pp=class{constructor({autoConnect:e=!1,connectors:t=[new Xh],publicClient:n,storage:r=ap({storage:"undefined"!=typeof window?window.localStorage:ip}),logger:s={warn:console.warn},webSocketPublicClient:i}){nu(this,cp),this.publicClients=new Map,this.webSocketPublicClients=new Map,nu(this,op,void 0),nu(this,lp,void 0),this.args={autoConnect:e,connectors:t,logger:s,publicClient:n,storage:r,webSocketPublicClient:i};let a,o="disconnected";if(e)try{const e=r.getItem(dp),t=e?.state?.data;o=t?.account?"reconnecting":"connecting",a=t?.chain?.id}catch(e){}const l="function"==typeof t?t():t;var c,h,u;l.forEach((e=>e.setStorage(r))),this.store=$d(Ud(zd((()=>({connectors:l,publicClient:this.getPublicClient({chainId:a}),status:o,webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})})),{name:dp,storage:r,partialize:t=>({...e&&{data:{account:t?.data?.account,chain:t?.data?.chain}},chains:t?.chains}),version:2}))),this.storage=r,ru(this,lp,r?.getItem("wallet")),(c=this,h=cp,u=hp,eu(c,h,"access private method"),u).call(this),e&&"undefined"!=typeof window&&setTimeout((async()=>await this.autoConnect()),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){return this.data?.chain?.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(e){const t="function"==typeof e?e(this.store.getState()):e;this.store.setState(t,!0)}clearState(){this.setState((e=>({...e,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"})))}async destroy(){this.connector&&await(this.connector.disconnect?.()),ru(this,op,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(tu(this,op))return;ru(this,op,!0),this.setState((e=>({...e,status:e.data?.account?"reconnecting":"connecting"})));const e=tu(this,lp)?[...this.connectors].sort((e=>e.id===tu(this,lp)?-1:1)):this.connectors;let t=!1;for(const n of e){if(!n.ready||!n.isAuthorized)continue;if(!await n.isAuthorized())continue;const e=await n.connect();this.setState((t=>({...t,connector:n,chains:n?.chains,data:e,status:"connected"}))),t=!0;break}return t||this.setState((e=>({...e,data:void 0,status:"disconnected"}))),ru(this,op,!1),this.data}setConnectors(e){this.args={...this.args,connectors:e};const t="function"==typeof e?e():e;t.forEach((e=>e.setStorage(this.args.storage))),this.setState((e=>({...e,connectors:t})))}getPublicClient({chainId:e}={}){let t=this.publicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.publicClients.get(e??-1),t)return t;const{publicClient:n}=this.args;return t="function"==typeof n?n({chainId:e}):n,this.publicClients.set(e??-1,t),t}setPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,publicClient:e},this.publicClients.clear(),this.setState((e=>({...e,publicClient:this.getPublicClient({chainId:t})})))}getWebSocketPublicClient({chainId:e}={}){let t=this.webSocketPublicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.webSocketPublicClients.get(e??-1),t)return t;const{webSocketPublicClient:n}=this.args;return t="function"==typeof n?n({chainId:e}):n,t&&this.webSocketPublicClients.set(e??-1,t),t}setWebSocketPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,webSocketPublicClient:e},this.webSocketPublicClients.clear(),this.setState((e=>({...e,webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})})))}setLastUsedConnector(e=null){this.storage?.setItem("wallet",e)}};function fp(){if(!up)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return up}async function mp({chainId:e,connector:t}){const n=fp(),r=n.connector;if(r&&t.id===r.id)throw new Qd;try{n.setState((e=>({...e,status:"connecting"})));const r=await t.connect({chainId:e});return n.setLastUsedConnector(t.id),n.setState((e=>({...e,connector:t,chains:t?.chains,data:r,status:"connected"}))),n.storage.setItem("connected",!0),{...r,connector:t}}catch(e){throw n.setState((e=>({...e,status:e.connector?"connected":"disconnected"}))),e}}async function gp(){const e=fp();e.connector&&await e.connector.disconnect(),e.clearState(),e.storage.removeItem("connected")}op=new WeakMap,lp=new WeakMap,cp=new WeakSet,hp=function(){const e=e=>{this.setState((t=>({...t,data:{...t.data,...e}})))},t=()=>{this.clearState()},n=e=>{this.setState((t=>({...t,error:e})))};this.store.subscribe((({connector:e})=>e),((r,s)=>{s?.off?.("change",e),s?.off?.("disconnect",t),s?.off?.("error",n),r&&(r.on?.("change",e),r.on?.("disconnect",t),r.on?.("error",n))}));const{publicClient:r,webSocketPublicClient:s}=this.args;("function"==typeof r||"function"==typeof s)&&this.store.subscribe((({data:e})=>e?.chain?.id),(e=>{this.setState((t=>({...t,publicClient:this.getPublicClient({chainId:e}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:e})})))}))};var yp=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],bp=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function vp({chainId:e}={}){const t=fp();return e&&t.getPublicClient({chainId:e})||t.publicClient}async function wp({chainId:e}={}){const t=fp();return await(t.connector?.getWalletClient?.({chainId:e}))||null}async function Ep({chainId:e,contracts:t,blockNumber:n,blockTag:r,...s}){const i=vp({chainId:e});if(!i.chains)throw new Yd;if(e&&i.chain.id!==e)throw new Jd({chainId:e});return i.multicall({allowFailure:s.allowFailure??!0,blockNumber:n,blockTag:r,contracts:t})}async function kp({address:e,account:t,chainId:n,abi:r,args:s,functionName:i,blockNumber:a,blockTag:o}){return vp({chainId:n}).readContract({abi:r,address:e,account:t,functionName:i,args:s,blockNumber:a,blockTag:o})}async function xp({contracts:e,blockNumber:t,blockTag:n,...r}){const{allowFailure:s=!0}=r;try{const r=vp(),i=e.reduce(((e,t,n)=>{const s=t.chainId??r.chain.id;return{...e,[s]:[...e[s]||[],{contract:t,index:n}]}}),{}),a=()=>Object.entries(i).map((([e,r])=>Ep({allowFailure:s,chainId:parseInt(e),contracts:r.map((({contract:e})=>e)),blockNumber:t,blockTag:n}))),o=(await Promise.all(a())).flat(),l=Object.values(i).flatMap((e=>e.map((({index:e})=>e))));return o.reduce(((e,t,n)=>(e&&(e[l[n]]=t),e)),[])}catch(r){if(r instanceof cu.uq)throw r;const i=()=>e.map((e=>kp({...e,blockNumber:t,blockTag:n})));return s?(await Promise.allSettled(i())).map((e=>"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"})):await Promise.all(i())}}async function Ap({address:e,chainId:t,formatUnits:n,token:r}){const s=fp(),i=vp({chainId:t});if(r){const s=async({abi:s})=>{const i={abi:s,address:r,chainId:t},[a,o,l]=await xp({allowFailure:!1,contracts:[{...i,functionName:"balanceOf",args:[e]},{...i,functionName:"decimals"},{...i,functionName:"symbol"}]});return{decimals:o,formatted:(0,Wd.b)(a??"0",tp(n??o)),symbol:l,value:a}};try{return await s({abi:yp})}catch(e){if(e instanceof cu.uq){const{symbol:e,...t}=await s({abi:bp});return{symbol:(0,Yc.rR)((0,ou.f)(e,{dir:"right"})),...t}}throw e}}const a=[...s.publicClient.chains||[],...s.chains??[]],o=await i.getBalance({address:e}),l=a.find((e=>e.id===i.chain.id));return{decimals:l?.nativeCurrency.decimals??18,formatted:(0,Wd.b)(o??"0",tp(n??18)),symbol:l?.nativeCurrency.symbol??"ETH",value:o}}function _p(){const{data:e,connector:t,status:n}=fp();switch(n){case"connected":return{address:e?.account,connector:t,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:n};case"reconnecting":return{address:e?.account,connector:t,isConnected:!!e?.account,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:n};case"connecting":return{address:e?.account,connector:t,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:n};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:n}}}function Pp(){const e=fp(),t=e.data?.chain?.id,n=e.chains??[],r=[...e.publicClient?.chains||[],...n].find((e=>e.id===t))??{id:t,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:t?{...r,...e.data?.chain,id:t}:void 0,chains:n}}async function Sp({chainId:e}){const{connector:t}=fp();if(!t)throw new cc;if(!t.switchChain)throw new Zd({connector:t});return t.switchChain(e)}function Cp(e,{selector:t=(e=>e)}={}){return fp().subscribe((({data:e,connector:n,status:r})=>t({address:e?.account,connector:n,status:r})),(()=>e(_p())),{equalityFn:qd})}function Tp(e,{selector:t=(e=>e)}={}){return fp().subscribe((({data:e,chains:n})=>t({chainId:e?.chain?.id,chains:n})),(()=>e(Pp())),{equalityFn:qd})}async function Ip({name:e,chainId:t}){const{normalize:r}=await n.e(846).then(n.bind(n,9846)),s=vp({chainId:t});return await s.getEnsAvatar({name:r(e)})}async function Op({address:e,chainId:t}){return vp({chainId:t}).getEnsName({address:(0,Ec.K)(e)})}var Mp,Dp,Np,Fp,Bp,Rp,Lp,jp,Up,Gp,Vp,zp,Hp,$p,Wp,qp,Kp,Jp,Qp,Yp,Zp=n(2006),Xp="eip155",ef="requestedChains",tf="wallet_addEthereumChain",nf=class extends wc{constructor(e){super({...e,options:{isNewChainsStale:!0,...e.options}}),yc(this,Np),yc(this,Bp),yc(this,Lp),yc(this,Up),yc(this,Vp),yc(this,Hp),yc(this,Wp),yc(this,Kp),yc(this,Qp),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,yc(this,Mp,void 0),yc(this,Dp,void 0),this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,Ec.K)(e[0])})},this.onChainChanged=e=>{const t=Number(e),n=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:n}})},this.onDisconnect=()=>{vc(this,Hp,$p).call(this,[]),this.emit("disconnect")},this.onDisplayUri=e=>{this.emit("message",{type:"display_uri",data:e})},this.onConnect=()=>{this.emit("connect",{})},vc(this,Np,Fp).call(this)}async connect({chainId:e,pairingTopic:t}={}){try{let n=e;if(!n){const e=this.storage?.getItem("store"),t=e?.state?.data?.chain?.id;n=t&&!this.isChainUnsupported(t)?t:this.chains[0]?.id}if(!n)throw new Error("No chains found on connector.");const r=await this.getProvider();vc(this,Up,Gp).call(this);const s=vc(this,Lp,jp).call(this);if(r.session&&s&&await r.disconnect(),!r.session||s){const e=this.chains.filter((e=>e.id!==n)).map((e=>e.id));this.emit("message",{type:"connecting"}),await r.connect({pairingTopic:t,optionalChains:[n,...e]}),vc(this,Hp,$p).call(this,this.chains.map((({id:e})=>e)))}const i=await r.enable(),a=(0,Ec.K)(i[0]),o=await this.getChainId();return{account:a,chain:{id:o,unsupported:this.isChainUnsupported(o)}}}catch(e){if(/user rejected/i.test(e?.message))throw new Lc(e);throw e}}async disconnect(){const e=await this.getProvider();try{await e.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{vc(this,Vp,zp).call(this),vc(this,Hp,$p).call(this,[])}}async getAccount(){const{accounts:e}=await this.getProvider();return(0,Ec.K)(e[0])}async getChainId(){const{chainId:e}=await this.getProvider();return e}async getProvider({chainId:e}={}){return gc(this,Mp)||await vc(this,Np,Fp).call(this),e&&await this.switchChain(e),gc(this,Mp)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]),r=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return $h({account:n,chain:r,transport:Yh(t)})}async isAuthorized(){try{const[e,t]=await Promise.all([this.getAccount(),this.getProvider()]),n=vc(this,Lp,jp).call(this);if(!e)return!1;if(n&&t.session){try{await t.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(e){const t=this.chains.find((t=>t.id===e));if(!t)throw new zc(new Error("chain not found on connector."));try{const n=await this.getProvider(),r=vc(this,Kp,Jp).call(this),s=vc(this,Qp,Yp).call(this);if(!r.includes(e)&&s.includes(tf)){await n.request({method:tf,params:[{chainId:(0,Xc.eC)(t.id),blockExplorerUrls:[t.blockExplorers?.default?.url],chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[...t.rpcUrls.default.http]}]});const r=vc(this,Wp,qp).call(this);r.push(e),vc(this,Hp,$p).call(this,r)}return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,Xc.eC)(e)}]}),t}catch(e){if(/user rejected request/i.test("string"==typeof e?e:e?.message))throw new Lc(e);throw new zc(e)}}};Mp=new WeakMap,Dp=new WeakMap,Np=new WeakSet,Fp=async function(){return gc(this,Dp)||"undefined"==typeof window||bc(this,Dp,vc(this,Bp,Rp).call(this)),gc(this,Dp)},Bp=new WeakSet,Rp=async function(){const{EthereumProvider:e}=await n.e(10).then(n.bind(n,6010)),t=this.chains.map((({id:e})=>e));if(t.length){const{projectId:n,showQrModal:r=!0,qrModalOptions:s,metadata:i,relayUrl:a}=this.options;bc(this,Mp,await e.init({showQrModal:r,qrModalOptions:s,projectId:n,optionalChains:t,rpcMap:Object.fromEntries(this.chains.map((e=>[e.id,e.rpcUrls.default.http[0]]))),metadata:i,relayUrl:a}))}},Lp=new WeakSet,jp=function(){if(vc(this,Qp,Yp).call(this).includes(tf))return!1;if(!this.options.isNewChainsStale)return!1;const e=vc(this,Wp,qp).call(this),t=this.chains.map((({id:e})=>e)),n=vc(this,Kp,Jp).call(this);return!(n.length&&!n.some((e=>t.includes(e))))&&!t.every((t=>e.includes(t)))},Up=new WeakSet,Gp=function(){gc(this,Mp)&&(vc(this,Vp,zp).call(this),gc(this,Mp).on("accountsChanged",this.onAccountsChanged),gc(this,Mp).on("chainChanged",this.onChainChanged),gc(this,Mp).on("disconnect",this.onDisconnect),gc(this,Mp).on("session_delete",this.onDisconnect),gc(this,Mp).on("display_uri",this.onDisplayUri),gc(this,Mp).on("connect",this.onConnect))},Vp=new WeakSet,zp=function(){gc(this,Mp)&&(gc(this,Mp).removeListener("accountsChanged",this.onAccountsChanged),gc(this,Mp).removeListener("chainChanged",this.onChainChanged),gc(this,Mp).removeListener("disconnect",this.onDisconnect),gc(this,Mp).removeListener("session_delete",this.onDisconnect),gc(this,Mp).removeListener("display_uri",this.onDisplayUri),gc(this,Mp).removeListener("connect",this.onConnect))},Hp=new WeakSet,$p=function(e){this.storage?.setItem(ef,e)},Wp=new WeakSet,qp=function(){return this.storage?.getItem(ef)??[]},Kp=new WeakSet,Jp=function(){if(!gc(this,Mp))return[];const e=gc(this,Mp).session?.namespaces;if(!e)return[];const t=(0,Zp.fK)(e),n=t[Xp]?.chains?.map((e=>parseInt(e.split(":")[1]||"")));return n??[]},Qp=new WeakSet,Yp=function(){if(!gc(this,Mp))return[];const e=gc(this,Mp).session?.namespaces;if(!e)return[];const t=(0,Zp.fK)(e),n=t[Xp]?.methods;return n??[]};class rf{constructor(e,t){this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=gp,this.getAccount=_p,this.watchAccount=Cp,this.fetchBalance=Ap,this.getNetwork=Pp,this.watchNetwork=Tp,this.switchNetwork=Sp,this.fetchEnsName=Op,this.fetchEnsAvatar=Ip,this.wagmi=e,this.chains=t}getWalletConnectConnector(){const e=this.wagmi.connectors.find((e=>"walletConnect"===e.id));if(!e)throw new Error("WalletConnectConnector is required");return e}async connectWalletConnectProvider(e,t){return await e.getProvider(),new Promise((n=>{e.once("message",(e=>{"display_uri"===e.type&&(t(e.data),n())}))}))}getConnectorById(e){const t=this.wagmi.connectors.find((t=>t.id===e));if(!t)throw new Error(`Connector for id ${e} was not found`);return t}getConnectors(){return this.wagmi.connectors.filter((e=>!e.id.includes("walletConnect")))}async connectWalletConnect(e,t){const n=this.getWalletConnectConnector(),r={connector:n};return t&&(r.chainId=t),Promise.all([mp(r),this.connectWalletConnectProvider(n,e)])}async connectConnector(e,t){const n={connector:this.getConnectorById(e)};return t&&(n.chainId=t),await mp(n)}isInjectedProviderInstalled(){return typeof window.ethereum<"u"}safeCheckInjectedProvider(e){var t;try{const n=String(e);return Boolean(null==(t=window.ethereum)?void 0:t[n])}catch(e){return console.error(e),!1}}async getConnectedChainIds(){var e,t,n;const r=null==(t=null==(e=(await this.getWalletConnectConnector().getProvider()).signer)?void 0:e.session)?void 0:t.namespaces,s=null==(n=r?.[this.namespace])?void 0:n.methods;if(null!=s&&s.includes("wallet_addEthereumChain"))return"ALL";if(r){const e=[];return Object.keys(r).forEach((t=>{t.includes(this.namespace)&&e.push(...r[t].accounts)})),e?.map((e=>e.split(":")[1]))}return"ALL"}}function sf({projectId:e}){return function({rpc:e}){return function(t){const n=e(t);return n&&""!==n.http?{chain:{...t,rpcUrls:{...t.rpcUrls,default:{http:[n.http]}}},rpcUrls:{http:[n.http],webSocket:n.webSocket?[n.webSocket]:void 0}}:null}}({rpc:t=>{var n;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(t.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=eip155:${t.id}&projectId=${e}`}:{http:t.rpcUrls.default.http[0],webSocket:null==(n=t.rpcUrls.default.webSocket)?void 0:n[0]}}})}function af({chains:e,projectId:t}){return[new nf({chains:e,options:{projectId:t,showQrModal:!1}}),new Xh({chains:e,options:{shimDisconnect:!0}})]}var of=n(7190);class lf{constructor(e,t){this.openModal=of.jb.open,this.closeModal=of.jb.close,this.subscribeModal=of.jb.subscribe,this.setTheme=of.ThemeCtrl.setThemeConfig,this.setDefaultChain=of.OptionsCtrl.setSelectedChain,this.subscribeEvents=of.uA.subscribe,of.ThemeCtrl.setThemeConfig(e),of.Id.setEthereumClient(t),of.ConfigCtrl.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([n.e(81),n.e(953)]).then(n.bind(n,953));const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),of.OptionsCtrl.setIsUiLoaded(!0)}}}class cf extends Dl{#j;constructor(e,t){p(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,{batchMaxCount:1}),this.#j=async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){p(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#j(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#j("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}class hf extends jl.nd{web3modal;_resolveConnection;_rejectConnection;_connected=!1;get _address(){return _p().address}get type(){return"walletconnect"}constructor(){super(),this.addAllowedEvents("accountChanged")}init(e,t){const{publicClient:n}=Kd(t,[sf({projectId:e})]),r=function(e){const t=new pp(e);return up=t,t}({autoConnect:!0,connectors:af({projectId:e,chains:t}),publicClient:n}),s=new rf(r,t),i=window.getComputedStyle(document.documentElement).getPropertyValue("--primary-color");this.web3modal=new lf({projectId:e,themeMode:"dark",themeVariables:{"--w3m-accent-color":i,"--w3m-background-color":i,"--w3m-z-index":"999999"}},s),this.web3modal.subscribeModal((e=>{!1===e.open&&this._rejectConnection&&(this._rejectConnection(new Error("User closed wallet modal")),this._rejectConnection=void 0,this._resolveConnection=void 0)})),this._connected=void 0!==this._address;let a=this._address;Cp((e=>{this._connected=void 0!==e.address,this._connected&&this._resolveConnection&&(this._resolveConnection(),this._resolveConnection=void 0,this._rejectConnection=void 0),a!==e.address&&(this.fireEvent("accountChanged"),a=e.address)}))}async connect(){return void 0!==this._address?(this._connected=!0,this.fireEvent("accountChanged"),!0):(await new Promise(((e,t)=>{this._resolveConnection=e,this._rejectConnection=t,this.web3modal.openModal()})),this._connected)}async open(){await this.web3modal.openModal(),await new Promise((e=>{setTimeout((()=>e()),1e3)}))}async connected(){return this._connected}async getAddress(){return this._address}async getChainId(){return Pp().chain?.id}async signMessage(e){if(!this._address)throw new Error("Wallet is not connected");return await async function(e){const t=await wp();if(!t)throw new cc;return await t.signMessage({message:e.message})}({message:e})}async switchChain(e){await Sp({chainId:e})}async getSigner(){!0!==this._connected&&await this.connect();const e=await wp();if(!e)throw new jl.hW({title:(0,jl.WI)("no-wallet-connected-title"),message:(0,jl.WI)("no-wallet-connected-message")}),new Error("No wallet connected");const{chain:t}=Pp();if(!t)throw new jl.hW({title:(0,jl.WI)("invalid-network-title"),message:(0,jl.WI)("invalid-network-message")}),new Error("Invalid network");const{account:n,transport:r}=e,s={chainId:t.id,name:t.name,ensAddress:t.contracts?.ensRegistry?.address},i=new cf(r,s);return new Ol(i,n.address)}}const uf=new hf;class df extends jl.nd{wallets={walletconnect:uf};openConnectPopup;async findWallet(e,t){const n=await Promise.all(Object.values(this.wallets).map((async e=>({wallet:e,address:await e.getAddress(),chainId:await e.getChainId()})))),r=n.find((n=>n.address===e&&n.chainId===t));if(r)return r.wallet;const s=n.find((t=>t.address===e));return s?(s.chainId!==t&&await s.wallet.switchChain(t),s.wallet):void 0}async connect(){const e=Object.values(this.wallets);if(1===e.length)return await e[0].connect(),e[0];if(this.openConnectPopup)return await this.openConnectPopup();throw new Error("No wallet to connect")}async openWallet(e){await(this.wallets[e]?.open())}}const pf=new df;class ff extends ac.w${constructor(){super("users_public","*",50)}}const mf=new ff;class gf extends ac.EX{async fetchUser(e){return await mf.fetchUser(e)}get walletLinked(){return void 0!==this.user?.wallet_address}async signIn(){await jl.JA.signIn("twitter")}async linkWallet(){const e=await pf.connect();if(!await e.connected()&&!await e.connect())throw new Error("Wallet connection failed");const t=await e.getAddress();if(!t)throw new Error("Wallet is not connected");const{data:n,error:r}=await jl.JA.client.functions.invoke("new-wallet-linking-nonce",{body:{walletAddress:t}});if(r)throw r;await new oc(t,e).wait();const s=await e.signMessage(`${Rl.messageForWalletLinking}\n\nNonce: ${n.nonce}`),{error:i}=await jl.JA.client.functions.invoke("link-wallet-to-user",{body:{walletType:e.type,walletAddress:t,signedMessage:s}});if(i)throw i;this.user&&(this.user.wallet_address=t,this.fireEvent("walletLinked"))}async openWallet(){this.user?.wallet_type&&await pf.openWallet(this.user.wallet_type)}async getContractSigner(e){if(!this.user)throw new Error("User not signed in");if(!this.user.wallet_address)throw new Error("Wallet not linked");let t=await pf.findWallet(this.user.wallet_address,e);if(!t&&(await pf.connect(),t=await pf.findWallet(this.user.wallet_address,e),!t))throw new Error("Wallet not found");return await t.getSigner()}}const yf=new gf;class bf extends jl.GI{resolve;reject;constructor(){super(".login-required-popup",{barrierDismissible:!0}),this.header.append((0,jl.el)("h1",new jl.OL("lock"),(0,jl.WI)("login-required-title"))),this.main.append((0,jl.el)("p",(0,jl.WI)("login-required-message",{serviceName:Rl.serviceName}))),this.footer.append(new jl.zx({tag:".cancel",title:(0,jl.WI)("cancel-button"),click:()=>this.delete()}),new jl.zx({tag:".login",title:(0,jl.WI)("login-required-login-button"),click:async(e,t)=>{t.loading=!0;try{await yf.signIn(),this.resolve?.(),this.reject=void 0,this.delete()}catch(e){console.error(e),t.loading=!1}}})),this.on("delete",(()=>this.reject?.("Canceled by user")))}async wait(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class vf{abi;chain;address;viewContract;constructor(e,t,n){this.abi=e,this.chain=t,this.address=n,this.viewContract=new Vr(n,e,new Nl(t.rpc))}async getWriteContract(){if(!yf.signed)try{await(new bf).wait()}catch(e){throw new Error("Not signed in")}if(!yf.user?.wallet_address)try{await new jl.I4({title:(0,jl.WI)("no-wallet-linked-title"),message:(0,jl.WI)("no-wallet-linked-message"),confirmTitle:(0,jl.WI)("no-wallet-linked-confirm")},(async()=>await yf.linkWallet())).wait()}catch(e){throw new Error("No wallet linked")}const e=await yf.getContractSigner(this.chain.chainId);if(!e)throw new Error("No signer");return new Vr(this.address,this.abi,e)}}const wf=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"holder","type":"address"},{"indexed":true,"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"ClaimHolderFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"percent","type":"uint256"}],"name":"SetHolderFeePercent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oracle","type":"address"}],"name":"SetOracleAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"destination","type":"address"}],"name":"SetProtocolFeeDestination","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"percent","type":"uint256"}],"name":"SetProtocolFeePercent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"trader","type":"address"},{"indexed":true,"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"indexed":true,"internalType":"bool","name":"isBuy","type":"bool"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"protocolFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"holderFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"additionalFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"supply","type":"uint256"}],"name":"Trade","type":"event"},{"inputs":[{"internalType":"bytes32[]","name":"_hashtags","type":"bytes32[]"}],"name":"batchClaimHolderFees","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32[]","name":"_hashtags","type":"bytes32[]"},{"internalType":"address","name":"holder","type":"address"}],"name":"batchClaimableHolderFees","outputs":[{"internalType":"uint256[]","name":"claimableFees","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"buy","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"calculateAdditionalTokenOwnerFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"}],"name":"claimHolderFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"internalType":"address","name":"holder","type":"address"}],"name":"claimableHolderFee","outputs":[{"internalType":"uint256","name":"claimableFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"hashtags","outputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"uint256","name":"accFeePerUnit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"}],"name":"holders","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"int256","name":"feeDebt","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_baseDivider","type":"uint256"},{"internalType":"address payable","name":"_protocolFeeDestination","type":"address"},{"internalType":"uint256","name":"_protocolFeePercent","type":"uint256"},{"internalType":"uint256","name":"_holderFeePercent","type":"uint256"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"oracleAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeDestination","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashtag","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"sell","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setHolderFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_oracle","type":"address"}],"name":"setOracleAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_feeDestination","type":"address"}],"name":"setProtocolFeeDestination","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setProtocolFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');class Ef extends vf{constructor(e){super(wf.Mt,e,Rl.contractAddresses[e.chainId][ic.HashtagTrade])}async keysBalance(e,t){return(await this.viewContract.holders(rc(e),t)).balance}async claimableHolderFee(e,t){return await this.viewContract.claimableHolderFee(rc(e),t)}async batchClaimableHolderFees(e,t){return await this.viewContract.batchClaimableHolderFees(e.map((e=>rc(e))),t)}async getBuyPrice(e,t){return await this.viewContract.getBuyPrice(rc(e),t)}async getBuyPriceAfterFee(e,t){return await this.viewContract.getBuyPriceAfterFee(rc(e),t)}async getSellPrice(e,t){return await this.viewContract.getSellPrice(rc(e),t)}async getSellPriceAfterFee(e,t){return await this.viewContract.getSellPriceAfterFee(rc(e),t)}async buy(e,t){const n=await this.getWriteContract();return(await n.buy(rc(e),t,"0x",{value:await this.getBuyPriceAfterFee(e,t)})).wait()}async sell(e,t){const n=await this.getWriteContract();return(await n.sell(rc(e),t,"0x")).wait()}async batchClaimHolderFees(e){const t=await this.getWriteContract();return(await t.batchClaimHolderFees(e.map((e=>rc(e))))).wait()}}const kf=new class{getPrice(e,t,n,r){const s=Rl.chains[e].assetBaseDivider;let i,a;r?(i=0n===t?0n:(t-1n)*t*(2n*(t-1n)+1n)/6n,a=0n===t&&1n===n?0n:(t-1n+n)*(t+n)*(2n*(t-1n+n)+1n)/6n):(i=t*(t+1n)*(2n*t+1n)/6n,a=(t+n)*(t+1n+n)*(2n*(t+n)+1n)/6n);return(a-i)*Zl("1")/s}getBuyPrice(e,t,n,r){return this.getPrice(e,t,n,r)}getSellBuyPrice(e,t,n,r){return this.getPrice(e,t-n,n,r)}getBuyPriceAfterFee(e,t,n,r){const s=Rl.chains[e].assetFeePercent,i=this.getBuyPrice(e,t,n,r);return i+i*s/Zl("1")}getSellPriceAfterFee(e,t,n,r){const s=Rl.chains[e].assetFeePercent,i=this.getSellBuyPrice(e,t,n,r);return i-i*s/Zl("1")}};const xf=new class{get defaultChainSymbol(){const e=Rl.chains[Rl.defaultChain].symbol;return"string"==typeof e?e:e.clone()}};class Af extends jl.TZ{constructor(){super("hashtags","*, total_trading_volume::text",50)}async fetch(e){return await this.safeSelect((t=>t.gt("last_message_sent_at",e??jl.gz.UNIX_EPOCH_START_DATE).order("last_message_sent_at",{ascending:!1})))}async fetchLeaderboard(e){const{data:t,error:n}=await jl.JA.client.rpc("get_hashtag_leaderboard",{last_rank:e,max_count:this.fetchLimit});if(n)throw n;return jl.JA.safeResult(t??[])}async fetchSingle(e){return await this.safeSelectSingle((t=>t.eq("hashtag",e)))}async fetchAll(e){return await this.safeSelect((t=>t.in("hashtag",e)),-1)}async fetchHoldings(e){const{data:t,error:n}=await jl.JA.client.rpc("get_holding_hashtags",{p_wallet_address:e});if(n)throw n;return jl.JA.safeResult(t??[])}}const _f=new Af;class Pf extends jl.nd{store=new jl.yh("fsesf-signed-user-assets");holdingHashtags=[];constructor(){super(),this.addAllowedEvents("changed"),this.holdingHashtags=this.store.get("cached-holding-hashtags")??[]}async init(){try{await Promise.all([this.fetchHoldingHashtags()]),this.fireEvent("changed")}catch(e){console.error(e),new jl.hW({title:"Failed to fetch user assets",message:e.message})}}async fetchHoldingHashtags(){const e=yf.user?.wallet_address,t=e?await _f.fetchHoldings(e):[],n=Rl.chains[Rl.defaultChain],r=e?await new Ef(n).batchClaimableHolderFees(t.map((e=>e.hashtag)),e):[],s=[];for(let e=0;e<t.length;e++)s.push({...t[e],feeEarned:r[e].toString()});this.store.set("cached-holding-hashtags",s,!0),this.holdingHashtags=s}increaseHoldingHashtag(e,t){const n=this.holdingHashtags.find((t=>t.hashtag===e.hashtag));n?(n.balance+=t,n.is_price_up=!0):this.holdingHashtags.push({...e,is_price_up:!0,balance:t,feeEarned:"0"}),this.store.set("cached-holding-hashtags",this.holdingHashtags,!0),this.fireEvent("changed")}decreaseHoldingHashtag(e,t){const n=this.holdingHashtags.find((t=>t.hashtag===e));n&&(n.balance-=t,n.is_price_up=!1,n.balance<=0&&(this.holdingHashtags=this.holdingHashtags.filter((t=>t.hashtag!==e))),this.store.set("cached-holding-hashtags",this.holdingHashtags,!0),this.fireEvent("changed"))}clearFeeEarned(e){for(const t of e){const e=this.holdingHashtags.find((e=>e.hashtag===t));e&&(e.feeEarned="0")}this.store.set("cached-holding-hashtags",this.holdingHashtags,!0),this.fireEvent("changed")}}const Sf=new Pf;const Cf=new class{async track(e,t){await jl.JA.client.functions.invoke("track-contract-events",{body:{chain:e,contractType:t}})}};class Tf extends jl.GI{hashtagInfo;resolve;reject;priceDisplay;totalPriceDisplay1;totalPriceDisplay2;cancelButton;constructor(e){super(".buy-hashtag-popup",{barrierDismissible:!1}),this.hashtagInfo=e,this.header.append((0,jl.el)("h1",`Buy 1 ${e.hashtag}`)),this.main.append((0,jl.el)("p",`Buy 1 ${e.hashtag} for `,this.totalPriceDisplay1=(0,jl.el)("span.price",new jl.vE)),(0,jl.el)("table",(0,jl.el)("tr",(0,jl.el)("th","Price"),this.priceDisplay=(0,jl.el)("td",new jl.vE)),(0,jl.el)("tr",(0,jl.el)("th","Total (including fee)"),this.totalPriceDisplay2=(0,jl.el)("td",new jl.vE)))),this.footer.append(this.cancelButton=new jl.zx({tag:".cancel",title:(0,jl.WI)("cancel-button"),click:()=>this.delete()}),new jl.zx({tag:".buy",title:"Buy",click:async(e,t)=>{t.loading=!0,this.cancelButton.disable();try{await this.buyHashtag(),this.resolve?.(),this.reject=void 0,this.delete()}catch(e){console.error(e),t.loading=!1,this.cancelButton.enable()}}})),this.on("delete",(()=>this.reject?.("Canceled by user"))),this.fetchPrice(),this.fetchTotalPrice()}async fetchPrice(){const e=Rl.chains[Rl.defaultChain],t=await new Ef(e).getBuyPrice(this.hashtagInfo.hashtag,1n);this.priceDisplay.empty().append(jl.m7.numberWithCommas(Yl(t))," ",xf.defaultChainSymbol)}async fetchTotalPrice(){const e=Rl.chains[Rl.defaultChain],t=await new Ef(e).getBuyPriceAfterFee(this.hashtagInfo.hashtag,1n);[this.totalPriceDisplay1,this.totalPriceDisplay2].forEach((e=>e.empty().append(jl.m7.numberWithCommas(Yl(t))," ",xf.defaultChainSymbol)))}async buyHashtag(){const e=Rl.chains[Rl.defaultChain];await new Ef(e).buy(this.hashtagInfo.hashtag,1n),await Cf.track(e.name,"hashtag-trade"),Sf.increaseHoldingHashtag(this.hashtagInfo,1)}async wait(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class If extends jl.GI{infos;resolve;reject;cancelButton;constructor(e){super(".claim-hashtag-holder-fee-popup",{barrierDismissible:!0}),this.infos=e,this.header.append((0,jl.el)("h1","Claim Earned Fees"));const t=(0,jl.el)("table",(0,jl.el)("thead",(0,jl.el)("tr",(0,jl.el)("th","Hashtag"),(0,jl.el)("th","Fee Earned")))).appendTo(this.main),n=(0,jl.el)("tbody").appendTo(t);for(const t of e)(0,jl.el)("tr.hashtag",(0,jl.el)("th",t.hashtag),(0,jl.el)("td",jl.m7.numberWithCommas(Yl(t.feeEarned))," ",xf.defaultChainSymbol)).appendTo(n);const r=e.reduce(((e,t)=>e+BigInt(t.feeEarned)),0n);(0,jl.el)("tr.total",(0,jl.el)("th","Total"),(0,jl.el)("td",jl.m7.numberWithCommas(Yl(r))," ",xf.defaultChainSymbol)).appendTo(n),this.footer.append(this.cancelButton=new jl.zx({tag:".cancel",title:(0,jl.WI)("cancel-button"),click:()=>this.delete()}),new jl.zx({tag:".claim",title:"Claim",click:async(e,t)=>{t.loading=!0,this.cancelButton.disable();try{await this.claim(),this.resolve?.(),this.reject=void 0,this.delete()}catch(e){console.error(e),t.loading=!1,this.cancelButton.enable()}}})),this.on("delete",(()=>this.reject?.("Canceled by user")))}async claim(){const e=this.infos.map((e=>e.hashtag)),t=Rl.chains[Rl.defaultChain];await new Ef(t).batchClaimHolderFees(e),await Cf.track(t.name,"hashtag-trade"),Sf.clearFeeEarned(e)}async wait(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Of extends jl.TZ{constructor(){super("hashtag_holders","*",100)}async fetchHoldings(e){return await this.safeSelect((t=>t.eq("wallet_address",e)),-1)}async fetchHolders(e,t){const{data:n,error:r}=await jl.JA.client.rpc("get_hashtag_holders",{p_hashtag:e,last_balance:t,max_count:this.fetchLimit});if(r)throw r;return n}}const Mf=new Of;class Df extends jl.AE{constructor(e,t){super(".holding-hashtag-list-item");const n=jl.m7.numberWithCommas(Yl(kf.getPrice(Rl.defaultChain,BigInt(e.supply),1n,!1)));this.append((0,jl.el)(".image-container",e.image_thumb?(0,jl.el)("img.image",{src:e.image_thumb}):new jl.OL("tag")),(0,jl.el)(".info-container",(0,jl.el)(".info",(0,jl.el)("h3",e.hashtag),(0,jl.el)("span.price"+(void 0===e.is_price_up?"":e.is_price_up?".up":".down"),n," ",xf.defaultChainSymbol)),(0,jl.el)(".balance",`Balance: ${jl.m7.numberWithCommas(String(t))}`))),this.onDom("click",(()=>new Wf(e.hashtag,e)))}active(){this.addClass("active")}deactive(){this.deleteClass("active")}}class Nf extends jl._j{walletAddress;constructor(e){super(".holding-hashtag-list"),this.walletAddress=e,this.domElement.setAttribute("data-empty-message","No holdings yet")}async load(){this.append(new jl.td);const e=await _f.fetchHoldings(this.walletAddress);if(!this.deleted){this.empty();for(const t of e)new Df(t,t.balance).appendTo(this)}}}class Ff extends jl.TZ{constructor(){super("user_wallets","*, total_earned_trading_fees::text",50)}async fetch(e){return await this.safeSelectSingle((t=>t.eq("wallet_address",e)))}}const Bf=new Ff;class Rf extends jl.AE{feesEarnedDisplay;portfolioValueDisplay;constructor(){super("section.metric-section"),this.append((0,jl.el)("section.fees-earned",new jl.OL("savings"),(0,jl.el)(".value-container",(0,jl.el)("label","Fees Earned"),this.feesEarnedDisplay=(0,jl.el)(".value",new jl.vE))),(0,jl.el)("section.portfolio-value",new jl.OL("account_balance"),(0,jl.el)(".value-container",(0,jl.el)("label","Portfolio Value"),this.portfolioValueDisplay=(0,jl.el)(".value",new jl.vE))))}loadMetrics(e){e?(this.loadFeesEarned(e),this.loadPortfolioValue(e)):(this.feesEarnedDisplay.empty().append("0 ",xf.defaultChainSymbol),this.portfolioValueDisplay.empty().append("0 ",xf.defaultChainSymbol))}async loadFeesEarned(e){const t=await Bf.fetch(e);if(!this.deleted)if(t){const e=t.total_earned_trading_fees;this.feesEarnedDisplay.empty().append(jl.m7.numberWithCommas(Yl(e))," ",xf.defaultChainSymbol)}else this.feesEarnedDisplay.empty().append("0 ",xf.defaultChainSymbol)}async loadPortfolioValue(e){let t=BigInt(0);await Promise.all([(async()=>{const n=await Mf.fetchHoldings(e),r=n.map((e=>e.hashtag)),s=await _f.fetchAll(r);for(const e of n){const n=s.find((t=>t.hashtag===e.hashtag));n&&(t+=kf.getPrice(Rl.defaultChain,BigInt(n.supply),BigInt(e.last_fetched_balance),!1))}})()]),this.deleted||this.portfolioValueDisplay.empty().append(jl.m7.numberWithCommas(Yl(t))," ",xf.defaultChainSymbol)}}class Lf extends jl.y2{async track(){yf.user&&await this.channel.track({...yf.user,onlineAt:(new Date).toISOString()})}}const jf=new Lf;class Uf extends jl.AE{avatar;nameDisplay;lastSignInDisplay;constructor(e){super(".profile-section"),this.append(this.avatar=(0,jl.el)(".avatar.loading"),this.nameDisplay=(0,jl.el)("h2.name",new jl.vE),this.lastSignInDisplay=(0,jl.el)(".last-sign-in",new jl.vE)),e&&(this.user=e)}set user(e){jl.VM.selectLoadable(this.avatar.deleteClass("loading"),[e.avatar,e.stored_avatar]),this.nameDisplay.text=e.display_name??"Unknown",this.lastSignInDisplay.deleteClass("online"),jf.checkOnline(e.user_id)?(this.lastSignInDisplay.text="Online now",this.lastSignInDisplay.addClass("online")):e.last_sign_in_at&&(this.lastSignInDisplay.text="Last signed in "+jl.Em.format(e.last_sign_in_at))}}class Gf extends jl.AE{currentXUsername;constructor(e){super("section.x-section"),this.append(new jl.vE),this.xUsername=e}set xUsername(e){if(e===this.currentXUsername)return;this.currentXUsername=e,this.empty().append((0,jl.el)(".link-container",(0,jl.el)("h2","𝕏"),(0,jl.el)(".link",(0,jl.el)("a",`https://x.com/${e}`,{href:`https://x.com/${e}`,target:"_blank"}),(0,jl.el)("button.copy",new jl.OL("content_copy"),{click:(t,n)=>{navigator.clipboard.writeText(`https://x.com/${e}`),n.empty().append(new jl.OL("check"))}}))));const t=(0,jl.el)(".timeline-container").appendTo(this),n=(new jl.vE).appendTo(t);window.twttr.widgets.createTimeline({sourceType:"profile",screenName:e},t.domElement,{height:300,theme:jl.Ve.showingTheme}).then((()=>{this.deleted||n.delete()}))}}class Vf extends jl.SN{userId;profile;metric;xSection;tabs;holdingHashtagList;constructor(e,t){super(".user-info-modal",{barrierDismissible:!0}),this.userId=e,this.title="User Info",this.main.append(this.profile=new Uf(t),this.metric=new Rf,this.xSection=new Gf(t?.x_username)),this.loadUser()}async loadUser(){const e=await mf.fetchUser(this.userId);!this.deleted&&e&&(this.profile.user=e,this.metric.loadMetrics(e.wallet_address),this.xSection.xUsername=e.x_username,e.wallet_address&&(this.main.append((0,jl.el)(".holding-asset-list",this.tabs=new jl.mQ("user-info-modal",[{id:"holding-hashtags",label:"Holding Hashtags"}]),this.holdingHashtagList=new Nf(e.wallet_address))),this.tabs.on("select",(e=>{[this.holdingHashtagList].forEach((e=>e?.hide())),"holding-hashtags"===e&&this.holdingHashtagList?.show()})).init()))}}class zf extends jl.AE{constructor(e,t){super(".hashtag-holder-list-item");const n=(0,jl.el)(".avatar");jl.VM.selectLoadable(n,[e.avatar_thumb,e.stored_avatar_thumb]),this.append(n,(0,jl.el)(".name",e.display_name),(0,jl.el)(".balance",`Balance: ${jl.m7.numberWithCommas(String(t))}`)),this.onDom("click",(()=>new Vf(e.user_id,e)))}}class Hf extends jl._j{hashtag;lastBalance;constructor(e){super(".hashtag-holder-list"),this.hashtag=e,this.domElement.setAttribute("data-empty-message","No holders yet")}async load(){this.append(new jl.td);const e=await Mf.fetchHolders(this.hashtag,this.lastBalance);if(!this.deleted){this.empty();for(const t of e)new zf(t,t.balance).appendTo(this);this.lastBalance=e[e.length-1]?.balance}}}class $f extends jl.GI{hashtag;resolve;reject;priceDisplay;totalPriceDisplay1;totalPriceDisplay2;cancelButton;constructor(e){super(".sell-hashtag-popup",{barrierDismissible:!1}),this.hashtag=e,this.header.append((0,jl.el)("h1",`Sell 1 ${e}`)),this.main.append((0,jl.el)("p","You will receive ",this.totalPriceDisplay1=(0,jl.el)("span.price",new jl.vE)),(0,jl.el)("table",(0,jl.el)("tr",(0,jl.el)("th","Price"),this.priceDisplay=(0,jl.el)("td",new jl.vE)),(0,jl.el)("tr",(0,jl.el)("th","Total (excluding fee)"),this.totalPriceDisplay2=(0,jl.el)("td",new jl.vE)))),this.footer.append(this.cancelButton=new jl.zx({tag:".cancel",title:(0,jl.WI)("cancel-button"),click:()=>this.delete()}),new jl.zx({tag:".sell",title:"Sell",click:async(e,t)=>{t.loading=!0,this.cancelButton.disable();try{await this.sellHashtag(),this.resolve?.(),this.reject=void 0,this.delete()}catch(e){console.error(e),t.loading=!1,this.cancelButton.enable()}}})),this.on("delete",(()=>this.reject?.("Canceled by user"))),this.fetchPrice(),this.fetchTotalPrice()}async fetchPrice(){const e=Rl.chains[Rl.defaultChain],t=await new Ef(e).getSellPrice(this.hashtag,1n);this.priceDisplay.empty().append(jl.m7.numberWithCommas(Yl(t))," ",xf.defaultChainSymbol)}async fetchTotalPrice(){const e=Rl.chains[Rl.defaultChain],t=await new Ef(e).getSellPriceAfterFee(this.hashtag,1n);[this.totalPriceDisplay1,this.totalPriceDisplay2].forEach((e=>e.empty().append(jl.m7.numberWithCommas(Yl(t))," ",xf.defaultChainSymbol)))}async sellHashtag(){const e=Rl.chains[Rl.defaultChain];await new Ef(e).sell(this.hashtag,1n),await Cf.track(e.name,"hashtag-trade"),Sf.decreaseHoldingHashtag(this.hashtag,1)}async wait(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Wf extends jl.SN{hashtag;imageContainer;priceDisplay;tradingVolumeDisplay;balanceDisplay;feesEarnedDisplay;sellButton;claimFeesButton;tabs;holderList;activityList;_info;balance=0n;feeEarned=0n;constructor(e,t){super(".hashtag-info-modal",{barrierDismissible:!0}),this.hashtag=e,this.title=[this.imageContainer=(0,jl.el)(".image-container",new jl.OL("tag")),(0,jl.el)(".hashtag",e)],this.main.append((0,jl.el)(".actions",new jl.zx({type:jl.L$.Outlined,title:"Enter chatroom",click:()=>{this.delete(),jl.F0.go(`${Rl.hashtagOptions.baseUri}/${this.hashtag}`)}})),(0,jl.el)(".metrics",(0,jl.el)("section.price",new jl.OL("attach_money"),(0,jl.el)(".value-container",(0,jl.el)("label","Price"),this.priceDisplay=(0,jl.el)(".value",new jl.vE))),(0,jl.el)("section.trading-volume",new jl.OL("trending_up"),(0,jl.el)(".value-container",(0,jl.el)("label","Trading Volume"),this.tradingVolumeDisplay=(0,jl.el)(".value",new jl.vE))),(0,jl.el)("section.balance",new jl.OL("account_balance"),(0,jl.el)(".value-container",(0,jl.el)("label","Your Balance"),this.balanceDisplay=(0,jl.el)(".value",new jl.vE))),(0,jl.el)("section.fees-earned",new jl.OL("savings"),(0,jl.el)(".value-container",(0,jl.el)("label","Fees You've Earned"),this.feesEarnedDisplay=(0,jl.el)(".value",new jl.vE)))),(0,jl.el)(".trade",new jl.zx({tag:".buy",type:jl.L$.Contained,title:"Buy",click:async(e,t)=>{if(this._info){t.loading=!0;try{await new Tf(this._info).wait(),this.balance>0n?(this.refresh(),t.loading=!1):(this.delete(),jl.F0.go(`${Rl.hashtagOptions.baseUri}/${this.hashtag}`))}catch(e){console.error(e),t.loading=!1}}}}),this.sellButton=new jl.zx({tag:".sell",type:jl.L$.Contained,title:"Sell",click:async(e,t)=>{t.loading=!0;try{await new $f(this.hashtag).wait(),this.refresh(),t.loading=!1}catch(e){console.error(e),t.loading=!1}}}),this.claimFeesButton=new jl.zx({tag:".claim-fees",type:jl.L$.Contained,title:"Claim Fees",click:async(e,t)=>{if(this._info){t.loading=!0;try{const e={...this._info,balance:Number(this.balance),feeEarned:this.feeEarned.toString()};await new If([e]).wait(),this.loadFeesEarned(),t.loading=!1}catch(e){console.error(e),t.loading=!1}}}})),this.tabs=new jl.mQ("hashtag-info-modal",[{id:"holders",label:"Holders"},{id:"activities",label:"Activities"}]),this.holderList=new Hf(e),this.activityList=new nc(Rl.chains[Rl.defaultChain].name,"hashtag-trade",e)),this.tabs.on("select",(e=>{[this.holderList,this.activityList].forEach((e=>e?.hide())),"holders"===e?this.holderList?.show():"activities"===e&&this.activityList?.show()})).init(),t?this.info=t:this.loadInfo(),this.loadRealPrice(),this.loadBalance(),this.loadFeesEarned()}set info(e){this._info=e,this.imageContainer.empty().append(e.image_thumb?(0,jl.el)("img.image",{src:e.image_thumb}):new jl.OL("tag")),0===e.supply||0n===this.balance?this.sellButton.disable():this.sellButton.enable();const t=kf.getPrice(Rl.defaultChain,BigInt(e.supply),1n,!1);this.priceDisplay.empty().append(jl.m7.numberWithCommas(Yl(t))," ",xf.defaultChainSymbol),this.tradingVolumeDisplay.empty().append(jl.m7.numberWithCommas(Yl(e.total_trading_volume))," ",xf.defaultChainSymbol)}async loadInfo(){const e=await _f.fetchSingle(this.hashtag);e&&!this.deleted&&(this.info=e)}async loadRealPrice(){try{const e=Rl.chains[Rl.defaultChain],t=await new Ef(e).getBuyPrice(this.hashtag,1n);this.deleted||this.priceDisplay.empty().append(jl.m7.numberWithCommas(Yl(t))," ",xf.defaultChainSymbol)}catch(e){console.error(e)}}async loadBalance(){const e=yf.user?.wallet_address;if(e)try{const t=Rl.chains[Rl.defaultChain];this.balance=await new Ef(t).keysBalance(this.hashtag,e),this.deleted||(this.balanceDisplay.text=jl.m7.numberWithCommas(this.balance.toString()))}catch(e){console.error(e)}else this.balance=0n,this.balanceDisplay.empty().append("0 ",xf.defaultChainSymbol);0===this._info?.supply||0n===this.balance?this.sellButton.disable():this.sellButton.enable()}async loadFeesEarned(){const e=yf.user?.wallet_address;if(e)try{this.feesEarnedDisplay.empty().append(new jl.vE);const t=Rl.chains[Rl.defaultChain];this.feeEarned=await new Ef(t).claimableHolderFee(this.hashtag,e),this.deleted||(this.feesEarnedDisplay.empty().append(jl.m7.numberWithCommas(Yl(this.feeEarned))," ",xf.defaultChainSymbol),this.feeEarned>0n?this.claimFeesButton.enable():this.claimFeesButton.disable())}catch(e){console.error(e)}else this.feeEarned=0n,this.feesEarnedDisplay.empty().append("0 ",xf.defaultChainSymbol),this.claimFeesButton.disable()}refresh(){this.loadInfo(),this.loadRealPrice(),this.loadBalance(),this.loadFeesEarned()}}class qf extends jl.AE{userId;constructor(e,t,...n){super(".user-avatar",...n),this.userId=e,jl.VM.selectLoadable(this,t),this.checkAndShowOnline(),this.onDelegate(jf,"onlineUsersChanged",(()=>this.checkAndShowOnline()))}checkAndShowOnline(){jf.checkOnline(this.userId)?this.hasClass("online")||this.addClass("online"):this.hasClass("online")&&this.deleteClass("online")}}class Kf extends jl.AE{event;constructor(e,t){super(".activity-list-item"+(t?".new":"")),this.event=e,setTimeout((()=>{this.deleted||this.deleteClass("new")}),1e3);const n=(0,jl.el)(".asset-image",{click:()=>this.openAssetInfoModal()});"hashtag-trade"===e.contract_type&&(e.asset_image_thumb?jl.VM.selectLoadable(n,[e.asset_image_thumb]):n.append(new jl.OL("tag")));const r=(0,jl.el)("a",e.asset_name,{click:()=>this.openAssetInfoModal()});let s="";"hashtag-trade"===e.contract_type&&(s=Rl.hashtagOptions.unit);const i=e.user?new qf(e.user.user_id,[e.user.avatar_thumb,e.user.stored_avatar_thumb],{click:()=>this.openUserInfoModal()}):void 0,a=(0,jl.el)("a",e.user?e.user.display_name:jl.m7.shortenEthereumAddress(e.wallet_address),{click:()=>this.openUserInfoModal()}),o=(0,jl.el)("span.date",jl.Em.fromNow(Ll.blockToTime(e.chain,e.block_number)));if("Trade"===e.event_name){const t="true"===e.args[2],l=jl.m7.numberWithCommas(e.args[3]),c=jl.m7.numberWithCommas(Yl(e.args[4]));"1"!==l&&s&&(s+="s"),this.append((0,jl.el)("header",i,n),(0,jl.el)("main",(0,jl.el)(".description",...(0,jl.nL)(t?"activity-list-item-bought-message":"activity-list-item-sold-message",{userName:a,assetName:r,assetUnit:s,amount:l})),(0,jl.el)(".info",(0,jl.el)("span.price"+(t?".up":".down"),c," ",xf.defaultChainSymbol,", "),o)))}}openAssetInfoModal(){"hashtag-trade"===this.event.contract_type&&new Wf(this.event.asset_id,void 0)}openUserInfoModal(){this.event.user?new Vf(this.event.user.user_id,this.event.user):open(`https://etherscan.io/address/${this.event.wallet_address}`)}}const Jf=["TicketCreated","TicketDeleted","Trade"];class Qf extends jl.nd{store=new jl.yh("fsesf-activities");currentEvents=[];constructor(){super(),this.addAllowedEvents("loaded","eventAdded"),this.currentEvents=this.store.get("cached-events")??[]}async init(){jl.JA.client.channel("contract-event-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"contract_events",filter:`event_name=in.(${Jf.join(",")})`},(async e=>{const t=await ec.fetchEvent(e.new.chain,e.new.contract_type,e.new.block_number,e.new.log_index);if(t){const e=this.store.get("cached-events");e&&(e.unshift(t),this.store.set("cached-events",e,!0),this.currentEvents=e),this.fireEvent("eventAdded",t)}})).subscribe();const e=await ec.fetchRecently(void 0);this.store.set("cached-events",e,!0),this.currentEvents=e,this.fireEvent("loaded")}}const Yf=new Qf;class Zf extends jl.AE{constructor(){super(".activity-list"),this.domElement.setAttribute("data-empty-message","No activities yet"),this.render(),this.onDelegate(Yf,"loaded",(()=>this.render())),this.onDelegate(Yf,"eventAdded",(e=>new Kf(e,!0).appendTo(this,0)))}render(){this.empty();for(const e of Yf.currentEvents)new Kf(e,!1).appendTo(this)}}const Xf=new class{escape(e){const t=e.match(/\p{L}|\p{N}/gu);return null===t?"":t.join("").toLowerCase()}available(e){return ut(e).length<32}};class em extends jl.AE{input;constructor(){super("form.hashtag-search-bar"),this.append((0,jl.el)("label",new jl.OL("search"),this.input=(0,jl.el)("input",{placeholder:`Join or create a ${Rl.hashtagOptions.unit} room`,maxLength:31}))),this.onDom("submit",(e=>{e.preventDefault();const t=Xf.escape(this.input.domElement.value);jl.F0.go(`${Rl.hashtagOptions.baseUri}/${t}`),this.input.domElement.value=""}))}}class tm extends jl.TZ{constructor(){super("subscribed_hashtags","hashtag",100)}async fetchAll(e){return await this.safeSelect((t=>t.eq("user_id",e)),1e3)}async subscribe(e,t){await this.safeInsert({user_id:e,hashtag:t})}async unsubscribe(e,t){await this.safeDelete((n=>n.eq("user_id",e).eq("hashtag",t)))}}const nm=new tm;class rm extends jl.nd{subscribedHashtags=new Set;constructor(){super(),this.addAllowedEvents("subscribe","unsubscribe")}async loadSignedUserSubscribedHashtags(e){const t=await nm.fetchAll(e);for(const e of t)this.subscribedHashtags.add(e.hashtag)}async subscribe(e){const t=yf.user?.user_id;t&&(this.subscribedHashtags.add(e),this.fireEvent("subscribe",e),await nm.subscribe(t,e))}async unsubscribe(e){const t=yf.user?.user_id;t&&(this.subscribedHashtags.delete(e),this.fireEvent("unsubscribe",e),await nm.unsubscribe(t,e))}isSubscribed(e){return this.subscribedHashtags.has(e)}}const sm=new rm;class im extends jl.h_{constructor(e,t,n){super({tag:".hashtag-menu",left:t.left,top:t.top,items:[{icon:new jl.OL("info"),title:"Info",click:()=>new Wf(e,n)},sm.isSubscribed(e)?{icon:new jl.OL("notifications_off"),title:"Disable Notifications",click:()=>sm.unsubscribe(e)}:{icon:new jl.OL("notifications"),title:"Enable Notifications",click:()=>sm.subscribe(e)}]})}}class am extends jl.AE{hashtagInfo;priceDisplay;get hashtag(){return this.hashtagInfo.hashtag}constructor(e){super(".hashtag-leaderboard-item"),this.hashtagInfo=e;jl.m7.numberWithCommas(Yl(kf.getPrice(Rl.defaultChain,BigInt(e.supply),1n,!1)));this.append((0,jl.el)(".rank",String(e.rank)),(0,jl.el)(".image-container",e.image_thumb?(0,jl.el)("img.image",{src:e.image_thumb}):new jl.OL("tag")),(0,jl.el)(".info-container",(0,jl.el)(".info",(0,jl.el)("h3",e.hashtag),this.priceDisplay=(0,jl.el)("span.price")))),this.setSupply(e.supply,e.is_price_up),this.onDom("click",(()=>jl.F0.go(`${Rl.hashtagOptions.baseUri}/${e.hashtag}`,void 0,e))),this.onDom("contextmenu",(t=>{t.preventDefault(),window.getSelection()?.empty();for(const e of jl.Wl.children)e instanceof im&&e.delete();new im(e.hashtag,{left:t.clientX,top:t.clientY},e)}))}setSupply(e,t){const n=jl.m7.numberWithCommas(Yl(kf.getPrice(Rl.defaultChain,BigInt(e),1n,!1)));this.priceDisplay.deleteClass("up","down"),void 0!==t&&this.priceDisplay.addClass(t?"up":"down"),this.priceDisplay.empty().append(n," ",xf.defaultChainSymbol)}active(){this.addClass("active")}deactive(){this.deleteClass("active")}}var om;!function(e){e.App="app",e.Discord="discord",e.Telegram="telegram"}(om||(om={}));const lm=om;class cm extends jl.TZ{constructor(){super("hashtag_messages",ac.QC,100)}async upload(e){const t={files:[]};return await Promise.all(e.map((async e=>{if(yf.user)try{const n=await jl.c7.uploadAttachment("hashtag_chat_upload_files",yf.user.user_id,e,2592e3);t.files?.push({url:n,fileName:e.name,fileType:e.type,fileSize:e.size})}catch(e){throw"Payload too large"===e.error&&new jl.hW({title:(0,jl.WI)("file-too-large-alert-title"),message:(0,jl.WI)("file-too-large-alert-message",{maxFileSize:"1 MB"})}),e}}))),t}async sendMessage(e,t,n){const r=n.length?await this.upload(n):void 0;return await this.safeInsertAndSelect({source:lm.App,hashtag:e,message:t,rich:r})}async fetch(e){return await this.safeSelect((t=>t.eq("hashtag",e).order("id",{ascending:!1})))}async fetchSingle(e,t){return await this.safeSelectSingle((n=>n.eq("hashtag",e).eq("id",t)))}}const hm=new cm;class um extends jl.nd{hashtagWeights={};channel;hashtagStore=new jl.yh("fsesf-hashtags");lastSeenMessageIdStore=new jl.yh("hashtag-last-seen-message-ids");constructor(){super(),this.addAllowedEvents("messageAdded","messageSent","lastSeenMessageIdChanged","priceChanged")}manage(e,t){for(const t of e)void 0===this.hashtagWeights[t]&&(this.hashtagWeights[t]=0),this.hashtagWeights[t]+=1;for(const e of t){if(void 0===this.hashtagWeights[e])throw new Error("Hashtag not found");this.hashtagWeights[e]-=1,0===this.hashtagWeights[e]&&delete this.hashtagWeights[e]}this.channel?.unsubscribe();Object.keys(this.hashtagWeights).length>0?this.channel=jl.JA.client.channel("hashtag-message-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"hashtag_messages"},(async e=>{const t=await hm.fetchSingle(e.new.hashtag,e.new.id);t&&(this.addLastMessage(t.hashtag,{last_message_id:t.id,last_message_sender:t.author?.display_name,last_message:t.message,last_message_sent_at:t.created_at}),this.fireEvent("messageSent",t))})).subscribe():this.channel=void 0,Rl.dev&&console.log(this.hashtagWeights),this.onDelegate(Yf,"eventAdded",(e=>{if("Trade"===e.event_name&&"hashtag-trade"===e.contract_type){const t=parseInt(e.args[8]),n="true"===e.args[2],r=this.hashtagStore.get("cached-hashtags");if(r){const s=r.find((t=>t.hashtag===e.asset_id));s&&(s.supply=t,s.is_price_up=n,this.hashtagStore.set("cached-hashtags",r,!0))}this.fireEvent("priceChanged",e.asset_id,t,n)}}))}addLastMessage(e,t){const n=this.hashtagStore.get("cached-hashtags");if(n){const r=n.find((t=>t.hashtag===e));if(r)r.last_message_id=t.last_message_id,r.last_message_sender=t.last_message_sender,r.last_message=t.last_message,r.last_message_sent_at=t.last_message_sent_at;else{const r={hashtag:e,supply:0,total_trading_volume:"0",holder_count:0,last_purchased_at:jl.gz.UNIX_EPOCH_START_DATE,created_at:(new Date).toISOString(),...t};n.push(r)}this.hashtagStore.set("cached-hashtags",n,!0)}this.fireEvent("messageAdded",e,t)}setLastSeenMessageId(e,t){t>=0&&(this.lastSeenMessageIdStore.set(e,t),this.fireEvent("lastSeenMessageIdChanged",e,t))}getLastSeenMessageId(e){return this.lastSeenMessageIdStore.get(e)}}const dm=new um;class pm extends jl.AE{store=new jl.yh("hashtag-leaderboard");lastRank;activedHashtag;constructor(){super(".hashtag-leaderboard"),this.domElement.setAttribute("data-empty-message","No hashtags found");const e=this.store.get("cached-hashtags");if(e&&e.length>0)for(const t of e)this.addItem(t);this.loadHashtags(),this.onDelegate(dm,"priceChanged",((e,t,n)=>{const r=this.findItem(e);r&&r.setSupply(t,n)}))}addItem(e){if(Xf.available(e.hashtag))return new am(e).appendTo(this)}findItem(e){return this.children.find((t=>t.hashtag===e))}async loadHashtags(){const e=await _f.fetchLeaderboard(this.lastRank);if(this.store.set("cached-hashtags",e,!0),!this.deleted){this.empty();for(const t of e){const e=this.addItem(t);e&&t.hashtag===this.activedHashtag&&e.active()}}}activeHashtag(e){this.deactiveHashtag(),this.findItem(e)?.active(),this.activedHashtag=e}deactiveHashtag(){this.activedHashtag&&this.findItem(this.activedHashtag)?.deactive()}}class fm extends jl.TZ{constructor(){super("hashtag_chat_users","*",50)}async fetchByUser(e,t){return await this.safeSelect((n=>n.in("hashtag",e).eq("user_id",t)))}async updateLastSeenMessageId(e,t,n){return await this.safeUpsert((n=>n.eq("hashtag",e).eq("user_id",t)),{hashtag:e,user_id:t,last_seen_message_id:n})}}const mm=new fm;class gm extends jl.gT{hashtagInfo;imageContainer;lastMessageDisplay;priceDisplay;currentLastMessage;get hashtag(){return this.hashtagInfo.hashtag}constructor(e,t){super(".hashtag-list-item"+(t?".new":"")),this.hashtagInfo=e,setTimeout((()=>{this.deleted||this.deleteClass("new")}),1e3),this.append(this.imageContainer=(0,jl.el)(".image-container"),(0,jl.el)(".info-container",(0,jl.el)(".info",(0,jl.el)("h3",e.hashtag),this.priceDisplay=(0,jl.el)("span.price")),this.lastMessageDisplay=(0,jl.el)(".last-message"))),this.setSupply(e.supply,e.is_price_up),this.onDom("click",(()=>jl.F0.go(`${Rl.hashtagOptions.baseUri}/${e.hashtag}`,void 0,e))),Rl.dev||this.onDom("contextmenu",(t=>{t.preventDefault(),window.getSelection()?.empty();for(const e of jl.Wl.children)e instanceof im&&e.delete();new im(e.hashtag,{left:t.clientX,top:t.clientY},e)})),this.icon=e.image_thumb,this.lastMessage=e}set icon(e){this.imageContainer.empty().append(e?(0,jl.el)("img.image",{src:e}):new jl.OL("tag"))}set lastMessage(e){this.currentLastMessage=e;const t=dm.getLastSeenMessageId(this.hashtagInfo.hashtag),n=void 0!==e.last_message_id&&void 0!==t?e.last_message_id-t:0;this.lastMessageDisplay.empty().append((0,jl.el)(".sender",e.last_message_sender?e.last_message_sender+":":void 0),(0,jl.el)(".message",e.last_message?.replace(/\n/g," ")),n>0?(0,jl.el)(".new-message-count",String(n)):(0,jl.el)(".sent-at",e.last_message_sent_at===jl.gz.NEGATIVE_INFINITY?"":jl.Em.fromNow(e.last_message_sent_at)))}refreshLastMessage(){this.lastMessage=this.currentLastMessage}setSupply(e,t){const n=jl.m7.numberWithCommas(Yl(kf.getPrice(Rl.defaultChain,BigInt(e),1n,!1)));this.priceDisplay.deleteClass("up","down"),void 0!==t&&this.priceDisplay.addClass(t?"up":"down"),this.priceDisplay.empty().append(n," ",xf.defaultChainSymbol)}get sortValue(){return this.currentLastMessage.last_message_sent_at===jl.gz.NEGATIVE_INFINITY?0:new Date(this.currentLastMessage.last_message_sent_at).getTime()}active(){this.addClass("active")}deactive(){this.deleteClass("active")}}class ym extends jl.pp{store=new jl.yh("fsesf-hashtags");lastMessageSentAt;managingHashtags=[];activedHashtag;constructor(){super(".hashtag-list"),this.domElement.setAttribute("data-empty-message","No hashtags found");const e=this.store.get("cached-hashtags");if(e&&e.length>0){for(const t of e)this.addItem(t,!1);this.sortItems(!1)}this.managingHashtags=e?e.map((e=>e.hashtag)):[],dm.manage(this.managingHashtags,[]),this.loadHashtags(),this.onDelegate(dm,"messageAdded",((e,t)=>{const n=this.findItem(e);if(n)n.lastMessage=t;else{const n={hashtag:e,supply:0,total_trading_volume:"0",holder_count:0,last_purchased_at:jl.gz.UNIX_EPOCH_START_DATE,created_at:(new Date).toISOString(),...t},r=this.addItem(n,!0);r&&e===this.activedHashtag&&r.active()}this.sortItems(!1)})),this.onDelegate(dm,"lastSeenMessageIdChanged",(e=>{const t=this.findItem(e);t?.refreshLastMessage()})),this.onDelegate(dm,"priceChanged",((e,t,n)=>{const r=this.findItem(e);r&&r.setSupply(t,n)}))}addItem(e,t){if(Xf.available(e.hashtag))return new gm(e,t).appendTo(this)}findItem(e){return this.children.find((t=>t.hashtag===e))}async loadHashtags(){const e=await _f.fetch(this.lastMessageSentAt);if(this.store.set("cached-hashtags",e,!0),this.loadLastSeenMessageIds(e.map((e=>e.hashtag))),!this.deleted){for(const t of e){if(!this.managingHashtags.includes(t.hashtag))this.addItem(t,!0);else{const e=this.findItem(t.hashtag);e&&(e.icon=t.image_thumb,e.lastMessage=t,e.setSupply(t.supply,t.is_price_up))}}this.lastMessageSentAt=e[e.length-1]?.last_message_sent_at;const t=this.managingHashtags;this.managingHashtags=e.map((e=>e.hashtag));for(const e of t)this.managingHashtags.includes(e)||this.findItem(e)?.delete();this.sortItems(!1),dm.manage(this.managingHashtags,t)}}async loadLastSeenMessageIds(e){const t=yf.user?.user_id;if(t){const n=await mm.fetchByUser(e,t);for(const e of n)dm.setLastSeenMessageId(e.hashtag,e.last_seen_message_id)}}async loadMore(){}delete(){dm.manage([],this.managingHashtags),super.delete()}activeHashtag(e){this.deactiveHashtag(),this.findItem(e)?.active(),this.activedHashtag=e}deactiveHashtag(){this.activedHashtag&&this.findItem(this.activedHashtag)?.deactive()}}class bm extends jl.kj{hashtag;input;constructor(e,t){super(".hashtag-message-form"),this.hashtag=e,this.addAllowedEvents("send"),this.append(this.uploadPreviewArea=(0,jl.el)(".upload-preview-area"),(0,jl.el)("main",(0,jl.el)("section.rich",new jl.zx({type:jl.L$.Circle,tag:".attachment",icon:new jl.OL("attach_file"),click:()=>this.openFileSelector()})),(0,jl.el)("form",(0,jl.el)(".input-container",this.input=new jl.Ao({tag:"p.message-input",contenteditable:!0},(e=>this.appendFiles(e))),{click:()=>this.input.domElement.focus()}),new jl.zx({type:jl.L$.Circle,tag:".send",icon:new jl.OL("send")}),{submit:e=>this.submit(e)}))),this.input.onDom("keydown",(e=>{"Enter"!==e.key||e.shiftKey||229===e.keyCode||this.submit(e)})),this.input.onDom("focus",(()=>{yf.signed||(new bf,this.input.domElement.blur())})),yf.signed&&t&&this.on("visible",(()=>this.input.domElement.focus()))}submit(e){e.preventDefault();const t=this.input.domElement.innerText;t&&(this.sendMessage(t,this.toUploadFiles),this.input.domElement.innerText="",this.clearUploads())}async sendMessage(e,t){if(e.length>1e3)return void new jl.hW({title:(0,jl.WI)("message-too-long-alert-title"),message:(0,jl.WI)("message-too-long-alert-message",{maxLength:1e3})});if(!yf.signed)throw new bf,new Error("You must be signed in to send messages");this.fireEvent("send",e,t);const n=await hm.sendMessage(this.hashtag,e,t);dm.setLastSeenMessageId(this.hashtag,n.id)}}class vm extends jl.AE{richDisplay;currentMessage;constructor(e,t,n){super(".hashtag-message-display"+(t?".new":"")+(n?".waiting":"")),this.addAllowedEvents("imageLoaded"),this.render(e)}render(e){this.currentMessage?.message===e.message&&this.currentMessage?.rich===e.rich||(this.empty().append(e.rich?this.richDisplay=new jl.Fi(e.rich):void 0,(0,jl.el)(".message-container",(0,jl.el)("p.message",e.message),(0,jl.el)(".date",jl.Em.fromNow(e.created_at)))),this.richDisplay?.on("imageLoaded",(e=>this.fireEvent("imageLoaded",e))),e.author&&e.author.user_id===yf.user?.user_id&&this.addClass("authored"))}done(){this.deleteClass("waiting")}}class wm extends jl.AE{messages;lastMessage;messageList;messageDisplays=new Map;constructor(e,t,n){super(".hashtag-message-list-item"),this.messages=e,this.addAllowedEvents("imageLoaded");const r=e[0];if(this.lastMessage=e[e.length-1],r){const s=new qf(r.author?r.author.user_id:r.external_author_id,[r.author?.avatar_thumb,r.author?.stored_avatar_thumb,r.external_author_avatar],{click:e=>this.openAuthorProfile(e)}),i=(0,jl.el)(".author",(0,jl.el)("h5.name",r.author?r.author.display_name:r.external_author_name,{click:e=>this.openAuthorProfile(e)})),a=e.map((e=>this.createDisplay(e,t,n)));this.append(s,(0,jl.el)("main",i,this.messageList=(0,jl.el)("ul",...a))),r.author&&r.author.user_id===yf.user?.user_id&&this.addClass("authored")}}openAuthorProfile(e){e.stopPropagation();const t=this.messages[0]?.author;t&&new Vf(t.user_id,t)}createDisplay(e,t,n){const r=new vm(e,t,n).on("imageLoaded",(e=>this.fireEvent("imageLoaded",e)));return this.messageDisplays.set(e.id,r),r}addNewMessage(e,t){if(this.messageList){const n=this.messageDisplays.get(e.id);n?n.render(e):(this.createDisplay(e,!0,t).appendTo(this.messageList),this.lastMessage=e)}}getDisplay(e){return this.messageDisplays.get(e)}replaceMessageId(e,t){const n=this.messageDisplays.get(e);n&&(n.done(),this.messageDisplays.delete(e),this.messageDisplays.set(t,n))}}const Em=new class{groupByAuthor(e){const t=[];let n=[],r=null,s=null;for(const i of e){const e=new Date(i.created_at),a=i.author?i.author.user_id:i.external_author_id;(a!==r||s&&e.getTime()-s.getTime()>=6e4)&&(n.length>0&&t.push(n),n=[]),n.push(i),r=a,s=e}return n.length>0&&t.push(n),t}};class km extends jl.AE{hashtag;store;items=new Map;tempMessages=[];nextTempMessageId=-1;constructor(e){super(".hashtag-message-list"),this.hashtag=e,this.store=new jl.yh(`hashtag-${e}-chat-messages`),this.domElement.setAttribute("data-empty-message","No messages");const t=this.store.get("cached-messages");if(t&&t.length>0){const e=Em.groupByAuthor(t);for(const t of e)this.addItem(t,!1,!1)}this.on("visible",(()=>{this.style({display:"none"}),setTimeout((()=>{this.deleted||(this.style({display:"flex"}),this.scrollToBottom())}))})),this.loadMessages(),this.onDelegate(dm,"messageSent",(e=>{if(e.hashtag===this.hashtag){const t=this.tempMessages.findIndex((t=>t.author?.user_id===e.author?.user_id&&t.message===e.message)),n=this.tempMessages[t];n?(this.replaceMessageId(n.id,e.id),this.tempMessages.splice(t,1)):this.addNewMessage(e,!1);const r=this.store.get("cached-messages")??[];r.push(e),this.store.set("cached-messages",r,!0)}}))}async loadMessages(){const e=(await hm.fetch(this.hashtag)).reverse();if(this.store.set("cached-messages",e,!0),!this.deleted){const t=Em.groupByAuthor(e);for(const e of t)this.addItem(e,!0,!1);this.scrollToBottom();const n=e[e.length-1];n&&this.updateLastSeenMessageId(n.id)}}updateLastSeenMessageId(e){const t=yf.user?.user_id;t&&(dm.setLastSeenMessageId(this.hashtag,e),mm.updateLastSeenMessageId(this.hashtag,t,e))}addItem(e,t,n){let r;for(const t of e)if(r=this.items.get(t.id),r)break;if(!r){const r=new wm(e,t,n).appendTo(this).on("imageLoaded",(e=>this.checkAndScrollToBottom(e)));for(const t of e)this.items.set(t.id,r);return r}for(const t of e)r.addNewMessage(t,n)}addNewMessage(e,t){const n=this.children.length?this.children[this.children.length-1]:void 0,r=n?.lastMessage?.author?n.lastMessage.author.user_id:n?.lastMessage?.external_author_id,s=e.author?e.author.user_id:e.external_author_id,i=n?.lastMessage?.created_at?new Date(n.lastMessage.created_at):void 0,a=new Date(e.created_at);r!==s||i&&a.getTime()-i.getTime()>=6e4?this.addItem([e],!0,t):n&&(n.addNewMessage(e,t),this.items.set(e.id,n)),this.updateLastSeenMessageId(e.id),this.checkAndScrollToBottom()}checkAndScrollToBottom(e=0){this.domElement.scrollTop>=this.domElement.scrollHeight-this.domElement.clientHeight-100-e&&this.scrollToBottom()}scrollToBottom(){this.domElement.scrollTo(0,this.domElement.scrollHeight)}replaceMessageId(e,t){const n=this.items.get(e);n&&(n.replaceMessageId(e,t),this.items.delete(e),this.items.set(t,n))}addTempMessage(e,t){const n={hashtag:this.hashtag,id:this.nextTempMessageId-=1,source:lm.App,author:yf.user,message:e,rich:{files:t.map((e=>({fileName:e.name,fileSize:e.size,fileType:e.type,url:URL.createObjectURL(e)})))},created_at:(new Date).toISOString()};this.tempMessages.push(n),this.addNewMessage(n,!0)}}class xm extends jl.AE{hashtag;imageContainer;infoContainer;_info;constructor(e,t){super(".hashtag-room-title-bar"),this.hashtag=e,this.append(new jl.zx({tag:".back",type:jl.L$.Circle,icon:new jl.OL("arrow_back"),click:()=>1===history.length?jl.F0.goNoHistory("/"):history.back()}),this.imageContainer=(0,jl.el)(".image-container",new jl.OL("tag"),{click:()=>new Wf(e,this.info)}),this.infoContainer=(0,jl.el)(".info-container",(0,jl.el)("h1",e),{click:()=>new Wf(e,this.info)}),new jl.zx({tag:".menu",type:jl.L$.Circle,icon:new jl.OL("menu"),click:(n,r)=>{n.stopPropagation();const s=r.rect;new im(e,{left:s.right-200,top:s.bottom},t)}})),t?this.info=t:this.loadInfo(),this.onDelegate(Yf,"eventAdded",(e=>{"Trade"===e.event_name&&"hashtag-trade"===e.contract_type&&e.asset_id===this.hashtag&&this.loadInfo()}))}set info(e){if(this._info=e,this.imageContainer.empty(),this.infoContainer.empty(),e){this.imageContainer.append(e.image_thumb?(0,jl.el)("img.image",{src:e.image_thumb}):new jl.OL("tag"));const t=jl.m7.numberWithCommas(Yl(kf.getPrice(Rl.defaultChain,BigInt(e.supply),1n,!1)));this.infoContainer.append((0,jl.el)("h1",e.hashtag),(0,jl.el)(".info",String(e.holder_count),1===e.holder_count?" holder, ":" holders, ",(0,jl.el)("span.price"+(void 0===e.is_price_up?"":e.is_price_up?".up":".down"),t," ",xf.defaultChainSymbol)))}}get info(){return this._info}async loadInfo(){const e=await _f.fetchSingle(this.hashtag);e&&!this.deleted&&(this.info=e)}}class Am extends jl.AE{currentHashtag;messageList;constructor(e,t){super(".hashtag-room"),this.enter(e,t),window.visualViewport?.addEventListener("resize",this.setViewportHeight)}enter(e,t){let n;e=Xf.escape(e),dm.manage([e],this.currentHashtag?[this.currentHashtag]:[]),this.currentHashtag=e,this.empty().append(new xm(e,t),this.messageList=new km(e),n=new bm(e,!0)),n.on("send",((t,n)=>{const r=yf.user?.display_name;r&&t&&(dm.addLastMessage(e,{last_message_sender:r,last_message:t,last_message_sent_at:(new Date).toISOString()}),this.messageList.addTempMessage(t,n))}))}setViewportHeight=()=>{jl.yO.isMobileDevice&&window.visualViewport&&(this.style({top:`${window.visualViewport.offsetTop}px`,height:`${window.visualViewport.height}px`}),this.messageList.scrollToBottom())};delete(){this.currentHashtag&&dm.manage([],[this.currentHashtag]),window.visualViewport?.removeEventListener("resize",this.setViewportHeight),super.delete()}}const _m={"login-required-title":"Login Required","login-required-message":"To use all services of {serviceName}, you need to log in.","login-required-login-button":"Login with 𝕏","no-wallet-connected-title":"No wallet connected","no-wallet-connected-message":"You need to connect a wallet to perform this action.","no-wallet-linked-title":"No wallet linked","no-wallet-linked-message":"You need to link a wallet to perform this action.","no-wallet-linked-confirm":"Link wallet","file-too-large-alert-title":"File Too Large","file-too-large-alert-message":"Sorry, your file is too large to upload. Our maximum file size limit is {maxFileSize}. Please select a smaller file.","activity-list-item-created-ticket-message":"{userName} created {ticketName}.","activity-list-item-bought-message":"{userName} bought {amount} {assetName} {assetUnit}.","activity-list-item-sold-message":"{userName} sold {amount} {assetName} {assetUnit}."},Pm=null,Sm=null,Cm=null,Tm=null;function Im(){(0,ac.lx)(),jl.WI.setMessages({en:_m,zh:Sm,"zh-tw":Tm,"zh-hk":Cm,ja:Pm})}class Om extends jl.AE{hashtagInfo;get hashtag(){return this.hashtagInfo.hashtag}constructor(e,t,n){super(".signed-user-holding-hashtag-list-item"),this.hashtagInfo=e;const r=jl.m7.numberWithCommas(Yl(kf.getPrice(Rl.defaultChain,BigInt(e.supply),1n,!1)));this.append((0,jl.el)(".image-container",e.image_thumb?(0,jl.el)("img.image",{src:e.image_thumb}):new jl.OL("tag")),(0,jl.el)(".info-container",(0,jl.el)(".info",(0,jl.el)("h3",e.hashtag),(0,jl.el)("span.price"+(void 0===e.is_price_up?"":e.is_price_up?".up":".down"),r," ",xf.defaultChainSymbol)),(0,jl.el)(".balance-and-fee-earned",(0,jl.el)(".balance",`Your balance: ${jl.m7.numberWithCommas(String(t))}`),(0,jl.el)(".fee-earned",`Fee earned: ${jl.m7.numberWithCommas(Yl(n))} `,xf.defaultChainSymbol)))),this.onDom("click",(()=>jl.F0.go(`${Rl.hashtagOptions.baseUri}/${e.hashtag}`,void 0,e))),this.onDom("contextmenu",(t=>{t.preventDefault(),window.getSelection()?.empty();for(const e of jl.Wl.children)e instanceof im&&e.delete();new im(e.hashtag,{left:t.clientX,top:t.clientY},e)}))}active(){this.addClass("active")}deactive(){this.deleteClass("active")}}class Mm extends jl.AE{activedHashtag;constructor(){super(".signed-user-holding-hashtag-list"),this.domElement.setAttribute("data-empty-message","You don't have any hashtags."),this.render(),this.onDelegate(Sf,"changed",(()=>this.render()))}render(){this.empty();for(const e of Sf.holdingHashtags)if(Xf.available(e.hashtag)){const t=new Om(e,e.balance,e.feeEarned).appendTo(this);t&&e.hashtag===this.activedHashtag&&t.active()}}findItem(e){return this.children.find((t=>t.hashtag===e))}activeHashtag(e){this.deactiveHashtag(),this.findItem(e)?.active(),this.activedHashtag=e}deactiveHashtag(){this.activedHashtag&&this.findItem(this.activedHashtag)?.deactive()}}class Dm extends jl.SN{constructor(){super(".wallet-settings-modal",{barrierDismissible:!0}),this.title="Your Wallet",this.render(),this.container.onDelegate(yf,"walletLinked",(()=>this.render()))}async render(){this.main.empty(),yf.walletLinked?this.main.append((0,jl.el)(".wallet-address-container",(0,jl.el)("h3","Your Wallet Address"),(0,jl.el)("a.wallet-address",yf.user?.wallet_address,{href:`https://etherscan.io/address/${yf.user?.wallet_address}`,target:"_blank"})),(0,jl.el)(".button-container",new jl.zx({type:jl.L$.Contained,title:"Open Wallet",click:async(e,t)=>{t.loading=!0;try{await yf.openWallet()}catch(e){console.error(e)}t.loading=!1}}),new jl.zx({type:jl.L$.Contained,title:"Link Wallet",click:async(e,t)=>{t.loading=!0;try{await yf.linkWallet()}catch(e){console.error(e),t.loading=!1}}}))):this.main.append((0,jl.el)("p","You have not linked a wallet yet."),new jl.zx({title:"Link Wallet",click:async(e,t)=>{t.loading=!0;try{await yf.linkWallet()}catch(e){console.error(e),t.loading=!1}}}))}}class Nm extends jl.AE{constructor(){super(".login-required"),this.append(new jl.OL("lock"),(0,jl.el)("main",(0,jl.el)("p",(0,jl.WI)("login-required-message",{serviceName:Rl.serviceName})),new jl.zx({type:jl.L$.Contained,title:(0,jl.WI)("login-required-login-button"),click:()=>yf.signIn()})))}}class Fm extends jl.AE{holdingHashtagList;constructor(){if(super(".me-panel"),yf.user){const e=(0,jl.el)(".avatar");jl.VM.selectLoadable(e,[yf.user.avatar_thumb,yf.user.stored_avatar_thumb]),this.append((0,jl.el)(".signed-user",e,(0,jl.el)(".info",(0,jl.el)("h3.name",yf.user.display_name),(0,jl.el)(".x-username",`@${yf.user.x_username}`)),{click:()=>{yf.user&&new Vf(yf.user.user_id,yf.user)}})),this.append((0,jl.el)("header",(0,jl.el)("h2","Settings")));const t=(0,jl.el)("section.menu").appendTo(this);yf.user.wallet_address?t.append(new jl.zx({icon:new jl.OL("account_balance_wallet"),title:"Wallet",click:()=>new Dm})):t.append(new jl.zx({icon:new jl.OL("error"),title:"Wallet Link Required",click:async(e,t)=>{t.loading=!0;try{await yf.linkWallet(),new jl.zx({icon:new jl.OL("account_balance_wallet"),title:"Wallet",click:()=>new Dm}).appendTo(t.parent,t.parent.children.findIndex((e=>e===t))),t.delete()}catch(e){console.error(e),t.loading=!1}}})),window.Notification&&"granted"!==Notification.permission&&t.append(new jl.zx({icon:new jl.OL("notifications"),title:"Enable notifications",click:async()=>{await ac.iy.requestPermissionAndSaveToken()||new ac.Gy(Rl.serviceName)}})),t.append(new jl.zx({icon:new jl.OL("info"),title:`About ${Rl.serviceName}`,decapitalize:!0,href:Rl.overviewUrl,target:"_blank"})),jl.yO.installed||t.append(new jl.zx({icon:new jl.OL("download"),title:"Install app",click:()=>new ac.c5(Rl.serviceName)})),t.append(new jl.zx({icon:new jl.OL("feedback"),title:"Leave feedback",click:()=>new ac.zZ(yf.user?.user_id)}),new jl.zx({icon:new jl.OL("logout"),title:"Log out",click:()=>yf.signOut()})),this.append((0,jl.el)("header",(0,jl.el)("h2","Holding Hashtags"),new jl.zx({tag:".claim-fees",type:jl.L$.Outlined,title:"Claim Total Earned Fees",click:async(e,t)=>{t.loading=!0;try{await new If(Sf.holdingHashtags).wait()}catch(e){console.error(e)}t.loading=!1}})),this.holdingHashtagList=new Mm)}else{this.append((0,jl.el)("header",(0,jl.el)("h2","Settings")));const e=(0,jl.el)("section.menu").appendTo(this);e.append(new jl.zx({icon:new jl.OL("info"),title:`About ${Rl.serviceName}`,decapitalize:!0,href:Rl.overviewUrl,target:"_blank"})),jl.yO.installed||e.append(new jl.zx({icon:new jl.OL("download"),title:"Install app",click:()=>new ac.c5(Rl.serviceName)})),e.append(new jl.zx({icon:new jl.OL("feedback"),title:"Leave feedback",click:()=>new ac.zZ(yf.user?.user_id)})),this.append(new Nm)}const e=(0,jl.el)("footer").appendTo(this);for(const t of Object.keys(Rl.socialUrls))new jl.zx({type:jl.L$.Circle,icon:(0,jl.el)("img",{src:`https://resources.gaia.cc/images/social-icons/${t}-${jl.Ve.showingTheme}.svg`,width:20,height:20}),href:Rl.socialUrls[t],target:"_blank"}).appendTo(e)}activeHashtag(e){this.deactiveHashtag(),this.holdingHashtagList?.activeHashtag(e)}deactiveHashtag(){this.holdingHashtagList?.deactiveHashtag()}}class Bm extends jl.GI{constructor(){super(".link-wallet-popup",{barrierDismissible:!1}),this.header.append((0,jl.el)("h1","Link Your Crypto Wallet")),this.main.append((0,jl.el)("p",`Your account is not currently linked to a crypto wallet. By linking your wallet, you will have access to all features of ${Rl.serviceName}. Would you like to link your wallet now?`)),this.footer.append(new jl.zx({tag:".cancel",title:(0,jl.WI)("cancel-button"),click:()=>this.delete()}),new jl.zx({title:"Link Wallet",click:async(e,t)=>{t.loading=!0;try{await yf.linkWallet(),this.delete()}catch(e){console.error(e),t.loading=!1}}}))}}},7190:(e,t,n)=>{"use strict";n.d(t,{AccountCtrl:()=>A,Id:()=>m,ConfigCtrl:()=>E,zv:()=>p,uA:()=>y,ExplorerCtrl:()=>V,jb:()=>W,OptionsCtrl:()=>v,AV:()=>d,ThemeCtrl:()=>X,ToastCtrl:()=>te,WcConnectionCtrl:()=>H});var r=n(7104);const s=e=>"object"==typeof e&&null!==e,i=new WeakMap,a=new WeakSet,o=(e=Object.is,t=((e,t)=>new Proxy(e,t)),n=(e=>s(e)&&!a.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)),o=(e=>e.configurable&&e.enumerable&&e.writable),l=(e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}}),c=new WeakMap,h=((e,t,n=l)=>{const s=c.get(e);if((null==s?void 0:s[0])===t)return s[1];const o=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return(0,r.jc)(o,!0),c.set(e,[t,o]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(o,t))return;const s=Reflect.get(e,t),l={value:s,enumerable:!0,configurable:!0};if(a.has(s))(0,r.jc)(s,!1);else if(s instanceof Promise)delete l.value,l.get=()=>n(s);else if(i.has(s)){const[e,t]=i.get(s);l.value=h(e,t(),n)}Object.defineProperty(o,t,l)})),Object.preventExtensions(o)}),u=new WeakMap,d=[1,1],p=(l=>{if(!s(l))throw new Error("object required");const c=u.get(l);if(c)return c;let f=d[0];const m=new Set,g=(e,t=++d[0])=>{f!==t&&(f=t,m.forEach((n=>n(e,t))))};let y=d[1];const b=e=>(t,n)=>{const r=[...t];r[1]=[e,...r[1]],g(r,n)},v=new Map,w=e=>{var t;const n=v.get(e);n&&(v.delete(e),null==(t=n[1])||t.call(n))},E=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),k=(t,o,l,c,h)=>{if(t&&(e(o,c)||u.has(c)&&e(o,u.get(c))))return;w(l),s(c)&&(c=(0,r.o5)(c)||c);let d=c;if(c instanceof Promise)c.then((e=>{c.status="fulfilled",c.value=e,g(["resolve",[l],e])})).catch((e=>{c.status="rejected",c.reason=e,g(["reject",[l],e])}));else{!i.has(c)&&n(c)&&(d=p(c));const e=!a.has(d)&&i.get(d);e&&((e,t)=>{if(v.has(e))throw new Error("prop listener already exists");if(m.size){const n=t[3](b(e));v.set(e,[t,n])}else v.set(e,[t])})(l,e)}h(d),g(["set",[l],c,o])},x=t(E,{deleteProperty(e,t){const n=Reflect.get(e,t);w(t);const r=Reflect.deleteProperty(e,t);return r&&g(["delete",[t],n]),r},set(e,t,n,r){const s=Reflect.has(e,t),i=Reflect.get(e,t,r);return k(s,i,t,n,(n=>{Reflect.set(e,t,n,r)})),!0},defineProperty(e,t,n){if(o(n)){const r=Reflect.getOwnPropertyDescriptor(e,t);if(!r||o(r))return k(!!r&&"value"in r,null==r?void 0:r.value,t,n.value,(r=>{Reflect.defineProperty(e,t,{...n,value:r})})),!0}return Reflect.defineProperty(e,t,n)}});u.set(l,x);const A=[E,(e=++d[1])=>(y===e||m.size||(y=e,v.forEach((([t])=>{const n=t[1](e);n>f&&(f=n)}))),f),h,e=>{m.add(e),1===m.size&&v.forEach((([e,t],n)=>{if(t)throw new Error("remove already exists");const r=e[3](b(n));v.set(n,[e,r])}));return()=>{m.delete(e),0===m.size&&v.forEach((([e,t],n)=>{t&&(t(),v.set(n,[e]))}))}}];return i.set(x,A),Reflect.ownKeys(l).forEach((e=>{const t=Object.getOwnPropertyDescriptor(l,e);"value"in t&&(x[e]=l[e],delete t.value,delete t.writable),Object.defineProperty(E,e,t)})),x}))=>[p,i,a,e,t,n,o,l,c,h,u,d],[l]=o();function c(e={}){return l(e)}function h(e,t,n){const r=i.get(e);let s;r||console.warn("Please use proxy object");const a=[],o=r[3];let l=!1;const c=o((e=>{a.push(e),n?t(a.splice(0)):s||(s=Promise.resolve().then((()=>{s=void 0,l&&t(a.splice(0))})))}));return l=!0,()=>{l=!1,c()}}const u=c({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),d={state:u,subscribe:e=>h(u,(()=>e(u))),push(e,t){e!==u.view&&(u.view=e,t&&(u.data=t),u.history.push(e))},reset(e){u.view=e,u.history=[e]},replace(e){u.history.length>1&&(u.history[u.history.length-1]=e,u.view=e)},goBack(){if(u.history.length>1){u.history.pop();const[e]=u.history.slice(-1);u.view=e}},setData(e){u.data=e}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>p.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return p.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,n){if(p.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,n){if(!p.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let r=e;r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},wait:async e=>new Promise((t=>{setTimeout(t,e)})),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setWeb3ModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(p.W3M_VERSION,"2.7.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t},getSwitchNetworkRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.SwitchNetwork;if(!t)throw new Error('Missing "SwitchNetwork" view data');return t},isPreferInjectedFlag:()=>typeof location<"u"&&new URLSearchParams(location.search).has(p.W3M_PREFER_INJECTED_URL_FLAG)};let f;const m={ethereumClient:void 0,setEthereumClient(e){f=e},client(){if(f)return f;throw new Error("ClientCtrl has no client set")}},g=c({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),y={state:g,subscribe:e=>h(g.events,(()=>e(function(e,t){const n=i.get(e);n||console.warn("Please use proxy object");const[r,s,a]=n;return a(r,s(),t)}(g.events[g.events.length-1])))),initialize(){g.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(g.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){g.connectedWalletId=e},click(e){if(g.enabled){const t={type:"CLICK",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}},track(e){if(g.enabled){const t={type:"TRACK",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}},view(e){if(g.enabled){const t={type:"VIEW",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}}},b=c({selectedChain:void 0,chains:void 0,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1}),v={state:b,subscribe:e=>h(b,(()=>e(b))),setChains(e){b.chains=e},getSelectedChain(){const e=m.client().getNetwork().chain;return e&&(b.selectedChain=e),b.selectedChain},setSelectedChain(e){b.selectedChain=e},setIsCustomDesktop(e){b.isCustomDesktop=e},setIsCustomMobile(e){b.isCustomMobile=e},setIsDataLoaded(e){b.isDataLoaded=e},setIsUiLoaded(e){b.isUiLoaded=e},setIsPreferInjected(e){b.isPreferInjected=e}},w=c({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),E={state:w,subscribe:e=>h(w,(()=>e(w))),setConfig(e){var t,n;y.initialize(),v.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),v.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),v.setChains(m.client().chains),v.setIsPreferInjected(m.client().isInjectedProviderInstalled()&&p.isPreferInjectedFlag()),e.defaultChain&&v.setSelectedChain(e.defaultChain),p.setWeb3ModalVersionInStorage(),Object.assign(w,e)}},k={async getIdentity(e,t){const{projectId:n}=E.state,r=`https://rpc.walletconnect.com/v1/identity/${e}?chainId=${`eip155:${t}`}&projectId=${n}`;return(await fetch(r)).json()}},x=c({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),A={state:x,subscribe:e=>h(x,(()=>e(x))),getAccount(){const e=m.client().getAccount();x.address=e.address,x.isConnected=e.isConnected},async fetchProfile(e,t){var n;try{x.profileLoading=!0,x.profileName=null,x.profileAvatar=null;const r=t??x.address,s=1,i=null==(n=v.state.chains)?void 0:n.find((e=>e.id===s));if(r&&i){try{const e=await k.getIdentity(r,s);x.profileName=e.name,x.profileAvatar=e.avatar}catch{const e=await m.client().fetchEnsName({address:r,chainId:s});if(x.profileName=e,e){const t=await m.client().fetchEnsAvatar({name:e,chainId:s});x.profileAvatar=t}}x.profileAvatar&&await e(x.profileAvatar)}}finally{x.profileLoading=!1}},async fetchBalance(e){try{const{chain:t}=m.client().getNetwork(),{tokenContracts:n}=E.state;let r;t&&n&&(r=n[t.id]),x.balanceLoading=!0;const s=e??x.address;if(s){const e=await m.client().fetchBalance({address:s,token:r});x.balance={amount:e.formatted,symbol:e.symbol}}}finally{x.balanceLoading=!1}},setAddress(e){x.address=e},setIsConnected(e){x.isConnected=e},resetBalance(){x.balance=void 0},resetAccount(){x.address=void 0,x.isConnected=!1,x.profileName=void 0,x.profileAvatar=void 0,x.balance=void 0}};var _=Object.defineProperty,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,T=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const I="https://explorer-api.walletconnect.com",O="w3m",M="js-2.7.1";async function D(e,t){const n=((e,t)=>{for(var n in t||(t={}))S.call(t,n)&&T(e,n,t[n]);if(P)for(var n of P(t))C.call(t,n)&&T(e,n,t[n]);return e})({sdkType:O,sdkVersion:M},t),r=new URL(e,I);return r.searchParams.append("projectId",E.state.projectId),Object.entries(n).forEach((([e,t])=>{t&&r.searchParams.append(e,String(t))})),(await fetch(r)).json()}const N={getDesktopListings:async e=>D("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>D("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>D("/w3m/v1/getInjectedListings",e),getAllListings:async e=>D("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${I}/w3m/v1/getWalletImage/${e}?projectId=${E.state.projectId}&sdkType=${O}&sdkVersion=${M}`,getAssetImageUrl:e=>`${I}/w3m/v1/getAssetImage/${e}?projectId=${E.state.projectId}&sdkType=${O}&sdkVersion=${M}`};var F=Object.defineProperty,B=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const U=p.isMobile(),G=c({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:G,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=E.state;if("NONE"===e||"ALL"===t&&!e)return G.recomendedWallets;if(p.isArray(e)){const t={recommendedIds:e.join(",")},{listings:n}=await N.getAllListings(t),r=Object.values(n);r.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id))),G.recomendedWallets=r}else{const e=p.isArray(t),n={page:1,entries:p.RECOMMENDED_WALLET_AMOUNT,version:2,excludedIds:e?t.join(","):void 0},{listings:r}=U?await N.getMobileListings(n):await N.getDesktopListings(n);G.recomendedWallets=Object.values(r)}return G.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var n in t||(t={}))R.call(t,n)&&j(e,n,t[n]);if(B)for(var n of B(t))L.call(t,n)&&j(e,n,t[n]);return e})({},e),{explorerRecommendedWalletIds:n,explorerExcludedWalletIds:r}=E.state,{recomendedWallets:s}=G;if("ALL"===r)return G.wallets;s.length?t.excludedIds=s.map((e=>e.id)).join(","):p.isArray(n)&&(t.excludedIds=n.join(",")),p.isArray(r)&&(t.excludedIds=[t.excludedIds,r].filter(Boolean).join(","));const{page:i,search:a}=e,{listings:o,total:l}=U?await N.getMobileListings(t):await N.getDesktopListings(t),c=Object.values(o),h=a?"search":"wallets";return G[h]={listings:[...G[h].listings,...c],total:l,page:i??1},{listings:c,total:l}},async getInjectedWallets(){const{listings:e}=await N.getInjectedListings({}),t=Object.values(e);return G.injectedWallets=t,G.injectedWallets},getWalletImageUrl:e=>N.getWalletImageUrl(e),getAssetImageUrl:e=>N.getAssetImageUrl(e),resetSearch(){G.search={listings:[],total:0,page:1}}},z=c({pairingEnabled:!1,pairingUri:"",pairingError:!1}),H={state:z,subscribe:e=>h(z,(()=>e(z))),setPairingUri(e){z.pairingUri=e},setPairingError(e){z.pairingError=e},setPairingEnabled(e){z.pairingEnabled=e}},$=c({open:!1}),W={state:$,subscribe:e=>h($,(()=>e($))),open:async e=>new Promise((t=>{const{isUiLoaded:n,isDataLoaded:r,isPreferInjected:s,selectedChain:i}=v.state,{isConnected:a}=A.state,{enableNetworkView:o}=E.state;if(H.setPairingEnabled(!0),a||p.removeWalletConnectDeepLink(),null!=e&&e.route)d.reset(e.route);else if(a)d.reset("Account");else if(o)d.reset("SelectNetwork");else{if(s)return m.client().connectConnector("injected",i?.id).catch((e=>console.error(e))),void t();d.reset("ConnectWallet")}const{pairingUri:l}=H.state;if(n&&r&&(l||a))$.open=!0,t();else{const e=setInterval((()=>{const n=v.state,r=H.state;n.isUiLoaded&&n.isDataLoaded&&(r.pairingUri||a)&&(clearInterval(e),$.open=!0,t())}),200)}})),close(){$.open=!1}};var q=Object.defineProperty,K=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Z=c({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:Z,subscribe:e=>h(Z,(()=>e(Z))),setThemeConfig(e){const{themeMode:t,themeVariables:n}=e;t&&(Z.themeMode=t),n&&(Z.themeVariables=((e,t)=>{for(var n in t||(t={}))J.call(t,n)&&Y(e,n,t[n]);if(K)for(var n of K(t))Q.call(t,n)&&Y(e,n,t[n]);return e})({},n))}},ee=c({open:!1,message:"",variant:"success"}),te={state:ee,subscribe:e=>h(ee,(()=>e(ee))),openToast(e,t){ee.open=!0,ee.message=e,ee.variant=t},closeToast(){ee.open=!1}}},6127:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(6523);function s(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},5609:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(6127),s=n(6523);function i(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.E)(t);let i=0;for(const t of e)n.set(t,i),i+=t.length;return(0,s.P)(n)}},2818:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(7854),s=n(6523);function i(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):(0,s.P)(globalThis.Buffer.from(e,"utf-8"))}},1627:(e,t,n)=>{"use strict";n.d(t,{BB:()=>i.B,mL:()=>s.m,zo:()=>r.z});var r=n(5609),s=n(2818),i=n(466)},466:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(7854);function s(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},6523:(e,t,n)=>{"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:()=>r})},7854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>He});var r={};n.r(r),n.d(r,{identity:()=>C});var s={};n.r(s),n.d(s,{base2:()=>T});var i={};n.r(i),n.d(i,{base8:()=>I});var a={};n.r(a),n.d(a,{base10:()=>O});var o={};n.r(o),n.d(o,{base16:()=>M,base16upper:()=>D});var l={};n.r(l),n.d(l,{base32:()=>N,base32hex:()=>L,base32hexpad:()=>U,base32hexpadupper:()=>G,base32hexupper:()=>j,base32pad:()=>B,base32padupper:()=>R,base32upper:()=>F,base32z:()=>V});var c={};n.r(c),n.d(c,{base36:()=>z,base36upper:()=>H});var h={};n.r(h),n.d(h,{base58btc:()=>$,base58flickr:()=>W});var u={};n.r(u),n.d(u,{base64:()=>q,base64pad:()=>K,base64url:()=>J,base64urlpad:()=>Q});var d={};n.r(d),n.d(d,{base256emoji:()=>ee});var p={};n.r(p),n.d(p,{sha256:()=>_e,sha512:()=>Pe});var f={};n.r(f),n.d(f,{identity:()=>Ce});var m={};n.r(m),n.d(m,{code:()=>Ie,decode:()=>Me,encode:()=>Oe,name:()=>Te});var g={};n.r(g),n.d(g,{code:()=>Be,decode:()=>Le,encode:()=>Re,name:()=>Fe});var y=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(255!==n[a])throw new TypeError(i+" is ambiguous");n[a]=s}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,s=0;e[t]===l;)r++,t++;for(var i=(e.length-t)*c+1>>>0,a=new Uint8Array(i);e[t];){var h=n[e.charCodeAt(t)];if(255===h)return;for(var u=0,d=i-1;(0!==h||u<s)&&-1!==d;d--,u++)h+=o*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=u,t++}if(" "!==e[t]){for(var p=i-s;p!==i&&0===a[p];)p++;for(var f=new Uint8Array(r+(i-p)),m=r;p!==i;)f[m++]=a[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,s=0,i=t.length;s!==i&&0===t[s];)s++,n++;for(var a=(i-s)*h+1>>>0,c=new Uint8Array(a);s!==i;){for(var u=t[s],d=0,p=a-1;(0!==u||d<r)&&-1!==p;p--,d++)u+=256*c[p]>>>0,c[p]=u%o>>>0,u=u/o>>>0;if(0!==u)throw new Error("Non-zero carry");r=d,s++}for(var f=a-r;f!==a&&0===c[f];)f++;for(var m=l.repeat(n);f<a;++f)m+=e.charAt(c[f]);return m},decodeUnsafe:u,decode:function(e){var n=u(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const b=y,v=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class w{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class E{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return x(this,e)}}class k{constructor(e){this.decoders=e}or(e){return x(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const x=(e,t)=>new k({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class A{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new w(e,t,n),this.decoder=new E(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _=({name:e,prefix:t,encode:n,decode:r})=>new A(e,t,n,r),P=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=b(n,t);return _({prefix:e,name:t,encode:r,decode:e=>v(s(e))})},S=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>_({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],s=(1<<n)-1;let i="",a=0,o=0;for(let r=0;r<e.length;++r)for(o=o<<8|e[r],a+=8;a>n;)a-=n,i+=t[s&o>>a];if(a&&(i+=t[s&o<<n-a]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const s={};for(let e=0;e<t.length;++e)s[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const a=new Uint8Array(i*n/8|0);let o=0,l=0,c=0;for(let t=0;t<i;++t){const i=s[e[t]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);l=l<<n|i,o+=n,o>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a})(t,r,n,e)}),C=_({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),T=S({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),I=S({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),O=P({prefix:"9",name:"base10",alphabet:"0123456789"}),M=S({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),D=S({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),N=S({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=S({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),B=S({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),R=S({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),L=S({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),j=S({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),U=S({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),G=S({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),V=S({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z=P({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),H=P({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),$=P({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),W=P({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),q=S({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),K=S({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=S({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Q=S({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Y=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Z=Y.reduce(((e,t,n)=>(e[n]=t,e)),[]),X=Y.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const ee=_({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Z[t]),"")},decode:function(e){const t=[];for(const n of e){const e=X[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var te=function e(t,n,r){n=n||[];var s=r=r||0;for(;t>=se;)n[r++]=255&t|ne,t/=128;for(;t&re;)n[r++]=255&t|ne,t>>>=7;return n[r]=0|t,e.bytes=r-s+1,n},ne=128,re=-128,se=Math.pow(2,31);var ie=function e(t,n){var r,s=0,i=0,a=n=n||0,o=t.length;do{if(a>=o)throw e.bytes=0,new RangeError("Could not decode varint");r=t[a++],s+=i<28?(r&oe)<<i:(r&oe)*Math.pow(2,i),i+=7}while(r>=ae);return e.bytes=a-n,s},ae=128,oe=127;var le=Math.pow(2,7),ce=Math.pow(2,14),he=Math.pow(2,21),ue=Math.pow(2,28),de=Math.pow(2,35),pe=Math.pow(2,42),fe=Math.pow(2,49),me=Math.pow(2,56),ge=Math.pow(2,63);const ye={encode:te,decode:ie,encodingLength:function(e){return e<le?1:e<ce?2:e<he?3:e<ue?4:e<de?5:e<pe?6:e<fe?7:e<me?8:e<ge?9:10}},be=(e,t,n=0)=>(ye.encode(e,t,n),t),ve=e=>ye.encodingLength(e),we=(e,t)=>{const n=t.byteLength,r=ve(e),s=r+ve(n),i=new Uint8Array(s+n);return be(e,i,0),be(n,i,r),i.set(t,s),new Ee(e,n,t,i)};class Ee{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const ke=({name:e,code:t,encode:n})=>new xe(e,t,n);class xe{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?we(this.code,t):t.then((e=>we(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Ae=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),_e=ke({name:"sha2-256",code:18,encode:Ae("SHA-256")}),Pe=ke({name:"sha2-512",code:19,encode:Ae("SHA-512")}),Se=v,Ce={code:0,name:"identity",encode:Se,digest:e=>we(0,Se(e))},Te="raw",Ie=85,Oe=e=>v(e),Me=e=>v(e),De=new TextEncoder,Ne=new TextDecoder,Fe="json",Be=512,Re=e=>De.encode(JSON.stringify(e)),Le=e=>JSON.parse(Ne.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const je={...r,...s,...i,...a,...o,...l,...c,...h,...u,...d};var Ue=n(6127);function Ge(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Ve=Ge("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),ze=Ge("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,Ue.E)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),He={utf8:Ve,"utf-8":Ve,hex:je.base16,latin1:ze,ascii:ze,binary:ze,...je}},589:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}n.d(t,{T:()=>r})},8411:(e,t,n)=>{"use strict";n.d(t,{R:()=>v});var r=n(589),s=n(6597);const i="0x82ad56cb";var a=n(2671),o=n(7033),l=n(935),c=n(1982),h=n(1106),u=n(6137),d=n(8138),p=n(2675),f=n(9966);var m=n(2090),g=n(6011),y=n(4426),b=n(9362);async function v(e,t){const{account:v=e.account,batch:w=Boolean(e.batch?.multicall),blockNumber:E,blockTag:k="latest",accessList:x,data:A,gas:_,gasPrice:P,maxFeePerGas:S,maxPriorityFeePerGas:C,nonce:T,to:I,value:O,...M}=t,D=v?(0,r.T)(v):void 0;try{(0,b.F)(t);const n=(E?(0,d.eC)(E):void 0)||k,r=e.chain?.formatters?.transactionRequest?.format,a=(r||g.tG)({...(0,m.K)(M,{format:r}),from:D?.address,accessList:x,data:A,gas:_,gasPrice:P,maxFeePerGas:S,maxPriorityFeePerGas:C,nonce:T,to:I,value:O});if(w&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(i)&&(!!n&&!(Object.values(r).filter((e=>void 0!==e)).length>0)))}({request:a}))try{return await async function(e,t){const{batchSize:n=1024,wait:r=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:a="latest",data:p,multicallAddress:f,to:m}=t;let g=f;if(!g){if(!e.chain)throw new o.pZ;g=(0,u.L)({blockNumber:i,chain:e.chain,contract:"multicall3"})}const b=i?(0,d.eC)(i):void 0,v=b||a,{schedule:w}=(0,y.S)({id:`${e.uid}.${v}`,wait:r,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*n},fn:async t=>{const n=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),r=(0,h.R)({abi:s.F8,args:[n],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:r,to:g},v]});return(0,c.k)({abi:s.F8,args:[n],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:k}]=await w({data:p,to:m});if(!k)throw new l.VQ({data:E});return"0x"===E?{data:void 0}:{data:E}}(e,{...a,blockNumber:E,blockTag:k})}catch(e){if(!(e instanceof o.pZ||e instanceof o.mm))throw e}const p=await e.request({method:"eth_call",params:n?[a,n]:[a]});return"0x"===p?{data:void 0}:{data:p}}catch(r){const s=function(e){if(!(e instanceof a.G))return;const t=e.walk();return"object"==typeof t.data?t.data.data:t.data}(r),{offchainLookup:i,offchainLookupSignature:o}=await n.e(93).then(n.bind(n,1093));if(s?.slice(0,10)===o&&I)return{data:await i(e,{data:s,to:I})};throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,f.k)(e,n);return t instanceof p.cj?e:t})();return new l.cg(r,{docsPath:t,...n})}(r,{...t,account:D,chain:e.chain})}}},6597:(e,t,n)=>{"use strict";n.d(t,{$o:()=>c,F8:()=>r,X$:()=>l,du:()=>a,k3:()=>i,nZ:()=>o});const r=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],s=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],i=[...s,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...s,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],o=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],c=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},1151:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,Up:()=>s,hZ:()=>i});const r={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},s={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},i={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},3339:(e,t,n)=>{"use strict";n.d(t,{Bd:()=>i,Zn:()=>s,ez:()=>r});const r={gwei:9,wei:18},s={ether:-9,wei:9},i={ether:-18,gwei:-9}},1417:(e,t,n)=>{"use strict";n.d(t,{CI:()=>A,FM:()=>f,Gy:()=>k,KY:()=>w,M4:()=>u,MX:()=>b,S4:()=>v,SM:()=>E,cO:()=>o,dh:()=>x,fM:()=>a,fs:()=>d,gr:()=>h,hn:()=>_,lC:()=>m,mv:()=>g,wM:()=>P,wb:()=>c,xB:()=>l,xL:()=>y,yP:()=>p});var r=n(1909),s=n(9402),i=n(2671);class a extends i.G{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class o extends i.G{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}i.G;class l extends i.G{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.h)(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class c extends i.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class h extends i.G{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class u extends i.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,s.d)(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class d extends i.G{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}i.G;i.G;class p extends i.G{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class f extends i.G{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class m extends i.G{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class g extends i.G{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class y extends i.G{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class b extends i.G{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}i.G;class v extends i.G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,r.t)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,r.t)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class w extends i.G{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class E extends i.G{constructor({abiItem:e,data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.h)(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=s}}class k extends i.G{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,r.t)(e,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class x extends i.G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class A extends i.G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class _ extends i.G{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class P extends i.G{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}i.G},31:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(2671);class s extends r.G{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},2671:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(8167);class s extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,r.bo)()});const n=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof s&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return i(this,e)}}function i(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?i(e.cause,t):t?null:e}},7033:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>a,Yl:()=>i,mm:()=>s,pZ:()=>o});var r=n(2671);class s extends r.G{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class i extends r.G{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class a extends r.G{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class o extends r.G{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}r.G},935:(e,t,n)=>{"use strict";n.d(t,{cg:()=>g,uq:()=>y,Lu:()=>b,Dk:()=>v,VQ:()=>w});var r=n(589),s=n(1151),i=n(3680),a=n(1909),o=n(305);function l({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map(((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?(0,o.P)(t[n]):t[n]}`)).join(", ")})`}var c=n(3058),h=n(7631),u=n(9589),d=n(1417),p=n(2671),f=n(9955),m=n(8167);class g extends p.G{constructor(e,{account:t,docsPath:n,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:d,to:p,value:m}){const g=t?(0,r.T)(t):void 0,y=(0,f.xr)({from:g?.address,to:p,value:void 0!==m&&`${(0,h.d)(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:void 0!==o&&`${(0,u.o)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,u.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,u.o)(c)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class y extends p.G{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:i,sender:o}){const h=(0,c.mE)({abi:t,args:n,name:i}),u=h?l({abiItem:h,args:n,includeFunctionName:!1,includeName:!1}):void 0,d=h?(0,a.t)(h,{includeName:!0}):void 0,p=(0,f.xr)({address:r&&(0,m.CR)(r),function:d,args:u&&"()"!==u&&`${[...Array(i?.length??0).keys()].map((()=>" ")).join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",p].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=i,this.sender=o}}class b extends p.G{constructor({abi:e,data:t,functionName:n,message:r}){let o,c,h,u,p;if(t&&"0x"!==t)try{c=(0,i.p)({abi:e,data:t});const{abiItem:n,errorName:r,args:o}=c;if("Error"===r)u=o[0];else if("Panic"===r){const[e]=o;u=s.$[e]}else{const e=n?(0,a.t)(n,{includeName:!0}):void 0,t=n&&o?l({abiItem:n,args:o,includeFunctionName:!1,includeName:!1}):void 0;h=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){o=e}else r&&(u=r);o instanceof d.yP&&(p=o.signature,h=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(u&&"execution reverted"!==u||p?[`The contract function "${n}" reverted with the following ${p?"signature":"reason"}:`,u||p].join("\n"):`The contract function "${n}" reverted.`,{cause:o,metaMessages:h}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.reason=u,this.signature=p}}class v extends p.G{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class w extends p.G{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},1371:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,m:()=>s});var r=n(2671);class s extends r.G{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class i extends r.G{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}},5390:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>i,J5:()=>s,M6:()=>a});var r=n(2671);r.G;r.G;class s extends r.G{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}r.G;class i extends r.G{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}r.G;r.G;class a extends r.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},2675:(e,t,n)=>{"use strict";n.d(t,{C_:()=>u,G$:()=>o,Hh:()=>a,M_:()=>i,WF:()=>d,ZI:()=>l,cj:()=>g,cs:()=>m,dR:()=>p,pZ:()=>f,se:()=>h,vU:()=>c});var r=n(9589),s=n(2671);class i extends s.G{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class a extends s.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends s.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends s.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends s.G{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class h extends s.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class u extends s.G{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class d extends s.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends s.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends s.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends s.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,r.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${(0,r.o)(n)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends s.G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},3731:(e,t,n)=>{"use strict";n.d(t,{Gg:()=>a,W5:()=>c,bs:()=>l,c9:()=>o});var r=n(305),s=n(2671),i=n(8167);class a extends s.G{constructor({body:e,details:t,headers:n,status:s,url:a}){super("HTTP request failed.",{details:t,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,i.Gr)(a)}`,e&&`Request body: ${(0,r.P)(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=s,this.url=a}}class o extends s.G{constructor({body:e,details:t,url:n}){super("WebSocket request failed.",{details:t,metaMessages:[`URL: ${(0,i.Gr)(n)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class l extends s.G{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,i.Gr)(n)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class c extends s.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,i.Gr)(t)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},9955:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>h,Yb:()=>u,j3:()=>l,mc:()=>d,mk:()=>c,xY:()=>o,xr:()=>a});var r=n(7631),s=n(9589),i=n(2671);function a(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),n=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`)).join("\n")}class o extends i.G{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}i.G;class l extends i.G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}i.G;i.G;i.G;class c extends i.G{constructor(e,{account:t,docsPath:n,chain:i,data:o,gas:l,gasPrice:c,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){const m=a({chain:i&&`${i?.name} (id: ${i?.id})`,from:t?.address,to:p,value:void 0!==f&&`${(0,r.d)(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:void 0!==c&&`${(0,s.o)(c)} gwei`,maxFeePerGas:void 0!==h&&`${(0,s.o)(h)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,s.o)(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class h extends i.G{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let i="Transaction";n&&void 0!==s&&(i=`Transaction at block time "${n}" at index "${s}"`),e&&void 0!==s&&(i=`Transaction at block hash "${e}" at index "${s}"`),t&&void 0!==s&&(i=`Transaction at block number "${t}" at index "${s}"`),r&&(i=`Transaction with hash "${r}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class u extends i.G{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class d extends i.G{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},8167:(e,t,n)=>{"use strict";n.d(t,{CR:()=>r,Gr:()=>s,bo:()=>i});const r=e=>e,s=e=>e,i=()=>"viem@1.21.3"},2549:(e,t,n)=>{"use strict";n.d(t,{r:()=>h});var r=n(1417),s=n(6731),i=n(9402),a=n(7913),o=n(2050),l=n(4702),c=n(1778);function h(e,t){if("0x"===t&&e.length>0)throw new r.wb;if((0,i.d)(t)&&(0,i.d)(t)<32)throw new r.xB({data:t,params:e,size:(0,i.d)(t)});return function({data:e,params:t}){const n=[];let s=0;for(let a=0;a<t.length;a++){if(s>=(0,i.d)(e))throw new r.xB({data:e,params:t,size:(0,i.d)(e)});const o=t[a],{consumed:l,value:c}=u({data:e,param:o,position:s});n.push(c),s+=l}return n}({data:t,params:e})}function u({data:e,param:t,position:n}){const i=(0,c.S)(t.type);if(i){const[r,s]=i;return function(e,{param:t,length:n,position:r}){if(!n){const n=(0,l.ly)((0,a.tP)(e,r,r+32,{strict:!0})),s=(0,l.ly)((0,a.tP)(e,n,n+32,{strict:!0}));let i=0;const o=[];for(let r=0;r<s;++r){const r=u({data:(0,a.tP)(e,n+32),param:t,position:i});i+=r.consumed,o.push(r.value)}return{value:o,consumed:32}}if(d(t)){const s=(0,c.S)(t.type),i=!s?.[0];let o=0;const h=[];for(let s=0;s<n;++s){const n=(0,l.ly)((0,a.tP)(e,r,r+32,{strict:!0})),c=u({data:(0,a.tP)(e,n),param:t,position:i?o:32*s});o+=c.consumed,h.push(c.value)}return{value:h,consumed:32}}let s=0;const i=[];for(let a=0;a<n;++a){const n=u({data:e,param:t,position:r+s});s+=n.consumed,i.push(n.value)}return{value:i,consumed:s}}(e,{length:r,param:{...t,type:s},position:n})}if("tuple"===t.type)return function(e,{param:t,position:n}){const r=0===t.components.length||t.components.some((({name:e})=>!e)),s=r?[]:{};let i=0;if(d(t)){const o=(0,l.ly)((0,a.tP)(e,n,n+32,{strict:!0}));for(let n=0;n<t.components.length;++n){const l=t.components[n],c=u({data:(0,a.tP)(e,o),param:l,position:i});i+=c.consumed,s[r?n:l?.name]=c.value}return{consumed:32,value:s}}for(let a=0;a<t.components.length;++a){const o=t.components[a],l=u({data:e,param:o,position:n+i});i+=l.consumed,s[r?a:o?.name]=l.value}return{consumed:i,value:s}}(e,{param:t,position:n});if("string"===t.type)return function(e,{position:t}){const n=(0,l.ly)((0,a.tP)(e,t,t+32,{strict:!0})),r=(0,l.ly)((0,a.tP)(e,n,n+32,{strict:!0}));if(0===r)return{consumed:32,value:""};const s=(0,l.rR)((0,o.f)((0,a.tP)(e,n+32,n+32+r,{strict:!0})));return{consumed:32,value:s}}(e,{position:n});if(t.type.startsWith("bytes"))return function(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const t=(0,l.ly)((0,a.tP)(e,n,n+32,{strict:!0})),r=(0,l.ly)((0,a.tP)(e,t,t+32,{strict:!0}));if(0===r)return{consumed:32,value:"0x"};return{consumed:32,value:(0,a.tP)(e,t+32,t+32+r,{strict:!0})}}const i=(0,a.tP)(e,n,n+parseInt(s),{strict:!0});return{consumed:32,value:i}}(e,{param:t,position:n});const h=(0,a.tP)(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,{param:t}){const n=t.type.startsWith("int"),r=parseInt(t.type.split("int")[1]||"256");return{consumed:32,value:r>48?(0,l.y_)(e,{signed:n}):(0,l.ly)(e,{signed:n})}}(h,{param:t});if("address"===t.type)return function(e){return{consumed:32,value:(0,s.x)((0,a.tP)(e,-20))}}(h);if("bool"===t.type)return function(e){return{consumed:32,value:(0,l.XA)(e)}}(h);throw new r.CI(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function d(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(d);const n=(0,c.S)(e.type);return!(!n||!d({...e,type:n[1]}))}},3680:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var r=n(1151),s=n(1417),i=n(7913),a=n(5686),o=n(2549),l=n(1909);function c({abi:e,data:t}){const n=(0,i.tP)(t,0,4);if("0x"===n)throw new s.wb;const c=[...e||[],r.Up,r.hZ].find((e=>"error"===e.type&&n===(0,a.o)((0,l.t)(e))));if(!c)throw new s.yP(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:c,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,o.r)(c.inputs,(0,i.tP)(t,4)):void 0,errorName:c.name}}},1982:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(1417),s=n(2549),i=n(3058);const a="/docs/contract/decodeFunctionResult";function o({abi:e,args:t,functionName:n,data:o}){let l=e[0];if(n&&(l=(0,i.mE)({abi:e,args:t,name:n}),!l))throw new r.xL(n,{docsPath:a});if("function"!==l.type)throw new r.xL(void 0,{docsPath:a});if(!l.outputs)throw new r.MX(l.name,{docsPath:a});const c=(0,s.r)(l.outputs,o);return c&&c.length>1?c:c&&1===c.length?c[0]:void 0}},1778:(e,t,n)=>{"use strict";n.d(t,{E:()=>u,S:()=>f});var r=n(1417),s=n(31),i=n(151),a=n(1466),o=n(4221),l=n(9402),c=n(7913),h=n(8138);function u(e,t){if(e.length!==t.length)throw new r.fs({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(d({param:e[r],value:t[r]}));return n}({params:e,values:t}),s=p(n);return 0===s.length?"0x":s}function d({param:e,value:t}){const n=f(e.type);if(n){const[s,i]=n;return function(e,{length:t,param:n}){const s=null===t;if(!Array.isArray(e))throw new r.hn(e);if(!s&&e.length!==t)throw new r.gr({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const o=[];for(let t=0;t<e.length;t++){const r=d({param:n,value:e[t]});r.dynamic&&(i=!0),o.push(r)}if(s||i){const e=p(o);if(s){const t=(0,h.eC)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,a.zo)([t,e]):t}}if(i)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,a.zo)(o.map((({encoded:e})=>e)))}}(t,{length:s,param:{...e,type:i}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],a=d({param:i,value:e[Array.isArray(e)?s:i.name]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?p(r):(0,a.zo)(r.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!(0,i.U)(e))throw new s.b({address:e});return{dynamic:!1,encoded:(0,o.gc)(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){return{dynamic:!1,encoded:(0,o.gc)((0,h.C4)(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(e,{signed:t}){return{dynamic:!1,encoded:(0,h.eC)(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),s=(0,l.d)(e);if(!n){let t=e;return s%32!=0&&(t=(0,o.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,a.zo)([(0,o.gc)((0,h.eC)(s,{size:32})),t])}}if(s!==parseInt(n))throw new r.M4({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:(0,o.gc)(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=(0,h.$G)(e),n=Math.ceil((0,l.d)(t)/32),r=[];for(let e=0;e<n;e++)r.push((0,o.gc)((0,c.tP)(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,a.zo)([(0,o.gc)((0,h.eC)((0,l.d)(t),{size:32})),...r])}}(t);throw new r.dh(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:(0,l.d)(s)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:a,encoded:o}=e[i];a?(n.push((0,h.eC)(t+s,{size:32})),r.push(o),s+=(0,l.d)(o)):n.push(o)}return(0,a.zo)([...n,...r])}function f(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},1106:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var r=n(1417),s=n(1466),i=n(5686),a=n(1778),o=n(1909),l=n(3058);function c({abi:e,args:t,functionName:n}){let c=e[0];if(n&&(c=(0,l.mE)({abi:e,args:t,name:n}),!c))throw new r.xL(n,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==c.type)throw new r.xL(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const h=(0,o.t)(c),u=(0,i.o)(h),d="inputs"in c&&c.inputs?(0,a.E)(c.inputs,t??[]):void 0;return(0,s.SM)([u,d??"0x"])}},1909:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,t:()=>s});var r=n(1417);function s(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new r.wM(e.type);return`${e.name}(${i(e.inputs,{includeName:t})})`}function i(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${i(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}},3058:(e,t,n)=>{"use strict";n.d(t,{mE:()=>l});var r=n(1417),s=n(8426),i=n(4664),a=n(5686),o=n(151);function l({abi:e,args:t=[],name:n}){const o=(0,s.v)(n,{strict:!1}),l=e.filter((e=>o?"function"===e.type?(0,a.o)(e)===n:"event"===e.type&&(0,i.e)(e)===n:"name"in e&&e.name===n));if(0===l.length)return;if(1===l.length)return l[0];let u;for(const e of l){if(!("inputs"in e))continue;if(!t||0===t.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==t.length)continue;if(t.every(((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&c(t,r)}))){if(u&&"inputs"in u&&u.inputs){const n=h(e.inputs,u.inputs,t);if(n)throw new r.S4({abiItem:e,type:n[0]},{abiItem:u,type:n[1]})}u=e}}return u||l[0]}function c(e,t){const n=typeof e,r=t.type;switch(r){case"address":return(0,o.U)(e);case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>c(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every((e=>c(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function h(e,t,n){for(const r in e){const s=e[r],i=t[r];if("tuple"===s.type&&"tuple"===i.type&&"components"in s&&"components"in i)return h(s.components,i.components,n[r]);const a=[s.type,i.type];if(!(!a.includes("address")||!a.includes("bytes20"))||(a.includes("address")&&a.includes("string")||!(!a.includes("address")||!a.includes("bytes")))&&(0,o.U)(n[r]))return a}}},6731:(e,t,n)=>{"use strict";n.d(t,{K:()=>l,x:()=>o});var r=n(31),s=n(860),i=n(5031),a=n(151);function o(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=(0,i.w)((0,s.qX)(n),"bytes"),a=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&r[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());return`0x${a.join("")}`}function l(e,t){if(!(0,a.U)(e))throw new r.b({address:e});return o(e,t)}},151:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});const r=/^0x[a-fA-F0-9]{40}$/;function s(e){return r.test(e)}},6137:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r=n(7033);function s({blockNumber:e,chain:t,contract:n}){const s=t?.contracts?.[n];if(!s)throw new r.mm({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new r.mm({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}},1466:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e[0]?s(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function s(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}n.d(t,{SM:()=>s,zo:()=>r})},8426:(e,t,n)=>{"use strict";function r(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}n.d(t,{v:()=>r})},4221:(e,t,n)=>{"use strict";n.d(t,{gc:()=>i,vk:()=>s});var r=n(1371);function s(e,{dir:t,size:n=32}={}){return"string"==typeof e?i(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new r.$({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const i="right"===t;s[i?r:n-r-1]=e[i?r:e.length-r-1]}return s}(e,{dir:t,size:n})}function i(e,{dir:t,size:n=32}={}){if(null===n)return e;const s=e.replace("0x","");if(s.length>2*n)throw new r.$({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s["right"===t?"padEnd":"padStart"](2*n,"0")}`}},9402:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(8426);function s(e){return(0,r.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},7913:(e,t,n)=>{"use strict";n.d(t,{tP:()=>a});var r=n(1371),s=n(8426),i=n(9402);function a(e,t,n,{strict:r}={}){return(0,s.v)(e,{strict:!1})?function(e,t,n,{strict:r}={}){o(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;r&&l(s,t,n);return s}(e,t,n,{strict:r}):function(e,t,n,{strict:r}={}){o(e,t);const s=e.slice(t,n);r&&l(s,t,n);return s}(e,t,n,{strict:r})}function o(e,t){if("number"==typeof t&&t>0&&t>(0,i.d)(e)-1)throw new r.m({offset:t,position:"start",size:(0,i.d)(e)})}function l(e,t,n){if("number"==typeof t&&"number"==typeof n&&(0,i.d)(e)!==n-t)throw new r.m({offset:n,position:"end",size:(0,i.d)(e)})}},2050:(e,t,n)=>{"use strict";function r(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}n.d(t,{f:()=>r})},4702:(e,t,n)=>{"use strict";n.d(t,{XA:()=>c,Yf:()=>o,ly:()=>h,rR:()=>u,y_:()=>l});var r=n(5390),s=n(9402),i=n(2050),a=n(860);function o(e,{size:t}){if((0,s.d)(e)>t)throw new r.M6({givenSize:(0,s.d)(e),maxSize:t})}function l(e,t={}){const{signed:n}=t;t.size&&o(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function c(e,t={}){let n=e;if(t.size&&(o(n,{size:t.size}),n=(0,i.f)(n)),"0x00"===(0,i.f)(n))return!1;if("0x01"===(0,i.f)(n))return!0;throw new r.Cd(n)}function h(e,t={}){return Number(l(e,t))}function u(e,t={}){let n=(0,a.nr)(e);return t.size&&(o(n,{size:t.size}),n=(0,i.f)(n,{dir:"right"})),(new TextDecoder).decode(n)}},860:(e,t,n)=>{"use strict";n.d(t,{O0:()=>c,nr:()=>d,qX:()=>p});var r=n(2671),s=n(8426),i=n(4221),a=n(4702),o=n(8138);const l=new TextEncoder;function c(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const n=(0,o.eC)(e,t);return d(n)}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);if(n[0]=Number(e),"number"==typeof t.size)return(0,a.Yf)(n,{size:t.size}),(0,i.vk)(n,{size:t.size});return n}(e,t):(0,s.v)(e)?d(e,t):p(e,t)}const h={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(e){return e>=h.zero&&e<=h.nine?e-h.zero:e>=h.A&&e<=h.F?e-(h.A-10):e>=h.a&&e<=h.f?e-(h.a-10):void 0}function d(e,t={}){let n=e;t.size&&((0,a.Yf)(n,{size:t.size}),n=(0,i.vk)(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,l=new Uint8Array(o);for(let e=0,t=0;e<o;e++){const n=u(s.charCodeAt(t++)),i=u(s.charCodeAt(t++));if(void 0===n||void 0===i)throw new r.G(`Invalid byte sequence ("${s[t-2]}${s[t-1]}" in "${s}").`);l[e]=16*n+i}return l}function p(e,t={}){const n=l.encode(e);return"number"==typeof t.size?((0,a.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}},8138:(e,t,n)=>{"use strict";n.d(t,{$G:()=>d,C4:()=>l,NC:()=>o,ci:()=>c,eC:()=>h});var r=n(5390),s=n(4221),i=n(4702);const a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e,t={}){return"number"==typeof e||"bigint"==typeof e?h(e,t):"string"==typeof e?d(e,t):"boolean"==typeof e?l(e,t):c(e,t)}function l(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?((0,i.Yf)(n,{size:t.size}),(0,s.vk)(n,{size:t.size})):n}function c(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=a[e[t]];const r=`0x${n}`;return"number"==typeof t.size?((0,i.Yf)(r,{size:t.size}),(0,s.vk)(r,{dir:"right",size:t.size})):r}function h(e,t={}){const{signed:n,size:i}=t,a=BigInt(e);let o;i?o=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const l="bigint"==typeof o&&n?-o-1n:0;if(o&&a>o||a<l){const t="bigint"==typeof e?"n":"";throw new r.J5({max:o?`${o}${t}`:void 0,min:`${l}${t}`,signed:n,size:i,value:`${e}${t}`})}const c=`0x${(n&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16)}`;return i?(0,s.vk)(c,{size:i}):c}const u=new TextEncoder;function d(e,t={}){return c(u.encode(e),t)}},9966:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(2671),s=n(2675);function i(e,t){const n=(e.details||"").toLowerCase(),i=e.walk((e=>e.code===s.M_.code));return i instanceof r.G?new s.M_({cause:e,message:i.details}):s.M_.nodeMessage.test(n)?new s.M_({cause:e,message:e.details}):s.Hh.nodeMessage.test(n)?new s.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):s.G$.nodeMessage.test(n)?new s.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):s.ZI.nodeMessage.test(n)?new s.ZI({cause:e,nonce:t?.nonce}):s.vU.nodeMessage.test(n)?new s.vU({cause:e,nonce:t?.nonce}):s.se.nodeMessage.test(n)?new s.se({cause:e,nonce:t?.nonce}):s.C_.nodeMessage.test(n)?new s.C_({cause:e}):s.WF.nodeMessage.test(n)?new s.WF({cause:e,gas:t?.gas}):s.dR.nodeMessage.test(n)?new s.dR({cause:e,gas:t?.gas}):s.pZ.nodeMessage.test(n)?new s.pZ({cause:e}):s.cs.nodeMessage.test(n)?new s.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new s.cj({cause:e})}},2090:(e,t,n)=>{"use strict";function r(e,{format:t}){if(!t)return{};const n={};return function t(r){const s=Object.keys(r);for(const i of s)i in e&&(n[i]=e[i]),r[i]&&"object"==typeof r[i]&&!Array.isArray(r[i])&&t(r[i])}(t(e||{})),n}n.d(t,{K:()=>r})},6011:(e,t,n)=>{"use strict";n.d(t,{tG:()=>i});var r=n(8138);const s={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function i(e){return{...e,gas:void 0!==e.gas?(0,r.eC)(e.gas):void 0,gasPrice:void 0!==e.gasPrice?(0,r.eC)(e.gasPrice):void 0,maxFeePerGas:void 0!==e.maxFeePerGas?(0,r.eC)(e.maxFeePerGas):void 0,maxPriorityFeePerGas:void 0!==e.maxPriorityFeePerGas?(0,r.eC)(e.maxPriorityFeePerGas):void 0,nonce:void 0!==e.nonce?(0,r.eC)(e.nonce):void 0,type:void 0!==e.type?s[e.type]:void 0,value:void 0!==e.value?(0,r.eC)(e.value):void 0}}},4664:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(860),s=n(2034);var i=n(5031);const a=e=>{return t=(e=>(0,s.r)(e))(e),(0,i.w)((0,r.O0)(t));var t}},5686:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(7913),s=n(860),i=n(2034),a=n(5031);const o=e=>{return(0,r.tP)((t=(0,i.r)(e),(0,a.w)((0,s.O0)(t))),0,4);var t}},2034:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});const r=/^tuple(?<array>(\[(\d*)\])*)$/;function s(e){let t=e.type;if(r.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){t+=s(e.components[r]),r<n-1&&(t+=", ")}const i=function(e,t){const n=e.exec(t);return n?.groups}(r,e.type);return t+=`)${i?.array??""}`,s({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function i(e){let t="";const n=e.length;for(let r=0;r<n;r++){t+=s(e[r]),r!==n-1&&(t+=", ")}return t}var a=n(2671);const o=e=>{var t;return function(e){let t=!0,n="",r=0,s="",i=!1;for(let a=0;a<e.length;a++){const o=e[a];if(["(",")",","].includes(o)&&(t=!0),"("===o&&r++,")"===o&&r--,t)if(0!==r)" "!==o?(s+=o,n+=o):","!==e[a-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===o&&["event","function",""].includes(s))s="";else if(s+=o,")"===o){i=!0;break}}if(!i)throw new a.G("Unable to normalize signature.");return s}("string"==typeof e?e:"function"===(t=e).type?`function ${t.name}(${i(t.inputs)})${t.stateMutability&&"nonpayable"!==t.stateMutability?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${i(t.outputs)})`:""}`:"event"===t.type?`event ${t.name}(${i(t.inputs)})`:"error"===t.type?`error ${t.name}(${i(t.inputs)})`:"constructor"===t.type?`constructor(${i(t.inputs)})${"payable"===t.stateMutability?" payable":""}`:"fallback"===t.type?"fallback()":"receive() external payable")}},5031:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}n.d(t,{w:()=>R});const o=BigInt(2**32-1),l=BigInt(32);function c(e,t=!1){return t?{h:Number(e&o),l:Number(e>>l&o)}:{h:0|Number(e>>l&o),l:0|Number(e&o)}}function h(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=c(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const u=(e,t,n)=>e<<n|t>>>32-n,d=(e,t,n)=>t<<n|e>>>32-n,p=(e,t,n)=>t<<n-32|e>>>64-n,f=(e,t,n)=>e<<n-32|t>>>64-n;const m=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function g(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!m(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class y{clone(){return this._cloneInto()}}const[b,v,w]=[[],[],[]],E=BigInt(0),k=BigInt(1),x=BigInt(2),A=BigInt(7),_=BigInt(256),P=BigInt(113);for(let e=0,t=k,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],b.push(2*(5*r+n)),v.push((e+1)*(e+2)/2%64);let s=E;for(let e=0;e<7;e++)t=(t<<k^(t>>A)*P)%_,t&x&&(s^=k<<(k<<BigInt(e))-k);w.push(s)}const[S,C]=h(w,!0),T=(e,t,n)=>n>32?p(e,t,n):u(e,t,n),I=(e,t,n)=>n>32?f(e,t,n):d(e,t,n);class O extends y{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,r(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],a=n[s+1],o=T(i,a,1)^n[r],l=I(i,a,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=l}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=v[n],i=T(t,s,r),a=I(t,s,r),o=b[n];t=e[o],s=e[o+1],e[o]=i,e[o+1]=a}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=S[r],e[1]^=C[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i(this);const{blockLen:t,state:n}=this,r=(e=g(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){i(this,!1),s(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return r(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(a(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new O(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const M=(e,t,n)=>function(e){const t=t=>e().update(g(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new O(t,e,n))),D=M(1,136,32);var N=n(8426),F=n(860),B=n(8138);function R(e,t){const n=t||"hex",r=D((0,N.v)(e,{strict:!1})?(0,F.O0)(e):e);return"bytes"===n?r:(0,B.NC)(r)}},4426:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});const r=new Map;function s({fn:e,id:t,shouldSplitBatch:n,wait:s=0,sort:i}){const a=async()=>{const t=l();o();const n=t.map((({args:e})=>e));0!==n.length&&e(n).then((e=>{i&&Array.isArray(e)&&e.sort(i);for(let n=0;n<t.length;n++){const{pendingPromise:r}=t[n];r.resolve?.([e[n],e])}})).catch((e=>{for(let n=0;n<t.length;n++){const{pendingPromise:r}=t[n];r.reject?.(e)}}))},o=()=>r.delete(t),l=()=>r.get(t)||[],c=e=>r.set(t,[...l(),e]);return{flush:o,async schedule(e){const t={},r=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),i=n?.([...l().map((({args:e})=>e)),e]);i&&a();return l().length>0?(c({args:e,pendingPromise:t}),r):(c({args:e,pendingPromise:t}),setTimeout(a,s),r)}}}},305:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});const r=(e,t,n)=>JSON.stringify(e,((e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r}),n)},9362:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(589),s=n(31),i=n(2675),a=n(9955),o=n(151);function l(e){const{account:t,gasPrice:n,maxFeePerGas:l,maxPriorityFeePerGas:c,to:h}=e,u=t?(0,r.T)(t):void 0;if(u&&!(0,o.U)(u.address))throw new s.b({address:u.address});if(h&&!(0,o.U)(h))throw new s.b({address:h});if(void 0!==n&&(void 0!==l||void 0!==c))throw new a.xY;if(l&&l>2n**256n-1n)throw new i.Hh({maxFeePerGas:l});if(c&&l&&c>l)throw new i.cs({maxFeePerGas:l,maxPriorityFeePerGas:c})}},7631:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(3339),s=n(6613);function i(e,t="wei"){return(0,s.b)(e,r.ez[t])}},9589:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(3339),s=n(6613);function i(e,t="wei"){return(0,s.b)(e,r.Zn[t])}},6613:(e,t,n)=>{"use strict";function r(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}n.d(t,{b:()=>r})},924:(e,t,n)=>{"use strict";n.d(t,{iy:()=>yn,zZ:()=>An,QC:()=>u,KW:()=>h,c5:()=>c,Gy:()=>Sn,EX:()=>Tn,w$:()=>In,lx:()=>Cn});var r=n(8673);const s={"post-form-post-button":"Post","post-form-posting-button":"Posting...","global-post-list-empty-message":"No posts yet","following-post-list-empty-message":"No posts from followed users yet","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n","message-too-long-alert-title":"Message Length Exceeded","message-too-long-alert-message":"Your message is too long. The maximum allowed length is {maxLength} characters. Please shorten your message.","x-account-email-required-popup-title":"Add Your Email to X Account","x-account-email-required-popup-message-1":"Follow these simple steps to link an email address to your X account.","x-account-email-required-popup-step-1":'Navigate to "More" on the left-hand menu.',"x-account-email-required-popup-step-2":'Select "Settings and privacy."',"x-account-email-required-popup-step-3":'In "Settings," tap "Your account" and then "Account information" to manage your contact information.',"x-account-email-required-popup-step-4":'Choose the "Email" section to update or add your email address.',"x-account-email-required-popup-step-5":'Select "Add email address" and enter your preferred email into the pop-up window.',"x-account-email-required-popup-step-6":"Look out for a verification code sent to the provided email and enter it in the designated field.","x-account-email-required-popup-step-7":'Finalize the process by clicking "Verify," securely linking your email to your X account.',"x-account-email-required-popup-message-2":"Once you've completed these steps, your email should be added and verified on your X account.","pwa-install-popup-pc-title":"Installing {serviceName} on Your Computer","pwa-install-popup-pc-message-1":"Follow these simple steps to install {serviceName} to your computer for quick and easy access:\n","pwa-install-popup-pc-step-1":"Navigate to {serviceName} in your browser and click the install icon.","pwa-install-popup-pc-step-2":'In the "Install app?" popup, click "Install" to complete the process.',"pwa-install-popup-pc-message-2":"By following these simple steps, you can easily install {serviceName} on your computer and access it conveniently.","pwa-install-popup-android-title":"Installing {serviceName} on Android","pwa-install-popup-android-message-1":"Follow these simple steps to add {serviceName} to your Android device's home screen for quick and easy access:\n","pwa-install-popup-android-step-1":"Open {serviceName} website in your Android phone's web browser and tap on the three-dot menu icon located at the top right corner of the browser.","pwa-install-popup-android-step-2":'From the dropdown menu that appears, select the "Add to Home screen" option.',"pwa-install-popup-android-step-3":'A popup window titled "Add to Home screen" will open, displaying the name of the app. Tap on the "Add" button to confirm the installation.',"pwa-install-popup-android-step-4":"{serviceName} will now be installed on your Android phone's home screen, acting as a standalone app. You can launch it directly from the home screen, just like any other app.\n","pwa-install-popup-android-message-2":"By following these simple steps, you can easily install {serviceName} on your Android device and access it conveniently from your home screen.","pwa-install-popup-ios-title":"Installing {serviceName} on iOS","pwa-install-popup-ios-message-1":"You can easily install {serviceName} on your iOS device for quick access. Just follow these simple steps:\n","pwa-install-popup-ios-step-1":'While viewing {serviceName} website in Safari, tap the "Share" button (square with an up arrow) located at the bottom of the screen.',"pwa-install-popup-ios-step-2":"Scroll down the list of options in the Share menu that appears.","pwa-install-popup-ios-step-3":'Find and tap the "Add to Home Screen" option in the list.',"pwa-install-popup-ios-step-4":'Tap the "Add" button in the upper-right corner to finish adding {serviceName} to your iOS device\'s Home Screen.',"pwa-install-popup-ios-message-2":"The app will now appear on your Home Screen like a native app icon. Tapping this icon will quickly launch {serviceName} in a full-screen, app-like interface for easy access and use.","push-setting-popup-pc-app-title":"Enabling Push Notifications","push-setting-popup-pc-app-message-1":"Follow these steps to allow push notifications from {serviceName} on your your computer:\n","push-setting-popup-pc-app-step-1":"Open {serviceName} app. Click on the three-dot icon in the upper right corner of the screen to open the menu.","push-setting-popup-pc-app-step-2":'From the dropdown menu, select "App info".',"push-setting-popup-pc-app-step-3":"In the app info screen, click on the Settings (gear) icon in the upper right corner.","push-setting-popup-pc-app-step-4":'In the App settings screen, toggle the switch to the right of "Notifications" to enable push notifications for {serviceName} app.',"push-setting-popup-pc-app-message-2":'Once enabled, you will be able to receive push notifications from {serviceName} on your computer. Notifications can be disabled at any time by following the same steps and turning off the "Notifications" switch.',"push-setting-popup-pc-web-title":"Enabling Push Notifications","push-setting-popup-pc-web-message-1":"Follow these steps to allow push notifications from {serviceName} on your your computer:\n","push-setting-popup-pc-web-step-1":"Open the options menu by clicking the settings icon in the top left corner of the app.","push-setting-popup-pc-web-step-2":'Select "Site settings" from the options that appear.',"push-setting-popup-pc-web-step-3":'In the site settings, scroll down to the "Notifications" permission.',"push-setting-popup-pc-web-step-4":'Click the drop-down next to Notifications and select "Allow" to enable push notifications for {serviceName}.',"push-setting-popup-pc-web-step-5":"Reload the page to apply your updated notification settings.","push-setting-popup-pc-web-message-2":"Once enabled, you will be able to receive push notifications from {serviceName} on your computer. You can always change this permission later from the site settings if desired.","push-setting-popup-android-app-title":"Enabling Push Notifications","push-setting-popup-android-app-message-1":"Follow these steps to allow push notifications from {serviceName} on your Android device:\n","push-setting-popup-android-app-step-1":"Long press {serviceName} icon to open the Site Settings menu.","push-setting-popup-android-app-step-2":"In the Site Settings, tap on Notifications.","push-setting-popup-android-app-step-3":'Tap the switch next to "Allow notifications" to enable push notifications from {serviceName}.',"push-setting-popup-android-app-message-2":'Once enabled, you will be able to receive push notifications from {serviceName} on your Android device. Notifications can be disabled at any time by following the same steps and turning off the "Allow notifications" switch.',"push-setting-popup-android-web-title":"Enabling Push Notifications","push-setting-popup-android-web-message-1":"Follow these steps to allow push notifications from {serviceName} on your Android device:\n","push-setting-popup-android-web-step-1":"Open {serviceName} in your Android browser and tap the browser menu icon (typically three dots in the upper right corner).","push-setting-popup-android-web-step-2":'In the menu that appears, select "Permissions".',"push-setting-popup-android-web-step-3":'Tap on "Notifications" to open the notification permission settings for {serviceName}.',"push-setting-popup-android-web-step-4":'Tap the switch next to "Allow notifications" to enable push notifications from {serviceName}.',"push-setting-popup-android-web-message-2":'Once enabled, you will be able to receive push notifications from {serviceName} on your Android device. Notifications can be disabled at any time by following the same steps and turning off the "Allow notifications" switch.',"push-setting-popup-ios-title":"Enabling Push Notifications","push-setting-popup-ios-message-1":"Follow these steps to allow push notifications from {serviceName} on your iOS device:\n","push-setting-popup-ios-step-1":'Open the Settings app on your device and scroll down until you see the "Notifications" option and tap on it to open the Notifications settings screen.',"push-setting-popup-ios-step-2":'Scroll down the list of apps until you find "{serviceName}". Tap on it to open the notification settings for {serviceName}.',"push-setting-popup-ios-step-3":'On {serviceName} notification settings screen, tap the toggle switch next to "Allow Notifications" to turn on push notifications for the app.',"push-setting-popup-ios-message-2":'Once enabled, you will be able to receive push notifications from {serviceName} on your iOS device. Notifications can be disabled at any time by following the same steps and turning off the "Allow Notifications" switch.'},i=null,a=null,o=null,l=null;r.AE;class c extends r.GI{constructor(e){super(".pwa-install-popup",{barrierDismissible:!0}),r.yO.isMobileDevice?r.yO.isAndroid?(this.header.append((0,r.el)("h1",(0,r.WI)("pwa-install-popup-android-title",{serviceName:e})),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()})),this.main.append((0,r.el)("p",(0,r.WI)("pwa-install-popup-android-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("pwa-install-popup-android-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/android/1.jpg"})),(0,r.el)("li",(0,r.WI)("pwa-install-popup-android-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/android/2.jpg"})),(0,r.el)("li",(0,r.WI)("pwa-install-popup-android-step-3",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/android/3.jpg"})),(0,r.el)("li",(0,r.WI)("pwa-install-popup-android-step-4",{serviceName:e}))),(0,r.el)("p",(0,r.WI)("pwa-install-popup-android-message-2",{serviceName:e})))):(this.header.append((0,r.el)("h1",(0,r.WI)("pwa-install-popup-ios-title",{serviceName:e})),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()})),this.main.append((0,r.el)("p",(0,r.WI)("pwa-install-popup-ios-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("pwa-install-popup-ios-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/ios/1.jpg"})),(0,r.el)("li",(0,r.WI)("pwa-install-popup-ios-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/ios/2.jpg"})),(0,r.el)("li",(0,r.WI)("pwa-install-popup-ios-step-3",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/ios/3.jpg"})),(0,r.el)("li",(0,r.WI)("pwa-install-popup-ios-step-4",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/ios/4.jpg"}))),(0,r.el)("p",(0,r.WI)("pwa-install-popup-ios-message-2",{serviceName:e})))):(this.header.append((0,r.el)("h1",(0,r.WI)("pwa-install-popup-pc-title",{serviceName:e})),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()})),this.main.append((0,r.el)("p",(0,r.WI)("pwa-install-popup-pc-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("pwa-install-popup-pc-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/pc/1.jpg"})),(0,r.el)("li",(0,r.WI)("pwa-install-popup-pc-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/pwa-install-popup/pc/2.jpg"}))),(0,r.el)("p",(0,r.WI)("pwa-install-popup-pc-message-2",{serviceName:e})))),this.footer.append(new r.zx({tag:".confirm",title:"OK",click:()=>this.delete()}))}}class h extends r.AE{constructor(e,t){super(".pwa-install-overlay"),this.append((0,r.el)("h1",e),(0,r.el)("img.icon",{src:"/images/logo.png",alt:"Logo"}),(0,r.el)("h2","Add To Home Screen"),(0,r.el)("p",`To install ${e} app, you need to add this website to your home screen.`),new r.zx({type:r.L$.Contained,icon:new r.OL("download"),title:"How to Install",click:()=>new c(e)}),(0,r.el)("a.help",`What is ${e}?`,{href:t,target:"_blank"}))}}r.kj;r.G7;const u="*, author(user_id, display_name, avatar, avatar_thumb, stored_avatar, stored_avatar_thumb, x_username)";var d;!function(e){e[e.FOLLOW=0]="FOLLOW",e[e.POST_LIKE=1]="POST_LIKE",e[e.REPOST=2]="REPOST",e[e.POST_COMMENT=3]="POST_COMMENT",e[e.POST_TAG=4]="POST_TAG"}(d||(d={}));var p=n(4155);const f=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const s=e[t],i=t+1<e.length,a=i?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,c=s>>2,h=(3&s)<<4|a>>4;let u=(15&a)<<2|l>>6,d=63&l;o||(d=64,i||(u=64)),r.push(n[c],n[h],n[u],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const o=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==i||null==a||null==o)throw new g;const l=s<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class g extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(e){return function(e){const t=f(e);return m.encodeByteArray(t,!0)}(e).replace(/\./g,"")},b=function(e){try{return m.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const v=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,w=()=>{try{return v()||(()=>{if(void 0===p||void 0===p.env)return;const e=p.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&b(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},E=()=>{var e;return null===(e=w())||void 0===e?void 0:e.config};class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function x(){try{return"object"==typeof indexedDB}catch(e){return!1}}function A(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?function(e,t){return e.replace(S,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(s,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new _(r,a,n)}}const S=/\{\$([^}]+)}/g;function C(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(T(n)&&T(i)){if(!C(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function T(e){return null!==e&&"object"==typeof e}function I(e){return e&&e._delegate?e._delegate:e}class O{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const M="[DEFAULT]";class D{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new k;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:M})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=M){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=M){return this.instances.has(e)}getOptions(e=M){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===M?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=M){return this.component?this.component.multipleInstances?e:M:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const F=[];var B;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(B||(B={}));const R={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},L=B.INFO,j={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},U=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),s=j[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${r}]  ${e.name}:`,...n)};const G=(e,t)=>t.some((t=>e instanceof t));let V,z;const H=new WeakMap,$=new WeakMap,W=new WeakMap,q=new WeakMap,K=new WeakMap;let J={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $.get(e);if("objectStoreNames"===t)return e.objectStoreNames||W.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Z(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Q(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(X(this),t),Z(H.get(this))}:function(...t){return Z(e.apply(X(this),t))}:function(t,...n){const r=e.call(X(this),t,...n);return W.set(r,t.sort?t.sort():[t]),Z(r)}}function Y(e){return"function"==typeof e?Q(e):(e instanceof IDBTransaction&&function(e){if($.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));$.set(e,t)}(e),G(e,V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,J):e)}function Z(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Z(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&H.set(t,e)})).catch((()=>{})),K.set(t,e),t}(e);if(q.has(e))return q.get(e);const t=Y(e);return t!==e&&(q.set(e,t),K.set(t,e)),t}const X=e=>K.get(e);function ee(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=Z(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Z(a.result),e.oldVersion,e.newVersion,Z(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}function te(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),Z(n).then((()=>{}))}const ne=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],se=new Map;function ie(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(se.get(t))return se.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=re.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!ne.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,s?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),s&&i.done]))[0]};return se.set(t,i),i}J=(e=>({...e,get:(t,n,r)=>ie(t,n)||e.get(t,n,r),has:(t,n)=>!!ie(t,n)||e.has(t,n)}))(J);class ae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const oe="@firebase/app",le="0.9.28",ce=new class{constructor(e){this.name=e,this._logLevel=L,this._logHandler=U,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in B))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...e),this._logHandler(this,B.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...e),this._logHandler(this,B.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,B.INFO,...e),this._logHandler(this,B.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,B.WARN,...e),this._logHandler(this,B.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...e),this._logHandler(this,B.ERROR,...e)}}("@firebase/app"),he="[DEFAULT]",ue={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},de=new Map,pe=new Map;function fe(e,t){try{e.container.addComponent(t)}catch(n){ce.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function me(e){const t=e.name;if(pe.has(t))return ce.debug(`There were multiple attempts to register component ${t}.`),!1;pe.set(t,e);for(const t of de.values())fe(t,e);return!0}function ge(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ye=new P("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class be{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new O("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ye.create("app-deleted",{appName:this._name})}}function ve(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:he,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!=typeof s||!s)throw ye.create("bad-app-name",{appName:String(s)});if(n||(n=E()),!n)throw ye.create("no-options");const i=de.get(s);if(i){if(C(n,i.options)&&C(r,i.config))return i;throw ye.create("duplicate-app",{appName:s})}const a=new N(s);for(const e of pe.values())a.addComponent(e);const o=new be(n,r,a);return de.set(s,o),o}function we(e,t,n){var r;let s=null!==(r=ue[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${s}" with version "${t}":`];return i&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ce.warn(e.join(" "))}me(new O(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const Ee="firebase-heartbeat-database",ke=1,xe="firebase-heartbeat-store";let Ae=null;function _e(){return Ae||(Ae=ee(Ee,ke,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xe)}catch(e){console.warn(e)}}}).catch((e=>{throw ye.create("idb-open",{originalErrorMessage:e.message})}))),Ae}async function Pe(e,t){try{const n=(await _e()).transaction(xe,"readwrite"),r=n.objectStore(xe);await r.put(t,Se(e)),await n.done}catch(e){if(e instanceof _)ce.warn(e.message);else{const t=ye.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});ce.warn(t.message)}}}function Se(e){return`${e.name}!${e.options.appId}`}class Ce{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ie(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Te();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Te(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Oe(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Oe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=y(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Te(){return(new Date).toISOString().substring(0,10)}class Ie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!x()&&A().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _e()).transaction(xe),n=await t.objectStore(xe).get(Se(e));return await t.done,n}catch(e){if(e instanceof _)ce.warn(e.message);else{const t=ye.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});ce.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Oe(e){return y(JSON.stringify({version:2,heartbeats:e})).length}var Me;Me="",me(new O("platform-logger",(e=>new ae(e)),"PRIVATE")),me(new O("heartbeat",(e=>new Ce(e)),"PRIVATE")),we(oe,le,Me),we(oe,le,"esm2017"),we("fire-js","");we("firebase","10.8.1","app");const De="@firebase/installations",Ne="0.6.5",Fe=1e4,Be=`w:${Ne}`,Re="FIS_v2",Le="https://firebaseinstallations.googleapis.com/v1",je=36e5,Ue=new P("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(e){return e instanceof _&&e.code.includes("request-failed")}function Ve({projectId:e}){return`${Le}/projects/${e}/installations`}function ze(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function He(e,t){const n=(await t.json()).error;return Ue.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function $e({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function We(e,{refreshToken:t}){const n=$e(e);return n.append("Authorization",function(e){return`${Re} ${e}`}(t)),n}async function qe(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ke(e){return new Promise((t=>{setTimeout(t,e)}))}const Je=/^[cdef][\w-]{21}$/,Qe="";function Ye(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Je.test(t)?t:Qe}catch(e){return Qe}}function Ze(e){return`${e.appName}!${e.appId}`}const Xe=new Map;function et(e,t){const n=Ze(e);tt(n,t),function(e,t){const n=rt();n&&n.postMessage({key:e,fid:t});st()}(n,t)}function tt(e,t){const n=Xe.get(e);if(n)for(const e of n)e(t)}let nt=null;function rt(){return!nt&&"BroadcastChannel"in self&&(nt=new BroadcastChannel("[Firebase] FID Change"),nt.onmessage=e=>{tt(e.data.key,e.data.fid)}),nt}function st(){0===Xe.size&&nt&&(nt.close(),nt=null)}const it="firebase-installations-database",at=1,ot="firebase-installations-store";let lt=null;function ct(){return lt||(lt=ee(it,at,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ot)}})),lt}async function ht(e,t){const n=Ze(e),r=(await ct()).transaction(ot,"readwrite"),s=r.objectStore(ot),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||et(e,t.fid),t}async function ut(e){const t=Ze(e),n=(await ct()).transaction(ot,"readwrite");await n.objectStore(ot).delete(t),await n.done}async function dt(e,t){const n=Ze(e),r=(await ct()).transaction(ot,"readwrite"),s=r.objectStore(ot),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||et(e,a.fid),a}async function pt(e){let t;const n=await dt(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Ye(),registrationStatus:0};return gt(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Ue.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Ve(e),s=$e(e),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={fid:n,authVersion:Re,appId:e.appId,sdkVersion:Be},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await qe((()=>fetch(r,o)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:ze(e.authToken)}}throw await He("Create Installation",l)}(e,t);return ht(e.appConfig,n)}catch(n){throw Ge(n)&&409===n.customData.serverCode?await ut(e.appConfig):await ht(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ft(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry}));return n.fid===Qe?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ft(e){let t=await mt(e.appConfig);for(;1===t.registrationStatus;)await Ke(100),t=await mt(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await pt(e);return n||t}return t}function mt(e){return dt(e,(e=>{if(!e)throw Ue.create("installation-not-found");return gt(e)}))}function gt(e){return 1===(t=e).registrationStatus&&t.registrationTime+Fe<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function yt({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Ve(e)}/${t}/authTokens:generate`}(e,n),s=We(e,n),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:Be,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await qe((()=>fetch(r,o)));if(l.ok){return ze(await l.json())}throw await He("Generate Auth Token",l)}async function bt(e,t=!1){let n;const r=await dt(e.appConfig,(r=>{if(!wt(r))throw Ue.create("not-registered");const s=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+je}(e)}(s))return r;if(1===s.requestStatus)return n=async function(e,t){let n=await vt(e.appConfig);for(;1===n.authToken.requestStatus;)await Ke(100),n=await vt(e.appConfig);const r=n.authToken;return 0===r.requestStatus?bt(e,t):r}(e,t),r;{if(!navigator.onLine)throw Ue.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await yt(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ht(e.appConfig,r),n}catch(n){if(!Ge(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ht(e.appConfig,n)}else await ut(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function vt(e){return dt(e,(e=>{if(!wt(e))throw Ue.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Fe<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function wt(e){return void 0!==e&&2===e.registrationStatus}async function Et(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await pt(e);t&&await t}(n);return(await bt(n,t)).token}function kt(e){return Ue.create("missing-app-config-values",{valueName:e})}const xt="installations",At=e=>{const t=ge(e.getProvider("app").getImmediate(),xt).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await pt(t);return r?r.catch(console.error):bt(t).catch(console.error),n.fid}(t),getToken:e=>Et(t,e)}};me(new O(xt,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw kt("App Configuration");if(!e.name)throw kt("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw kt(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ge(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),me(new O("installations-internal",At,"PRIVATE")),we(De,Ne),we(De,Ne,"esm2017");const _t="/firebase-messaging-sw.js",Pt="/firebase-cloud-messaging-push-scope",St="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ct="https://fcmregistrations.googleapis.com/v1",Tt="google.c.a.c_id",It="google.c.a.c_l",Ot="google.c.a.ts";var Mt,Dt;function Nt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ft(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Mt||(Mt={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Dt||(Dt={}));const Bt="fcm_token_details_db",Rt=5,Lt="fcm_token_object_Store";const jt="firebase-messaging-database",Ut=1,Gt="firebase-messaging-store";let Vt=null;function zt(){return Vt||(Vt=ee(jt,Ut,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Gt)}})),Vt}async function Ht(e){const t=Wt(e),n=await zt(),r=await n.transaction(Gt).objectStore(Gt).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(Bt))return null}let t=null;return(await ee(Bt,Rt,{upgrade:async(n,r,s,i)=>{var a;if(r<2)return;if(!n.objectStoreNames.contains(Lt))return;const o=i.objectStore(Lt),l=await o.index("fcmSenderId").get(e);if(await o.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Nt(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Nt(e.auth),p256dh:Nt(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Nt(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Nt(e.auth),p256dh:Nt(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Nt(e.vapidKey)}}}}})).close(),await te(Bt),await te("fcm_vapid_details_db"),await te("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await $t(e,t),t}}async function $t(e,t){const n=Wt(e),r=(await zt()).transaction(Gt,"readwrite");return await r.objectStore(Gt).put(t,n),await r.done,t}function Wt({appConfig:e}){return e.appId}const qt=new P("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Kt(e,t){const n={method:"DELETE",headers:await Qt(e)};try{const r=await fetch(`${Jt(e.appConfig)}/${t}`,n),s=await r.json();if(s.error){const e=s.error.message;throw qt.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw qt.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function Jt({projectId:e}){return`${Ct}/projects/${e}/registrations`}async function Qt({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Yt({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==St&&(s.web.applicationPubKey=r),s}const Zt=6048e5;async function Xt(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ft(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Nt(t.getKey("auth")),p256dh:Nt(t.getKey("p256dh"))},r=await Ht(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,s=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&s&&i}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Zt?async function(e,t){try{const n=await async function(e,t){const n=await Qt(e),r=Yt(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{const n=await fetch(`${Jt(e.appConfig)}/${t.token}`,s);i=await n.json()}catch(e){throw qt.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw qt.create("token-update-failed",{errorInfo:e})}if(!i.token)throw qt.create("token-update-no-token");return i.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await $t(e.firebaseDependencies,r),n}catch(t){throw await en(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Kt(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return tn(e.firebaseDependencies,n)}return tn(e.firebaseDependencies,n)}async function en(e){const t=await Ht(e.firebaseDependencies);t&&(await Kt(e.firebaseDependencies,t.token),await async function(e){const t=Wt(e),n=(await zt()).transaction(Gt,"readwrite");await n.objectStore(Gt).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function tn(e,t){const n=await async function(e,t){const n=await Qt(e),r=Yt(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{const t=await fetch(Jt(e.appConfig),s);i=await t.json()}catch(e){throw qt.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw qt.create("token-subscribe-failed",{errorInfo:e})}if(!i.token)throw qt.create("token-subscribe-no-token");return i.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await $t(e,r),r.token}function nn(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s);const i=t.notification.icon;i&&(e.notification.icon=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,s,i,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const o=null!==(s=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==s?s:null===(i=t.notification)||void 0===i?void 0:i.click_action;o&&(e.fcmOptions.link=o);const l=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function rn(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function sn(e){return qt.create("missing-app-config-values",{valueName:e})}rn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class an{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw sn("App Configuration Object");if(!e.name)throw sn("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw sn(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function on(e){try{e.swRegistration=await navigator.serviceWorker.register(_t,{scope:Pt}),e.swRegistration.update().catch((()=>{}))}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}async function ln(e,t){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw qt.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=St)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await on(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),Xt(e)}async function cn(e,t,n){const r=function(e){switch(e){case Dt.NOTIFICATION_CLICKED:return"notification_open";case Dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Tt],message_name:n[It],message_time:n[Ot],message_device_time:Math.floor(Date.now()/1e3)})}async function hn(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Dt.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(nn(n)):e.onMessageHandler.next(nn(n)));const r=n.data;var s;"object"==typeof(s=r)&&s&&Tt in s&&"1"===r["google.c.a.e"]&&await cn(e,n.messageType,r)}const un="@firebase/messaging",dn="0.12.6",pn=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>ln(t,e)}};async function fn(){try{await A()}catch(e){return!1}return"undefined"!=typeof window&&x()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function mn(e=function(e=he){const t=de.get(e);if(!t&&e===he&&E())return ve();if(!t)throw ye.create("no-app",{appName:e});return t}()){return fn().then((e=>{if(!e)throw qt.create("unsupported-browser")}),(e=>{throw qt.create("indexed-db-unsupported")})),ge(I(e),"messaging").getImmediate()}me(new O("messaging",(e=>{const t=new an(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>hn(t,e))),t}),"PUBLIC")),me(new O("messaging-internal",pn,"PRIVATE")),we(un,dn),we(un,dn,"esm2017");class gn extends r.nd{vapidKey;app;messaging;init(e,t){this.app=ve(e),this.messaging=mn(this.app),this.vapidKey=t}async requestPermissionAndSaveToken(){if("granted"===("granted"===Notification.permission?"granted":await new Promise((e=>{Notification.requestPermission((t=>e(t)))})))){const e=await async function(e,t){return ln(e=I(e),t)}(this.messaging,{vapidKey:this.vapidKey}),{error:t}=await r.JA.client.functions.invoke("store-fcm-token",{body:{fcmToken:e}});if(t)throw t;return!0}return!1}}const yn=new gn;class bn extends r.TZ{constructor(){super("fcm_subscribed_topics","topic",100)}async fetchAll(e){return await this.safeSelect((t=>t.eq("user_id",e)),1e3)}}const vn=new bn;class wn extends r.nd{subscribedTopics=new Set;constructor(){super(),this.addAllowedEvents("subscribe","unsubscribe")}async loadSignedUserSubscribedTopics(e){const t=await vn.fetchAll(e);for(const e of t)this.subscribedTopics.add(e.topic)}async subscribe(e){this.subscribedTopics.add(e),this.fireEvent("subscribe",e);const{error:t}=await r.JA.client.functions.invoke("subscribe-fcm-topic",{body:{topic:e}});if(t)throw t}async unsubscribe(e){this.subscribedTopics.delete(e),this.fireEvent("unsubscribe",e);const{error:t}=await r.JA.client.functions.invoke("unsubscribe-fcm-topic",{body:{topic:e}});if(t)throw t}isSubscribed(e){return this.subscribedTopics.has(e)}}const En=new wn;class kn extends r.TZ{constructor(){super("feedbacks","*",50)}async createFeedback(e){await this.safeInsert(e)}}const xn=new kn;class An extends r.SN{input;submitButton;constructor(e){super(".leave-feedback-modal",{barrierDismissible:!0}),this.title="Leave Feedback",this.main.append((0,r.el)("form",this.input=(0,r.el)("textarea",{placeholder:"Leave feedback here"}),this.submitButton=new r.zx({tag:".submit",type:r.L$.Contained,title:"Submit"}),{submit:async t=>{t.preventDefault(),this.submitButton.loading=!0;try{await xn.createFeedback({user_id:e,feedback:this.input.domElement.value}),new r.bZ({title:"Feedback submitted",message:"Thank you for your feedback!"}),this.delete()}catch(e){console.error(e),this.submitButton.loading=!1}}}))}}class _n extends r.TZ{followeeIds=new Set;constructor(){super("follows","*",1e3),this.addAllowedEvents("follow","unfollow")}async fetchSignedUserFollows(e){const t=await this.safeSelect((t=>t.eq("follower_id",e)));for(const e of t)this.followeeIds.add(e.followee_id)}follow(e){this.followeeIds.add(e),this.fireEvent("follow",e),this.safeInsert({followee_id:e})}unfollow(e){this.followeeIds.delete(e),this.fireEvent("unfollow",e),this.safeDelete((t=>t.eq("followee_id",e)))}isFollowing(e){return this.followeeIds.has(e)}toggleFollow(e){this.isFollowing(e)?this.unfollow(e):this.follow(e)}}const Pn=new _n;class Sn extends r.GI{constructor(e){super(".push-setting-popup",{barrierDismissible:!0}),r.yO.isMobileDevice?r.yO.isAndroid?r.yO.installed?(this.header.append((0,r.el)("h1",(0,r.WI)("push-setting-popup-android-app-title",{serviceName:e}),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()}))),this.main.append((0,r.el)("p",(0,r.WI)("push-setting-popup-android-app-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("push-setting-popup-android-app-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/android/app/1.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-android-app-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/android/app/2.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-android-app-step-3",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/android/app/3.jpg"}))),(0,r.el)("p",(0,r.WI)("push-setting-popup-android-app-message-2",{serviceName:e})))):(this.header.append((0,r.el)("h1",(0,r.WI)("push-setting-popup-android-web-title",{serviceName:e}),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()}))),this.main.append((0,r.el)("p",(0,r.WI)("push-setting-popup-android-web-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("push-setting-popup-android-web-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/android/web/1.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-android-web-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/android/web/2.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-android-web-step-3",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/android/web/3.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-android-web-step-4",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/android/web/4.jpg"}))),(0,r.el)("p",(0,r.WI)("push-setting-popup-android-web-message-2",{serviceName:e})))):(this.header.append((0,r.el)("h1",(0,r.WI)("push-setting-popup-ios-title",{serviceName:e})),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()})),this.main.append((0,r.el)("p",(0,r.WI)("push-setting-popup-ios-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("push-setting-popup-ios-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/ios/1.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-ios-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/ios/2.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-ios-step-3",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/ios/3.jpg"}))),(0,r.el)("p",(0,r.WI)("push-setting-popup-ios-message-2",{serviceName:e})))):r.yO.installed?(this.header.append((0,r.el)("h1",(0,r.WI)("push-setting-popup-pc-app-title",{serviceName:e}),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()}))),this.main.append((0,r.el)("p",(0,r.WI)("push-setting-popup-pc-app-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-app-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/app/1.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-app-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/app/2.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-app-step-3",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/app/3.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-app-step-4",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/app/4.jpg"}))),(0,r.el)("p",(0,r.WI)("push-setting-popup-pc-app-message-2",{serviceName:e})))):(this.header.append((0,r.el)("h1",(0,r.WI)("push-setting-popup-pc-web-title",{serviceName:e}),new r.zx({tag:".close",type:r.L$.Circle,icon:new r.OL("close"),click:()=>this.delete()}))),this.main.append((0,r.el)("p",(0,r.WI)("push-setting-popup-pc-web-message-1",{serviceName:e})),(0,r.el)("ol",(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-web-step-1",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/web/1.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-web-step-2",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/web/2.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-web-step-3",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/web/3.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-web-step-4",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/web/4.jpg"})),(0,r.el)("li",(0,r.WI)("push-setting-popup-pc-web-step-5",{serviceName:e}),(0,r.el)("img",{src:"/images/push-setting-popup/pc/web/5.jpg"}))),(0,r.el)("p",(0,r.WI)("push-setting-popup-pc-web-message-2",{serviceName:e})))),this.footer.append(new r.zx({tag:".confirm",title:"OK",click:()=>this.delete()}))}}r.GI;function Cn(){r.WI.setMessages({en:s,zh:a,"zh-tw":l,"zh-hk":o,ja:i})}r.kj;r.TZ;r.G7;r.G7;r.G7;r.TZ;class Tn extends r.nd{user;get signed(){return void 0!==this.user}constructor(){super(),this.addAllowedEvents("walletLinked")}async init(e,t){const{data:n,error:s}=await r.JA.client.auth.getSession();if(s)throw s;const i=n?.session?.user;i&&([this.user]=await Promise.all([this.fetchUser(i.id),e?.fetchFollows?Pn.fetchSignedUserFollows(i.id):void 0,e?.fetchTopics?En.loadSignedUserSubscribedTopics(i.id):void 0,t?.(i.id)]),yn.requestPermissionAndSaveToken())}async signOut(){await r.JA.signOut(),location.reload()}async deleteAccount(){const{error:e}=await r.JA.client.functions.invoke("delete-account");if(e)throw e;this.signOut()}}class In extends r.KD{async fetchByXUsername(e){return await this.safeSelectSingle((t=>t.eq("x_username",e)))}}}},__webpack_module_cache__={},webpackQueues,webpackExports,webpackError,resolveQueue,leafPrototypes,getProto,inProgress;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},webpackQueues="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",webpackError="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},__webpack_require__.a=(e,t,n)=>{var r;n&&((r=[]).d=-1);var s,i,a,o=new Set,l=e.exports,c=new Promise(((e,t)=>{a=t,i=e}));c[webpackExports]=l,c[webpackQueues]=e=>(r&&e(r),o.forEach(e),c.catch((e=>{}))),e.exports=c,t((e=>{var t;s=(e=>e.map((e=>{if(null!==e&&"object"==typeof e){if(e[webpackQueues])return e;if(e.then){var t=[];t.d=0,e.then((e=>{n[webpackExports]=e,resolveQueue(t)}),(e=>{n[webpackError]=e,resolveQueue(t)}));var n={};return n[webpackQueues]=e=>e(t),n}}var r={};return r[webpackQueues]=e=>{},r[webpackExports]=e,r})))(e);var n=()=>s.map((e=>{if(e[webpackError])throw e[webpackError];return e[webpackExports]})),i=new Promise((e=>{(t=()=>e(n)).r=0;var i=e=>e!==r&&!o.has(e)&&(o.add(e),e&&!e.d&&(t.r++,e.push(t)));s.map((e=>e[webpackQueues](i)))}));return t.r?i:n()}),(e=>(e?a(c[webpackError]=e):i(l),resolveQueue(r)))),r&&r.d<0&&(r.d=0)},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var s=2&t&&e;"object"==typeof s&&!~leafPrototypes.indexOf(s);s=getProto(s))Object.getOwnPropertyNames(s).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var s,i;if(void 0!==n)for(var a=document.getElementsByTagName("script"),o=0;o<a.length;o++){var l=a[o];if(l.getAttribute("src")==e){s=l;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.src=e),inProgress[e]=[t];var c=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var r=inProgress[e];if(delete inProgress[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},h=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),i&&document.head.appendChild(s)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={296:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,s)=>r=e[t]=[n,s]));n.push(r[2]=s);var i=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(i,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[i,a,o]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(o)o(__webpack_require__)}for(t&&t(n);l<i.length;l++)s=i[l],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__=__webpack_require__(5168)})();